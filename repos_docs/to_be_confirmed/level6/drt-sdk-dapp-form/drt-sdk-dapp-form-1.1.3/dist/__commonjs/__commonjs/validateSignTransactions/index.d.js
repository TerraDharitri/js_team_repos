"use strict";var en=Object.create;var Ee=Object.defineProperty;var tn=Object.getOwnPropertyDescriptor;var nn=Object.getOwnPropertyNames;var on=Object.getPrototypeOf,un=Object.prototype.hasOwnProperty;var an=(o,t)=>()=>(o&&(t=o(o=0)),t);var vr=(o,t)=>()=>(t||o((t={exports:{}}).exports,t),t.exports);var jr=(o,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of nn(t))!un.call(o,s)&&s!==n&&Ee(o,s,{get:()=>t[s],enumerable:!(a=tn(t,s))||a.enumerable});return o},J=(o,t,n)=>(jr(o,t,"default"),n&&jr(n,t,"default")),Wr=(o,t,n)=>(n=o!=null?en(on(o)):{},jr(t||!o||!o.__esModule?Ee(n,"default",{value:o,enumerable:!0}):n,o)),fn=o=>jr(Ee({},"__esModule",{value:!0}),o);var $e=vr(zr=>{"use strict";V();zr.byteLength=ln;zr.toByteArray=cn;zr.fromByteArray=dn;var K=[],$=[],sn=typeof Uint8Array!="undefined"?Uint8Array:Array,be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(cr=0,Ve=be.length;cr<Ve;++cr)K[cr]=be[cr],$[be.charCodeAt(cr)]=cr;var cr,Ve;$["-".charCodeAt(0)]=62;$["_".charCodeAt(0)]=63;function Ye(o){var t=o.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=o.indexOf("=");n===-1&&(n=t);var a=n===t?0:4-n%4;return[n,a]}function ln(o){var t=Ye(o),n=t[0],a=t[1];return(n+a)*3/4-a}function hn(o,t,n){return(t+n)*3/4-n}function cn(o){var t,n=Ye(o),a=n[0],s=n[1],h=new sn(hn(o,a,s)),l=0,u=s>0?a-4:a,y;for(y=0;y<u;y+=4)t=$[o.charCodeAt(y)]<<18|$[o.charCodeAt(y+1)]<<12|$[o.charCodeAt(y+2)]<<6|$[o.charCodeAt(y+3)],h[l++]=t>>16&255,h[l++]=t>>8&255,h[l++]=t&255;return s===2&&(t=$[o.charCodeAt(y)]<<2|$[o.charCodeAt(y+1)]>>4,h[l++]=t&255),s===1&&(t=$[o.charCodeAt(y)]<<10|$[o.charCodeAt(y+1)]<<4|$[o.charCodeAt(y+2)]>>2,h[l++]=t>>8&255,h[l++]=t&255),h}function pn(o){return K[o>>18&63]+K[o>>12&63]+K[o>>6&63]+K[o&63]}function yn(o,t,n){for(var a,s=[],h=t;h<n;h+=3)a=(o[h]<<16&16711680)+(o[h+1]<<8&65280)+(o[h+2]&255),s.push(pn(a));return s.join("")}function dn(o){for(var t,n=o.length,a=n%3,s=[],h=16383,l=0,u=n-a;l<u;l+=h)s.push(yn(o,l,l+h>u?u:l+h));return a===1?(t=o[n-1],s.push(K[t>>2]+K[t<<4&63]+"==")):a===2&&(t=(o[n-2]<<8)+o[n-1],s.push(K[t>>10]+K[t>>4&63]+K[t<<2&63]+"=")),s.join("")}});var He=vr(Te=>{V();Te.read=function(o,t,n,a,s){var h,l,u=s*8-a-1,y=(1<<u)-1,g=y>>1,v=-7,w=n?s-1:0,B=n?-1:1,L=o[t+w];for(w+=B,h=L&(1<<-v)-1,L>>=-v,v+=u;v>0;h=h*256+o[t+w],w+=B,v-=8);for(l=h&(1<<-v)-1,h>>=-v,v+=a;v>0;l=l*256+o[t+w],w+=B,v-=8);if(h===0)h=1-g;else{if(h===y)return l?NaN:(L?-1:1)*(1/0);l=l+Math.pow(2,a),h=h-g}return(L?-1:1)*l*Math.pow(2,h-a)};Te.write=function(o,t,n,a,s,h){var l,u,y,g=h*8-s-1,v=(1<<g)-1,w=v>>1,B=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,L=a?0:h-1,b=a?1:-1,A=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,l=v):(l=Math.floor(Math.log(t)/Math.LN2),t*(y=Math.pow(2,-l))<1&&(l--,y*=2),l+w>=1?t+=B/y:t+=B*Math.pow(2,1-w),t*y>=2&&(l++,y/=2),l+w>=v?(u=0,l=v):l+w>=1?(u=(t*y-1)*Math.pow(2,s),l=l+w):(u=t*Math.pow(2,w-1)*Math.pow(2,s),l=0));s>=8;o[n+L]=u&255,L+=b,u/=256,s-=8);for(l=l<<s|u,g+=s;g>0;o[n+L]=l&255,L+=b,l/=256,g-=8);o[n+L-b]|=A*128}});var at=vr(Er=>{"use strict";V();var Ae=$e(),mr=He(),Ze=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Er.Buffer=m;Er.SlowBuffer=bn;Er.INSPECT_MAX_BYTES=50;var Vr=2147483647;Er.kMaxLength=Vr;m.TYPED_ARRAY_SUPPORT=gn();!m.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function gn(){try{var o=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(o,t),o.foo()===42}catch(n){return!1}}Object.defineProperty(m.prototype,"parent",{enumerable:!0,get:function(){if(!!m.isBuffer(this))return this.buffer}});Object.defineProperty(m.prototype,"offset",{enumerable:!0,get:function(){if(!!m.isBuffer(this))return this.byteOffset}});function or(o){if(o>Vr)throw new RangeError('The value "'+o+'" is invalid for option "size"');var t=new Uint8Array(o);return Object.setPrototypeOf(t,m.prototype),t}function m(o,t,n){if(typeof o=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return qe(o)}return Ke(o,t,n)}m.poolSize=8192;function Ke(o,t,n){if(typeof o=="string")return wn(o,t);if(ArrayBuffer.isView(o))return mn(o);if(o==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(Q(o,ArrayBuffer)||o&&Q(o.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Q(o,SharedArrayBuffer)||o&&Q(o.buffer,SharedArrayBuffer)))return Be(o,t,n);if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var a=o.valueOf&&o.valueOf();if(a!=null&&a!==o)return m.from(a,t,n);var s=En(o);if(s)return s;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof o[Symbol.toPrimitive]=="function")return m.from(o[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}m.from=function(o,t,n){return Ke(o,t,n)};Object.setPrototypeOf(m.prototype,Uint8Array.prototype);Object.setPrototypeOf(m,Uint8Array);function Qe(o){if(typeof o!="number")throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function vn(o,t,n){return Qe(o),o<=0?or(o):t!==void 0?typeof n=="string"?or(o).fill(t,n):or(o).fill(t):or(o)}m.alloc=function(o,t,n){return vn(o,t,n)};function qe(o){return Qe(o),or(o<0?0:Ue(o)|0)}m.allocUnsafe=function(o){return qe(o)};m.allocUnsafeSlow=function(o){return qe(o)};function wn(o,t){if((typeof t!="string"||t==="")&&(t="utf8"),!m.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=rt(o,t)|0,a=or(n),s=a.write(o,t);return s!==n&&(a=a.slice(0,s)),a}function xe(o){for(var t=o.length<0?0:Ue(o.length)|0,n=or(t),a=0;a<t;a+=1)n[a]=o[a]&255;return n}function mn(o){if(Q(o,Uint8Array)){var t=new Uint8Array(o);return Be(t.buffer,t.byteOffset,t.byteLength)}return xe(o)}function Be(o,t,n){if(t<0||o.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var a;return t===void 0&&n===void 0?a=new Uint8Array(o):n===void 0?a=new Uint8Array(o,t):a=new Uint8Array(o,t,n),Object.setPrototypeOf(a,m.prototype),a}function En(o){if(m.isBuffer(o)){var t=Ue(o.length)|0,n=or(t);return n.length===0||o.copy(n,0,0,t),n}if(o.length!==void 0)return typeof o.length!="number"||De(o.length)?or(0):xe(o);if(o.type==="Buffer"&&Array.isArray(o.data))return xe(o.data)}function Ue(o){if(o>=Vr)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Vr.toString(16)+" bytes");return o|0}function bn(o){return+o!=o&&(o=0),m.alloc(+o)}m.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==m.prototype};m.compare=function(t,n){if(Q(t,Uint8Array)&&(t=m.from(t,t.offset,t.byteLength)),Q(n,Uint8Array)&&(n=m.from(n,n.offset,n.byteLength)),!m.isBuffer(t)||!m.isBuffer(n))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===n)return 0;for(var a=t.length,s=n.length,h=0,l=Math.min(a,s);h<l;++h)if(t[h]!==n[h]){a=t[h],s=n[h];break}return a<s?-1:s<a?1:0};m.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};m.concat=function(t,n){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return m.alloc(0);var a;if(n===void 0)for(n=0,a=0;a<t.length;++a)n+=t[a].length;var s=m.allocUnsafe(n),h=0;for(a=0;a<t.length;++a){var l=t[a];if(Q(l,Uint8Array))h+l.length>s.length?m.from(l).copy(s,h):Uint8Array.prototype.set.call(s,l,h);else if(m.isBuffer(l))l.copy(s,h);else throw new TypeError('"list" argument must be an Array of Buffers');h+=l.length}return s};function rt(o,t){if(m.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||Q(o,ArrayBuffer))return o.byteLength;if(typeof o!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);var n=o.length,a=arguments.length>2&&arguments[2]===!0;if(!a&&n===0)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Ie(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return ut(o).length;default:if(s)return a?-1:Ie(o).length;t=(""+t).toLowerCase(),s=!0}}m.byteLength=rt;function Tn(o,t,n){var a=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,t>>>=0,n<=t))return"";for(o||(o="utf8");;)switch(o){case"hex":return Ln(this,t,n);case"utf8":case"utf-8":return tt(this,t,n);case"ascii":return Sn(this,t,n);case"latin1":case"binary":return Cn(this,t,n);case"base64":return Un(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Fn(this,t,n);default:if(a)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),a=!0}}m.prototype._isBuffer=!0;function dr(o,t,n){var a=o[t];o[t]=o[n],o[n]=a}m.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)dr(this,n,n+1);return this};m.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)dr(this,n,n+3),dr(this,n+1,n+2);return this};m.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)dr(this,n,n+7),dr(this,n+1,n+6),dr(this,n+2,n+5),dr(this,n+3,n+4);return this};m.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?tt(this,0,t):Tn.apply(this,arguments)};m.prototype.toLocaleString=m.prototype.toString;m.prototype.equals=function(t){if(!m.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:m.compare(this,t)===0};m.prototype.inspect=function(){var t="",n=Er.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"};Ze&&(m.prototype[Ze]=m.prototype.inspect);m.prototype.compare=function(t,n,a,s,h){if(Q(t,Uint8Array)&&(t=m.from(t,t.offset,t.byteLength)),!m.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(n===void 0&&(n=0),a===void 0&&(a=t?t.length:0),s===void 0&&(s=0),h===void 0&&(h=this.length),n<0||a>t.length||s<0||h>this.length)throw new RangeError("out of range index");if(s>=h&&n>=a)return 0;if(s>=h)return-1;if(n>=a)return 1;if(n>>>=0,a>>>=0,s>>>=0,h>>>=0,this===t)return 0;for(var l=h-s,u=a-n,y=Math.min(l,u),g=this.slice(s,h),v=t.slice(n,a),w=0;w<y;++w)if(g[w]!==v[w]){l=g[w],u=v[w];break}return l<u?-1:u<l?1:0};function et(o,t,n,a,s){if(o.length===0)return-1;if(typeof n=="string"?(a=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,De(n)&&(n=s?0:o.length-1),n<0&&(n=o.length+n),n>=o.length){if(s)return-1;n=o.length-1}else if(n<0)if(s)n=0;else return-1;if(typeof t=="string"&&(t=m.from(t,a)),m.isBuffer(t))return t.length===0?-1:Xe(o,t,n,a,s);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(o,t,n):Uint8Array.prototype.lastIndexOf.call(o,t,n):Xe(o,[t],n,a,s);throw new TypeError("val must be string, number or Buffer")}function Xe(o,t,n,a,s){var h=1,l=o.length,u=t.length;if(a!==void 0&&(a=String(a).toLowerCase(),a==="ucs2"||a==="ucs-2"||a==="utf16le"||a==="utf-16le")){if(o.length<2||t.length<2)return-1;h=2,l/=2,u/=2,n/=2}function y(L,b){return h===1?L[b]:L.readUInt16BE(b*h)}var g;if(s){var v=-1;for(g=n;g<l;g++)if(y(o,g)===y(t,v===-1?0:g-v)){if(v===-1&&(v=g),g-v+1===u)return v*h}else v!==-1&&(g-=g-v),v=-1}else for(n+u>l&&(n=l-u),g=n;g>=0;g--){for(var w=!0,B=0;B<u;B++)if(y(o,g+B)!==y(t,B)){w=!1;break}if(w)return g}return-1}m.prototype.includes=function(t,n,a){return this.indexOf(t,n,a)!==-1};m.prototype.indexOf=function(t,n,a){return et(this,t,n,a,!0)};m.prototype.lastIndexOf=function(t,n,a){return et(this,t,n,a,!1)};function An(o,t,n,a){n=Number(n)||0;var s=o.length-n;a?(a=Number(a),a>s&&(a=s)):a=s;var h=t.length;a>h/2&&(a=h/2);for(var l=0;l<a;++l){var u=parseInt(t.substr(l*2,2),16);if(De(u))return l;o[n+l]=u}return l}function xn(o,t,n,a){return Yr(Ie(t,o.length-n),o,n,a)}function Bn(o,t,n,a){return Yr(Rn(t),o,n,a)}function In(o,t,n,a){return Yr(ut(t),o,n,a)}function qn(o,t,n,a){return Yr(_n(t,o.length-n),o,n,a)}m.prototype.write=function(t,n,a,s){if(n===void 0)s="utf8",a=this.length,n=0;else if(a===void 0&&typeof n=="string")s=n,a=this.length,n=0;else if(isFinite(n))n=n>>>0,isFinite(a)?(a=a>>>0,s===void 0&&(s="utf8")):(s=a,a=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var h=this.length-n;if((a===void 0||a>h)&&(a=h),t.length>0&&(a<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");s||(s="utf8");for(var l=!1;;)switch(s){case"hex":return An(this,t,n,a);case"utf8":case"utf-8":return xn(this,t,n,a);case"ascii":case"latin1":case"binary":return Bn(this,t,n,a);case"base64":return In(this,t,n,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return qn(this,t,n,a);default:if(l)throw new TypeError("Unknown encoding: "+s);s=(""+s).toLowerCase(),l=!0}};m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Un(o,t,n){return t===0&&n===o.length?Ae.fromByteArray(o):Ae.fromByteArray(o.slice(t,n))}function tt(o,t,n){n=Math.min(o.length,n);for(var a=[],s=t;s<n;){var h=o[s],l=null,u=h>239?4:h>223?3:h>191?2:1;if(s+u<=n){var y,g,v,w;switch(u){case 1:h<128&&(l=h);break;case 2:y=o[s+1],(y&192)===128&&(w=(h&31)<<6|y&63,w>127&&(l=w));break;case 3:y=o[s+1],g=o[s+2],(y&192)===128&&(g&192)===128&&(w=(h&15)<<12|(y&63)<<6|g&63,w>2047&&(w<55296||w>57343)&&(l=w));break;case 4:y=o[s+1],g=o[s+2],v=o[s+3],(y&192)===128&&(g&192)===128&&(v&192)===128&&(w=(h&15)<<18|(y&63)<<12|(g&63)<<6|v&63,w>65535&&w<1114112&&(l=w))}}l===null?(l=65533,u=1):l>65535&&(l-=65536,a.push(l>>>10&1023|55296),l=56320|l&1023),a.push(l),s+=u}return Dn(a)}var Je=4096;function Dn(o){var t=o.length;if(t<=Je)return String.fromCharCode.apply(String,o);for(var n="",a=0;a<t;)n+=String.fromCharCode.apply(String,o.slice(a,a+=Je));return n}function Sn(o,t,n){var a="";n=Math.min(o.length,n);for(var s=t;s<n;++s)a+=String.fromCharCode(o[s]&127);return a}function Cn(o,t,n){var a="";n=Math.min(o.length,n);for(var s=t;s<n;++s)a+=String.fromCharCode(o[s]);return a}function Ln(o,t,n){var a=o.length;(!t||t<0)&&(t=0),(!n||n<0||n>a)&&(n=a);for(var s="",h=t;h<n;++h)s+=Mn[o[h]];return s}function Fn(o,t,n){for(var a=o.slice(t,n),s="",h=0;h<a.length-1;h+=2)s+=String.fromCharCode(a[h]+a[h+1]*256);return s}m.prototype.slice=function(t,n){var a=this.length;t=~~t,n=n===void 0?a:~~n,t<0?(t+=a,t<0&&(t=0)):t>a&&(t=a),n<0?(n+=a,n<0&&(n=0)):n>a&&(n=a),n<t&&(n=t);var s=this.subarray(t,n);return Object.setPrototypeOf(s,m.prototype),s};function z(o,t,n){if(o%1!==0||o<0)throw new RangeError("offset is not uint");if(o+t>n)throw new RangeError("Trying to access beyond buffer length")}m.prototype.readUintLE=m.prototype.readUIntLE=function(t,n,a){t=t>>>0,n=n>>>0,a||z(t,n,this.length);for(var s=this[t],h=1,l=0;++l<n&&(h*=256);)s+=this[t+l]*h;return s};m.prototype.readUintBE=m.prototype.readUIntBE=function(t,n,a){t=t>>>0,n=n>>>0,a||z(t,n,this.length);for(var s=this[t+--n],h=1;n>0&&(h*=256);)s+=this[t+--n]*h;return s};m.prototype.readUint8=m.prototype.readUInt8=function(t,n){return t=t>>>0,n||z(t,1,this.length),this[t]};m.prototype.readUint16LE=m.prototype.readUInt16LE=function(t,n){return t=t>>>0,n||z(t,2,this.length),this[t]|this[t+1]<<8};m.prototype.readUint16BE=m.prototype.readUInt16BE=function(t,n){return t=t>>>0,n||z(t,2,this.length),this[t]<<8|this[t+1]};m.prototype.readUint32LE=m.prototype.readUInt32LE=function(t,n){return t=t>>>0,n||z(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};m.prototype.readUint32BE=m.prototype.readUInt32BE=function(t,n){return t=t>>>0,n||z(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};m.prototype.readIntLE=function(t,n,a){t=t>>>0,n=n>>>0,a||z(t,n,this.length);for(var s=this[t],h=1,l=0;++l<n&&(h*=256);)s+=this[t+l]*h;return h*=128,s>=h&&(s-=Math.pow(2,8*n)),s};m.prototype.readIntBE=function(t,n,a){t=t>>>0,n=n>>>0,a||z(t,n,this.length);for(var s=n,h=1,l=this[t+--s];s>0&&(h*=256);)l+=this[t+--s]*h;return h*=128,l>=h&&(l-=Math.pow(2,8*n)),l};m.prototype.readInt8=function(t,n){return t=t>>>0,n||z(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};m.prototype.readInt16LE=function(t,n){t=t>>>0,n||z(t,2,this.length);var a=this[t]|this[t+1]<<8;return a&32768?a|4294901760:a};m.prototype.readInt16BE=function(t,n){t=t>>>0,n||z(t,2,this.length);var a=this[t+1]|this[t]<<8;return a&32768?a|4294901760:a};m.prototype.readInt32LE=function(t,n){return t=t>>>0,n||z(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};m.prototype.readInt32BE=function(t,n){return t=t>>>0,n||z(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};m.prototype.readFloatLE=function(t,n){return t=t>>>0,n||z(t,4,this.length),mr.read(this,t,!0,23,4)};m.prototype.readFloatBE=function(t,n){return t=t>>>0,n||z(t,4,this.length),mr.read(this,t,!1,23,4)};m.prototype.readDoubleLE=function(t,n){return t=t>>>0,n||z(t,8,this.length),mr.read(this,t,!0,52,8)};m.prototype.readDoubleBE=function(t,n){return t=t>>>0,n||z(t,8,this.length),mr.read(this,t,!1,52,8)};function Y(o,t,n,a,s,h){if(!m.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<h)throw new RangeError('"value" argument is out of bounds');if(n+a>o.length)throw new RangeError("Index out of range")}m.prototype.writeUintLE=m.prototype.writeUIntLE=function(t,n,a,s){if(t=+t,n=n>>>0,a=a>>>0,!s){var h=Math.pow(2,8*a)-1;Y(this,t,n,a,h,0)}var l=1,u=0;for(this[n]=t&255;++u<a&&(l*=256);)this[n+u]=t/l&255;return n+a};m.prototype.writeUintBE=m.prototype.writeUIntBE=function(t,n,a,s){if(t=+t,n=n>>>0,a=a>>>0,!s){var h=Math.pow(2,8*a)-1;Y(this,t,n,a,h,0)}var l=a-1,u=1;for(this[n+l]=t&255;--l>=0&&(u*=256);)this[n+l]=t/u&255;return n+a};m.prototype.writeUint8=m.prototype.writeUInt8=function(t,n,a){return t=+t,n=n>>>0,a||Y(this,t,n,1,255,0),this[n]=t&255,n+1};m.prototype.writeUint16LE=m.prototype.writeUInt16LE=function(t,n,a){return t=+t,n=n>>>0,a||Y(this,t,n,2,65535,0),this[n]=t&255,this[n+1]=t>>>8,n+2};m.prototype.writeUint16BE=m.prototype.writeUInt16BE=function(t,n,a){return t=+t,n=n>>>0,a||Y(this,t,n,2,65535,0),this[n]=t>>>8,this[n+1]=t&255,n+2};m.prototype.writeUint32LE=m.prototype.writeUInt32LE=function(t,n,a){return t=+t,n=n>>>0,a||Y(this,t,n,4,4294967295,0),this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=t&255,n+4};m.prototype.writeUint32BE=m.prototype.writeUInt32BE=function(t,n,a){return t=+t,n=n>>>0,a||Y(this,t,n,4,4294967295,0),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t&255,n+4};m.prototype.writeIntLE=function(t,n,a,s){if(t=+t,n=n>>>0,!s){var h=Math.pow(2,8*a-1);Y(this,t,n,a,h-1,-h)}var l=0,u=1,y=0;for(this[n]=t&255;++l<a&&(u*=256);)t<0&&y===0&&this[n+l-1]!==0&&(y=1),this[n+l]=(t/u>>0)-y&255;return n+a};m.prototype.writeIntBE=function(t,n,a,s){if(t=+t,n=n>>>0,!s){var h=Math.pow(2,8*a-1);Y(this,t,n,a,h-1,-h)}var l=a-1,u=1,y=0;for(this[n+l]=t&255;--l>=0&&(u*=256);)t<0&&y===0&&this[n+l+1]!==0&&(y=1),this[n+l]=(t/u>>0)-y&255;return n+a};m.prototype.writeInt8=function(t,n,a){return t=+t,n=n>>>0,a||Y(this,t,n,1,127,-128),t<0&&(t=255+t+1),this[n]=t&255,n+1};m.prototype.writeInt16LE=function(t,n,a){return t=+t,n=n>>>0,a||Y(this,t,n,2,32767,-32768),this[n]=t&255,this[n+1]=t>>>8,n+2};m.prototype.writeInt16BE=function(t,n,a){return t=+t,n=n>>>0,a||Y(this,t,n,2,32767,-32768),this[n]=t>>>8,this[n+1]=t&255,n+2};m.prototype.writeInt32LE=function(t,n,a){return t=+t,n=n>>>0,a||Y(this,t,n,4,2147483647,-2147483648),this[n]=t&255,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24,n+4};m.prototype.writeInt32BE=function(t,n,a){return t=+t,n=n>>>0,a||Y(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=t&255,n+4};function nt(o,t,n,a,s,h){if(n+a>o.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function it(o,t,n,a,s){return t=+t,n=n>>>0,s||nt(o,t,n,4,34028234663852886e22,-34028234663852886e22),mr.write(o,t,n,a,23,4),n+4}m.prototype.writeFloatLE=function(t,n,a){return it(this,t,n,!0,a)};m.prototype.writeFloatBE=function(t,n,a){return it(this,t,n,!1,a)};function ot(o,t,n,a,s){return t=+t,n=n>>>0,s||nt(o,t,n,8,17976931348623157e292,-17976931348623157e292),mr.write(o,t,n,a,52,8),n+8}m.prototype.writeDoubleLE=function(t,n,a){return ot(this,t,n,!0,a)};m.prototype.writeDoubleBE=function(t,n,a){return ot(this,t,n,!1,a)};m.prototype.copy=function(t,n,a,s){if(!m.isBuffer(t))throw new TypeError("argument should be a Buffer");if(a||(a=0),!s&&s!==0&&(s=this.length),n>=t.length&&(n=t.length),n||(n=0),s>0&&s<a&&(s=a),s===a||t.length===0||this.length===0)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(a<0||a>=this.length)throw new RangeError("Index out of range");if(s<0)throw new RangeError("sourceEnd out of bounds");s>this.length&&(s=this.length),t.length-n<s-a&&(s=t.length-n+a);var h=s-a;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(n,a,s):Uint8Array.prototype.set.call(t,this.subarray(a,s),n),h};m.prototype.fill=function(t,n,a,s){if(typeof t=="string"){if(typeof n=="string"?(s=n,n=0,a=this.length):typeof a=="string"&&(s=a,a=this.length),s!==void 0&&typeof s!="string")throw new TypeError("encoding must be a string");if(typeof s=="string"&&!m.isEncoding(s))throw new TypeError("Unknown encoding: "+s);if(t.length===1){var h=t.charCodeAt(0);(s==="utf8"&&h<128||s==="latin1")&&(t=h)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(n<0||this.length<n||this.length<a)throw new RangeError("Out of range index");if(a<=n)return this;n=n>>>0,a=a===void 0?this.length:a>>>0,t||(t=0);var l;if(typeof t=="number")for(l=n;l<a;++l)this[l]=t;else{var u=m.isBuffer(t)?t:m.from(t,s),y=u.length;if(y===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(l=0;l<a-n;++l)this[l+n]=u[l%y]}return this};var kn=/[^+/0-9A-Za-z-_]/g;function On(o){if(o=o.split("=")[0],o=o.trim().replace(kn,""),o.length<2)return"";for(;o.length%4!==0;)o=o+"=";return o}function Ie(o,t){t=t||1/0;for(var n,a=o.length,s=null,h=[],l=0;l<a;++l){if(n=o.charCodeAt(l),n>55295&&n<57344){if(!s){if(n>56319){(t-=3)>-1&&h.push(239,191,189);continue}else if(l+1===a){(t-=3)>-1&&h.push(239,191,189);continue}s=n;continue}if(n<56320){(t-=3)>-1&&h.push(239,191,189),s=n;continue}n=(s-55296<<10|n-56320)+65536}else s&&(t-=3)>-1&&h.push(239,191,189);if(s=null,n<128){if((t-=1)<0)break;h.push(n)}else if(n<2048){if((t-=2)<0)break;h.push(n>>6|192,n&63|128)}else if(n<65536){if((t-=3)<0)break;h.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((t-=4)<0)break;h.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else throw new Error("Invalid code point")}return h}function Rn(o){for(var t=[],n=0;n<o.length;++n)t.push(o.charCodeAt(n)&255);return t}function _n(o,t){for(var n,a,s,h=[],l=0;l<o.length&&!((t-=2)<0);++l)n=o.charCodeAt(l),a=n>>8,s=n%256,h.push(s),h.push(a);return h}function ut(o){return Ae.toByteArray(On(o))}function Yr(o,t,n,a){for(var s=0;s<a&&!(s+n>=t.length||s>=o.length);++s)t[s+n]=o[s];return s}function Q(o,t){return o instanceof t||o!=null&&o.constructor!=null&&o.constructor.name!=null&&o.constructor.name===t.name}function De(o){return o!==o}var Mn=function(){for(var o="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var a=n*16,s=0;s<16;++s)t[a+s]=o[n]+o[s];return t}()});var ct=vr((_u,ht)=>{V();var j=ht.exports={},rr,er;function Se(){throw new Error("setTimeout has not been defined")}function Ce(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?rr=setTimeout:rr=Se}catch(o){rr=Se}try{typeof clearTimeout=="function"?er=clearTimeout:er=Ce}catch(o){er=Ce}})();function ft(o){if(rr===setTimeout)return setTimeout(o,0);if((rr===Se||!rr)&&setTimeout)return rr=setTimeout,setTimeout(o,0);try{return rr(o,0)}catch(t){try{return rr.call(null,o,0)}catch(n){return rr.call(this,o,0)}}}function Nn(o){if(er===clearTimeout)return clearTimeout(o);if((er===Ce||!er)&&clearTimeout)return er=clearTimeout,clearTimeout(o);try{return er(o)}catch(t){try{return er.call(null,o)}catch(n){return er.call(this,o)}}}var ur=[],br=!1,gr,$r=-1;function Pn(){!br||!gr||(br=!1,gr.length?ur=gr.concat(ur):$r=-1,ur.length&&st())}function st(){if(!br){var o=ft(Pn);br=!0;for(var t=ur.length;t;){for(gr=ur,ur=[];++$r<t;)gr&&gr[$r].run();$r=-1,t=ur.length}gr=null,br=!1,Nn(o)}}j.nextTick=function(o){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];ur.push(new lt(o,t)),ur.length===1&&!br&&ft(st)};function lt(o,t){this.fun=o,this.array=t}lt.prototype.run=function(){this.fun.apply(null,this.array)};j.title="browser";j.browser=!0;j.env={};j.argv=[];j.version="";j.versions={};function ar(){}j.on=ar;j.addListener=ar;j.once=ar;j.off=ar;j.removeListener=ar;j.removeAllListeners=ar;j.emit=ar;j.prependListener=ar;j.prependOnceListener=ar;j.listeners=function(o){return[]};j.binding=function(o){throw new Error("process.binding is not supported")};j.cwd=function(){return"/"};j.chdir=function(o){throw new Error("process.chdir is not supported")};j.umask=function(){return 0}});var pr,yr,Mu,V=an(()=>{pr=Wr(at()),yr=Wr(ct()),Mu=function(o){function t(){var a=this||self;return delete o.prototype.__magic__,a}if(typeof globalThis=="object")return globalThis;if(this)return t();o.defineProperty(o.prototype,"__magic__",{configurable:!0,get:t});var n=__magic__;return n}(Object)});var It=vr((nf,Bt)=>{"use strict";V();var Gn=Object.create,Rr=Object.defineProperty,jn=Object.defineProperties,Wn=Object.getOwnPropertyDescriptor,zn=Object.getOwnPropertyDescriptors,Vn=Object.getOwnPropertyNames,pt=Object.getOwnPropertySymbols,Yn=Object.getPrototypeOf,Et=Object.prototype.hasOwnProperty,$n=Object.prototype.propertyIsEnumerable,yt=(o,t,n)=>t in o?Rr(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,Hn=(o,t)=>{for(var n in t||(t={}))Et.call(t,n)&&yt(o,n,t[n]);if(pt)for(var n of pt(t))$n.call(t,n)&&yt(o,n,t[n]);return o},Zn=(o,t)=>jn(o,zn(t)),Xn=(o,t)=>()=>(o&&(t=o(o=0)),t),Hr=(o,t)=>()=>(t||o((t={exports:{}}).exports,t),t.exports),Jn=(o,t)=>{for(var n in t)Rr(o,n,{get:t[n],enumerable:!0})},bt=(o,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Vn(t))!Et.call(o,s)&&s!==n&&Rr(o,s,{get:()=>t[s],enumerable:!(a=Wn(t,s))||a.enumerable});return o},W=(o,t,n)=>(n=o!=null?Gn(Yn(o)):{},bt(t||!o||!o.__esModule?Rr(n,"default",{value:o,enumerable:!0}):n,o)),Kn=o=>bt(Rr({},"__esModule",{value:!0}),o),Qn=Hr(o=>{"use strict";I(),o.byteLength=y,o.toByteArray=v,o.fromByteArray=L;var t=[],n=[],a=typeof Uint8Array!="undefined"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(h=0,l=s.length;h<l;++h)t[h]=s[h],n[s.charCodeAt(h)]=h;var h,l;n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63;function u(b){var A=b.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=b.indexOf("=");x===-1&&(x=A);var T=x===A?0:4-x%4;return[x,T]}function y(b){var A=u(b),x=A[0],T=A[1];return(x+T)*3/4-T}function g(b,A,x){return(A+x)*3/4-x}function v(b){var A,x=u(b),T=x[0],U=x[1],q=new a(g(b,T,U)),_=0,N=U>0?T-4:T,R;for(R=0;R<N;R+=4)A=n[b.charCodeAt(R)]<<18|n[b.charCodeAt(R+1)]<<12|n[b.charCodeAt(R+2)]<<6|n[b.charCodeAt(R+3)],q[_++]=A>>16&255,q[_++]=A>>8&255,q[_++]=A&255;return U===2&&(A=n[b.charCodeAt(R)]<<2|n[b.charCodeAt(R+1)]>>4,q[_++]=A&255),U===1&&(A=n[b.charCodeAt(R)]<<10|n[b.charCodeAt(R+1)]<<4|n[b.charCodeAt(R+2)]>>2,q[_++]=A>>8&255,q[_++]=A&255),q}function w(b){return t[b>>18&63]+t[b>>12&63]+t[b>>6&63]+t[b&63]}function B(b,A,x){for(var T,U=[],q=A;q<x;q+=3)T=(b[q]<<16&16711680)+(b[q+1]<<8&65280)+(b[q+2]&255),U.push(w(T));return U.join("")}function L(b){for(var A,x=b.length,T=x%3,U=[],q=16383,_=0,N=x-T;_<N;_+=q)U.push(B(b,_,_+q>N?N:_+q));return T===1?(A=b[x-1],U.push(t[A>>2]+t[A<<4&63]+"==")):T===2&&(A=(b[x-2]<<8)+b[x-1],U.push(t[A>>10]+t[A>>4&63]+t[A<<2&63]+"=")),U.join("")}}),ri=Hr(o=>{I(),o.read=function(t,n,a,s,h){var l,u,y=h*8-s-1,g=(1<<y)-1,v=g>>1,w=-7,B=a?h-1:0,L=a?-1:1,b=t[n+B];for(B+=L,l=b&(1<<-w)-1,b>>=-w,w+=y;w>0;l=l*256+t[n+B],B+=L,w-=8);for(u=l&(1<<-w)-1,l>>=-w,w+=s;w>0;u=u*256+t[n+B],B+=L,w-=8);if(l===0)l=1-v;else{if(l===g)return u?NaN:(b?-1:1)*(1/0);u=u+Math.pow(2,s),l=l-v}return(b?-1:1)*u*Math.pow(2,l-s)},o.write=function(t,n,a,s,h,l){var u,y,g,v=l*8-h-1,w=(1<<v)-1,B=w>>1,L=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=s?0:l-1,A=s?1:-1,x=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(y=isNaN(n)?1:0,u=w):(u=Math.floor(Math.log(n)/Math.LN2),n*(g=Math.pow(2,-u))<1&&(u--,g*=2),u+B>=1?n+=L/g:n+=L*Math.pow(2,1-B),n*g>=2&&(u++,g/=2),u+B>=w?(y=0,u=w):u+B>=1?(y=(n*g-1)*Math.pow(2,h),u=u+B):(y=n*Math.pow(2,B-1)*Math.pow(2,h),u=0));h>=8;t[a+b]=y&255,b+=A,y/=256,h-=8);for(u=u<<h|y,v+=h;v>0;t[a+b]=u&255,b+=A,u/=256,v-=8);t[a+b-A]|=x*128}}),ei=Hr(o=>{"use strict";I();var t=Qn(),n=ri(),a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=u,o.SlowBuffer=U,o.INSPECT_MAX_BYTES=50;var s=2147483647;o.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=h(),!u.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(i){return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(r){if(r>s)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,u.prototype),e}function u(r,e,i){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(r)}return y(r,e,i)}u.poolSize=8192;function y(r,e,i){if(typeof r=="string")return B(r,e);if(ArrayBuffer.isView(r))return b(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(G(r,ArrayBuffer)||r&&G(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(G(r,SharedArrayBuffer)||r&&G(r.buffer,SharedArrayBuffer)))return A(r,e,i);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var f=r.valueOf&&r.valueOf();if(f!=null&&f!==r)return u.from(f,e,i);var c=x(r);if(c)return c;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return u.from(r[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}u.from=function(r,e,i){return y(r,e,i)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function g(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function v(r,e,i){return g(r),r<=0?l(r):e!==void 0?typeof i=="string"?l(r).fill(e,i):l(r).fill(e):l(r)}u.alloc=function(r,e,i){return v(r,e,i)};function w(r){return g(r),l(r<0?0:T(r)|0)}u.allocUnsafe=function(r){return w(r)},u.allocUnsafeSlow=function(r){return w(r)};function B(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var i=q(r,e)|0,f=l(i),c=f.write(r,e);return c!==i&&(f=f.slice(0,c)),f}function L(r){for(var e=r.length<0?0:T(r.length)|0,i=l(e),f=0;f<e;f+=1)i[f]=r[f]&255;return i}function b(r){if(G(r,Uint8Array)){var e=new Uint8Array(r);return A(e.buffer,e.byteOffset,e.byteLength)}return L(r)}function A(r,e,i){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');var f;return e===void 0&&i===void 0?f=new Uint8Array(r):i===void 0?f=new Uint8Array(r,e):f=new Uint8Array(r,e,i),Object.setPrototypeOf(f,u.prototype),f}function x(r){if(u.isBuffer(r)){var e=T(r.length)|0,i=l(e);return i.length===0||r.copy(i,0,0,e),i}if(r.length!==void 0)return typeof r.length!="number"||hr(r.length)?l(0):L(r);if(r.type==="Buffer"&&Array.isArray(r.data))return L(r.data)}function T(r){if(r>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return r|0}function U(r){return+r!=r&&(r=0),u.alloc(+r)}u.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==u.prototype},u.compare=function(r,e){if(G(r,Uint8Array)&&(r=u.from(r,r.offset,r.byteLength)),G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(r)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===e)return 0;for(var i=r.length,f=e.length,c=0,p=Math.min(i,f);c<p;++c)if(r[c]!==e[c]){i=r[c],f=e[c];break}return i<f?-1:f<i?1:0},u.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(r,e){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return u.alloc(0);var i;if(e===void 0)for(e=0,i=0;i<r.length;++i)e+=r[i].length;var f=u.allocUnsafe(e),c=0;for(i=0;i<r.length;++i){var p=r[i];if(G(p,Uint8Array))c+p.length>f.length?u.from(p).copy(f,c):Uint8Array.prototype.set.call(f,p,c);else if(u.isBuffer(p))p.copy(f,c);else throw new TypeError('"list" argument must be an Array of Buffers');c+=p.length}return f};function q(r,e){if(u.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||G(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var i=r.length,f=arguments.length>2&&arguments[2]===!0;if(!f&&i===0)return 0;for(var c=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return lr(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return Fr(r).length;default:if(c)return f?-1:lr(r).length;e=(""+e).toLowerCase(),c=!0}}u.byteLength=q;function _(r,e,i){var f=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,e>>>=0,i<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return pe(this,e,i);case"utf8":case"utf-8":return Ur(this,e,i);case"ascii":return he(this,e,i);case"latin1":case"binary":return ce(this,e,i);case"base64":return se(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,e,i);default:if(f)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),f=!0}}u.prototype._isBuffer=!0;function N(r,e,i){var f=r[e];r[e]=r[i],r[i]=f}u.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<r;e+=2)N(this,e,e+1);return this},u.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<r;e+=4)N(this,e,e+3),N(this,e+1,e+2);return this},u.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<r;e+=8)N(this,e,e+7),N(this,e+1,e+6),N(this,e+2,e+5),N(this,e+3,e+4);return this},u.prototype.toString=function(){var r=this.length;return r===0?"":arguments.length===0?Ur(this,0,r):_.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(r){if(!u.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:u.compare(this,r)===0},u.prototype.inspect=function(){var r="",e=o.INSPECT_MAX_BYTES;return r=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(r+=" ... "),"<Buffer "+r+">"},a&&(u.prototype[a]=u.prototype.inspect),u.prototype.compare=function(r,e,i,f,c){if(G(r,Uint8Array)&&(r=u.from(r,r.offset,r.byteLength)),!u.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(e===void 0&&(e=0),i===void 0&&(i=r?r.length:0),f===void 0&&(f=0),c===void 0&&(c=this.length),e<0||i>r.length||f<0||c>this.length)throw new RangeError("out of range index");if(f>=c&&e>=i)return 0;if(f>=c)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,f>>>=0,c>>>=0,this===r)return 0;for(var p=c-f,E=i-e,D=Math.min(p,E),O=this.slice(f,c),S=r.slice(e,i),F=0;F<D;++F)if(O[F]!==S[F]){p=O[F],E=S[F];break}return p<E?-1:E<p?1:0};function R(r,e,i,f,c){if(r.length===0)return-1;if(typeof i=="string"?(f=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,hr(i)&&(i=c?0:r.length-1),i<0&&(i=r.length+i),i>=r.length){if(c)return-1;i=r.length-1}else if(i<0)if(c)i=0;else return-1;if(typeof e=="string"&&(e=u.from(e,f)),u.isBuffer(e))return e.length===0?-1:tr(r,e,i,f,c);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?c?Uint8Array.prototype.indexOf.call(r,e,i):Uint8Array.prototype.lastIndexOf.call(r,e,i):tr(r,[e],i,f,c);throw new TypeError("val must be string, number or Buffer")}function tr(r,e,i,f,c){var p=1,E=r.length,D=e.length;if(f!==void 0&&(f=String(f).toLowerCase(),f==="ucs2"||f==="ucs-2"||f==="utf16le"||f==="utf-16le")){if(r.length<2||e.length<2)return-1;p=2,E/=2,D/=2,i/=2}function O(kr,Or){return p===1?kr[Or]:kr.readUInt16BE(Or*p)}var S;if(c){var F=-1;for(S=i;S<E;S++)if(O(r,S)===O(e,F===-1?0:S-F)){if(F===-1&&(F=S),S-F+1===D)return F*p}else F!==-1&&(S-=S-F),F=-1}else for(i+D>E&&(i=E-D),S=i;S>=0;S--){for(var M=!0,ir=0;ir<D;ir++)if(O(r,S+ir)!==O(e,ir)){M=!1;break}if(M)return S}return-1}u.prototype.includes=function(r,e,i){return this.indexOf(r,e,i)!==-1},u.prototype.indexOf=function(r,e,i){return R(this,r,e,i,!0)},u.prototype.lastIndexOf=function(r,e,i){return R(this,r,e,i,!1)};function Ir(r,e,i,f){i=Number(i)||0;var c=r.length-i;f?(f=Number(f),f>c&&(f=c)):f=c;var p=e.length;f>p/2&&(f=p/2);for(var E=0;E<f;++E){var D=parseInt(e.substr(E*2,2),16);if(hr(D))return E;r[i+E]=D}return E}function qr(r,e,i,f){return nr(lr(e,r.length-i),r,i,f)}function ue(r,e,i,f){return nr(ve(e),r,i,f)}function ae(r,e,i,f){return nr(Fr(e),r,i,f)}function fe(r,e,i,f){return nr(we(e,r.length-i),r,i,f)}u.prototype.write=function(r,e,i,f){if(e===void 0)f="utf8",i=this.length,e=0;else if(i===void 0&&typeof e=="string")f=e,i=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(i)?(i=i>>>0,f===void 0&&(f="utf8")):(f=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var c=this.length-e;if((i===void 0||i>c)&&(i=c),r.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");for(var p=!1;;)switch(f){case"hex":return Ir(this,r,e,i);case"utf8":case"utf-8":return qr(this,r,e,i);case"ascii":case"latin1":case"binary":return ue(this,r,e,i);case"base64":return ae(this,r,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,r,e,i);default:if(p)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase(),p=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function se(r,e,i){return e===0&&i===r.length?t.fromByteArray(r):t.fromByteArray(r.slice(e,i))}function Ur(r,e,i){i=Math.min(r.length,i);for(var f=[],c=e;c<i;){var p=r[c],E=null,D=p>239?4:p>223?3:p>191?2:1;if(c+D<=i){var O,S,F,M;switch(D){case 1:p<128&&(E=p);break;case 2:O=r[c+1],(O&192)===128&&(M=(p&31)<<6|O&63,M>127&&(E=M));break;case 3:O=r[c+1],S=r[c+2],(O&192)===128&&(S&192)===128&&(M=(p&15)<<12|(O&63)<<6|S&63,M>2047&&(M<55296||M>57343)&&(E=M));break;case 4:O=r[c+1],S=r[c+2],F=r[c+3],(O&192)===128&&(S&192)===128&&(F&192)===128&&(M=(p&15)<<18|(O&63)<<12|(S&63)<<6|F&63,M>65535&&M<1114112&&(E=M))}}E===null?(E=65533,D=1):E>65535&&(E-=65536,f.push(E>>>10&1023|55296),E=56320|E&1023),f.push(E),c+=D}return le(f)}var Dr=4096;function le(r){var e=r.length;if(e<=Dr)return String.fromCharCode.apply(String,r);for(var i="",f=0;f<e;)i+=String.fromCharCode.apply(String,r.slice(f,f+=Dr));return i}function he(r,e,i){var f="";i=Math.min(r.length,i);for(var c=e;c<i;++c)f+=String.fromCharCode(r[c]&127);return f}function ce(r,e,i){var f="";i=Math.min(r.length,i);for(var c=e;c<i;++c)f+=String.fromCharCode(r[c]);return f}function pe(r,e,i){var f=r.length;(!e||e<0)&&(e=0),(!i||i<0||i>f)&&(i=f);for(var c="",p=e;p<i;++p)c+=me[r[p]];return c}function ye(r,e,i){for(var f=r.slice(e,i),c="",p=0;p<f.length-1;p+=2)c+=String.fromCharCode(f[p]+f[p+1]*256);return c}u.prototype.slice=function(r,e){var i=this.length;r=~~r,e=e===void 0?i:~~e,r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<r&&(e=r);var f=this.subarray(r,e);return Object.setPrototypeOf(f,u.prototype),f};function k(r,e,i){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>i)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(r,e,i){r=r>>>0,e=e>>>0,i||k(r,e,this.length);for(var f=this[r],c=1,p=0;++p<e&&(c*=256);)f+=this[r+p]*c;return f},u.prototype.readUintBE=u.prototype.readUIntBE=function(r,e,i){r=r>>>0,e=e>>>0,i||k(r,e,this.length);for(var f=this[r+--e],c=1;e>0&&(c*=256);)f+=this[r+--e]*c;return f},u.prototype.readUint8=u.prototype.readUInt8=function(r,e){return r=r>>>0,e||k(r,1,this.length),this[r]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(r,e){return r=r>>>0,e||k(r,2,this.length),this[r]|this[r+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(r,e){return r=r>>>0,e||k(r,2,this.length),this[r]<<8|this[r+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(r,e){return r=r>>>0,e||k(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(r,e){return r=r>>>0,e||k(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},u.prototype.readIntLE=function(r,e,i){r=r>>>0,e=e>>>0,i||k(r,e,this.length);for(var f=this[r],c=1,p=0;++p<e&&(c*=256);)f+=this[r+p]*c;return c*=128,f>=c&&(f-=Math.pow(2,8*e)),f},u.prototype.readIntBE=function(r,e,i){r=r>>>0,e=e>>>0,i||k(r,e,this.length);for(var f=e,c=1,p=this[r+--f];f>0&&(c*=256);)p+=this[r+--f]*c;return c*=128,p>=c&&(p-=Math.pow(2,8*e)),p},u.prototype.readInt8=function(r,e){return r=r>>>0,e||k(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},u.prototype.readInt16LE=function(r,e){r=r>>>0,e||k(r,2,this.length);var i=this[r]|this[r+1]<<8;return i&32768?i|4294901760:i},u.prototype.readInt16BE=function(r,e){r=r>>>0,e||k(r,2,this.length);var i=this[r+1]|this[r]<<8;return i&32768?i|4294901760:i},u.prototype.readInt32LE=function(r,e){return r=r>>>0,e||k(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},u.prototype.readInt32BE=function(r,e){return r=r>>>0,e||k(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},u.prototype.readFloatLE=function(r,e){return r=r>>>0,e||k(r,4,this.length),n.read(this,r,!0,23,4)},u.prototype.readFloatBE=function(r,e){return r=r>>>0,e||k(r,4,this.length),n.read(this,r,!1,23,4)},u.prototype.readDoubleLE=function(r,e){return r=r>>>0,e||k(r,8,this.length),n.read(this,r,!0,52,8)},u.prototype.readDoubleBE=function(r,e){return r=r>>>0,e||k(r,8,this.length),n.read(this,r,!1,52,8)};function P(r,e,i,f,c,p){if(!u.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>c||e<p)throw new RangeError('"value" argument is out of bounds');if(i+f>r.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(r,e,i,f){if(r=+r,e=e>>>0,i=i>>>0,!f){var c=Math.pow(2,8*i)-1;P(this,r,e,i,c,0)}var p=1,E=0;for(this[e]=r&255;++E<i&&(p*=256);)this[e+E]=r/p&255;return e+i},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(r,e,i,f){if(r=+r,e=e>>>0,i=i>>>0,!f){var c=Math.pow(2,8*i)-1;P(this,r,e,i,c,0)}var p=i-1,E=1;for(this[e+p]=r&255;--p>=0&&(E*=256);)this[e+p]=r/E&255;return e+i},u.prototype.writeUint8=u.prototype.writeUInt8=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,1,255,0),this[e]=r&255,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,2,65535,0),this[e]=r&255,this[e+1]=r>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,2,65535,0),this[e]=r>>>8,this[e+1]=r&255,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,4,4294967295,0),this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=r&255,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,4,4294967295,0),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255,e+4},u.prototype.writeIntLE=function(r,e,i,f){if(r=+r,e=e>>>0,!f){var c=Math.pow(2,8*i-1);P(this,r,e,i,c-1,-c)}var p=0,E=1,D=0;for(this[e]=r&255;++p<i&&(E*=256);)r<0&&D===0&&this[e+p-1]!==0&&(D=1),this[e+p]=(r/E>>0)-D&255;return e+i},u.prototype.writeIntBE=function(r,e,i,f){if(r=+r,e=e>>>0,!f){var c=Math.pow(2,8*i-1);P(this,r,e,i,c-1,-c)}var p=i-1,E=1,D=0;for(this[e+p]=r&255;--p>=0&&(E*=256);)r<0&&D===0&&this[e+p+1]!==0&&(D=1),this[e+p]=(r/E>>0)-D&255;return e+i},u.prototype.writeInt8=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,1,127,-128),r<0&&(r=255+r+1),this[e]=r&255,e+1},u.prototype.writeInt16LE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,2,32767,-32768),this[e]=r&255,this[e+1]=r>>>8,e+2},u.prototype.writeInt16BE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,2,32767,-32768),this[e]=r>>>8,this[e+1]=r&255,e+2},u.prototype.writeInt32LE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,4,2147483647,-2147483648),this[e]=r&255,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24,e+4},u.prototype.writeInt32BE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255,e+4};function Sr(r,e,i,f,c,p){if(i+f>r.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Cr(r,e,i,f,c){return e=+e,i=i>>>0,c||Sr(r,e,i,4,34028234663852886e22,-34028234663852886e22),n.write(r,e,i,f,23,4),i+4}u.prototype.writeFloatLE=function(r,e,i){return Cr(this,r,e,!0,i)},u.prototype.writeFloatBE=function(r,e,i){return Cr(this,r,e,!1,i)};function Lr(r,e,i,f,c){return e=+e,i=i>>>0,c||Sr(r,e,i,8,17976931348623157e292,-17976931348623157e292),n.write(r,e,i,f,52,8),i+8}u.prototype.writeDoubleLE=function(r,e,i){return Lr(this,r,e,!0,i)},u.prototype.writeDoubleBE=function(r,e,i){return Lr(this,r,e,!1,i)},u.prototype.copy=function(r,e,i,f){if(!u.isBuffer(r))throw new TypeError("argument should be a Buffer");if(i||(i=0),!f&&f!==0&&(f=this.length),e>=r.length&&(e=r.length),e||(e=0),f>0&&f<i&&(f=i),f===i||r.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length),r.length-e<f-i&&(f=r.length-e+i);var c=f-i;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,i,f):Uint8Array.prototype.set.call(r,this.subarray(i,f),e),c},u.prototype.fill=function(r,e,i,f){if(typeof r=="string"){if(typeof e=="string"?(f=e,e=0,i=this.length):typeof i=="string"&&(f=i,i=this.length),f!==void 0&&typeof f!="string")throw new TypeError("encoding must be a string");if(typeof f=="string"&&!u.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(r.length===1){var c=r.charCodeAt(0);(f==="utf8"&&c<128||f==="latin1")&&(r=c)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;e=e>>>0,i=i===void 0?this.length:i>>>0,r||(r=0);var p;if(typeof r=="number")for(p=e;p<i;++p)this[p]=r;else{var E=u.isBuffer(r)?r:u.from(r,f),D=E.length;if(D===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(p=0;p<i-e;++p)this[p+e]=E[p%D]}return this};var de=/[^+/0-9A-Za-z-_]/g;function ge(r){if(r=r.split("=")[0],r=r.trim().replace(de,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function lr(r,e){e=e||1/0;for(var i,f=r.length,c=null,p=[],E=0;E<f;++E){if(i=r.charCodeAt(E),i>55295&&i<57344){if(!c){if(i>56319){(e-=3)>-1&&p.push(239,191,189);continue}else if(E+1===f){(e-=3)>-1&&p.push(239,191,189);continue}c=i;continue}if(i<56320){(e-=3)>-1&&p.push(239,191,189),c=i;continue}i=(c-55296<<10|i-56320)+65536}else c&&(e-=3)>-1&&p.push(239,191,189);if(c=null,i<128){if((e-=1)<0)break;p.push(i)}else if(i<2048){if((e-=2)<0)break;p.push(i>>6|192,i&63|128)}else if(i<65536){if((e-=3)<0)break;p.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((e-=4)<0)break;p.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return p}function ve(r){for(var e=[],i=0;i<r.length;++i)e.push(r.charCodeAt(i)&255);return e}function we(r,e){for(var i,f,c,p=[],E=0;E<r.length&&!((e-=2)<0);++E)i=r.charCodeAt(E),f=i>>8,c=i%256,p.push(c),p.push(f);return p}function Fr(r){return t.toByteArray(ge(r))}function nr(r,e,i,f){for(var c=0;c<f&&!(c+i>=e.length||c>=r.length);++c)e[c+i]=r[c];return c}function G(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function hr(r){return r!==r}var me=function(){for(var r="0123456789abcdef",e=new Array(256),i=0;i<16;++i)for(var f=i*16,c=0;c<16;++c)e[f+c]=r[i]+r[c];return e}()}),ti=Hr((o,t)=>{I();var n=t.exports={},a,s;function h(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=h}catch(T){a=h}try{typeof clearTimeout=="function"?s=clearTimeout:s=l}catch(T){s=l}})();function u(T){if(a===setTimeout)return setTimeout(T,0);if((a===h||!a)&&setTimeout)return a=setTimeout,setTimeout(T,0);try{return a(T,0)}catch(U){try{return a.call(null,T,0)}catch(q){return a.call(this,T,0)}}}function y(T){if(s===clearTimeout)return clearTimeout(T);if((s===l||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(T);try{return s(T)}catch(U){try{return s.call(null,T)}catch(q){return s.call(this,T)}}}var g=[],v=!1,w,B=-1;function L(){!v||!w||(v=!1,w.length?g=w.concat(g):B=-1,g.length&&b())}function b(){if(!v){var T=u(L);v=!0;for(var U=g.length;U;){for(w=g,g=[];++B<U;)w&&w[B].run();B=-1,U=g.length}w=null,v=!1,y(T)}}n.nextTick=function(T){var U=new Array(arguments.length-1);if(arguments.length>1)for(var q=1;q<arguments.length;q++)U[q-1]=arguments[q];g.push(new A(T,U)),g.length===1&&!v&&u(b)};function A(T,U){this.fun=T,this.array=U}A.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function x(){}n.on=x,n.addListener=x,n.once=x,n.off=x,n.removeListener=x,n.removeAllListeners=x,n.emit=x,n.prependListener=x,n.prependOnceListener=x,n.listeners=function(T){return[]},n.binding=function(T){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(T){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}),ni,ii,oi,I=Xn(()=>{ni=W(ei()),ii=W(ti()),oi=function(o){function t(){var a=this||self;return delete o.prototype.__magic__,a}if(typeof globalThis=="object")return globalThis;if(this)return t();o.defineProperty(o.prototype,"__magic__",{configurable:!0,get:t});var n=__magic__;return n}(Object)}),Tt={};Jn(Tt,{default:()=>wi,validateReceivers:()=>xt});Bt.exports=Kn(Tt);I();var ui=require("@terradharitri/sdk-core"),dt=require("@terradharitri/sdk-dapp/utils/smartContracts");I();var ai=require("@terradharitri/sdk-dapp/utils/account/addressIsValid");I();I();var Pu=require("@terradharitri/sdk-dapp/constants/index"),Gu=require("@terradharitri/sdk-dapp/utils/operations/calculateFeeLimit"),ju=W(require("bignumber.js"));I();I();I();var Wu=require("bech32");I();I();I();I();I();var zu=require("@terradharitri/sdk-dapp/types/tokens.types"),At=(o=>(o.DCDTNFTTransfer="DCDTNFTTransfer",o.DCDTNFTCreate="DCDTNFTCreate",o.DCDTNFTBurn="DCDTNFTBurn",o.MultiDCDTNFTTransfer="MultiDCDTNFTTransfer",o))(At||{});I();I();var Vu=require("@terradharitri/sdk-dapp/constants"),Yu=require("@terradharitri/sdk-dapp/utils/account/getAccount");I();I();var $u=require("@terradharitri/sdk-dapp/utils/transactions/transactionInfoHelpers/getScamFlag");I();var Hu=require("@terradharitri/sdk-dapp/utils/buildUrlParams");I();var Zu=W(require("anchorme"));I();I();var Xu=require("@terradharitri/sdk-dapp/utils/operations/calculateFeeLimit"),fi=require("@terradharitri/sdk-dapp/utils/operations/formatAmount"),Ju=require("@terradharitri/sdk-dapp/utils/operations/getUsdValue"),Ku=require("@terradharitri/sdk-dapp/utils/operations/parseAmount");I();I();var Qu=require("@terradharitri/sdk-dapp/constants/index");I();var ra=require("@terradharitri/sdk-dapp/constants/index");I();I();I();I();I();I();I();I();I();var ea=require("@terradharitri/sdk-dapp/constants/index"),ta=W(require("bignumber.js"));I();var na=require("@terradharitri/sdk-dapp/constants/index");I();var ia=require("@terradharitri/sdk-dapp/constants/index");I();I();var oa=require("@terradharitri/sdk-core"),ua=require("@terradharitri/sdk-dapp/constants/index"),aa=W(require("bignumber.js"));I();I();var fa=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger");I();var sa=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");I();var la=W(require("bignumber.js"));I();var ha=require("@terradharitri/sdk-dapp/constants/index"),ca=require("@terradharitri/sdk-dapp/utils/smartContracts"),pa=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType"),ya=W(require("bignumber.js"));I();var da=W(require("bignumber.js"));I();I();var ga=W(require("axios"));I();I();I();var va=require("@terradharitri/sdk-dapp/apiCalls/configuration/getServerConfiguration");I();var wa=require("@terradharitri/sdk-dapp/constants/index");I();I();I();var Le=require("@terradharitri/sdk-dapp/constants/index"),si=W(require("bignumber.js")),gt,vt,wt,li=(0,fi.formatAmount)({input:String((gt=Le.GAS_PRICE)!=null?gt:1e9),decimals:(vt=Le.DECIMALS)!=null?vt:18,showLastNonZeroDecimal:!0,digits:(wt=Le.DIGITS)!=null?wt:4}),ma=new si.default(li).times(10).toString(10);I();var Ea=require("@terradharitri/sdk-dapp/constants/index"),ba=W(require("bignumber.js"));I();var Ta=W(require("bignumber.js"));I();I();var Aa=require("yup");I();var mt=require("@terradharitri/sdk-dapp/constants/ledger.constants"),hi=W(require("@terradharitri/sdk-dapp/utils/operations/ledger/getLedgerVersionOptions")),Fe=require("yup"),ci=(0,Fe.string)().test("ledgerDataActive","Data option is disabled in the Ledger DharitrI app",function(o){let{ledger:t}=this.parent;return!(t&&o&&o.length&&!t.ledgerDataActive)}),pi=(0,Fe.string)().test({name:"hashSign",test:function(o){let{ledger:t,isGuarded:n}=this.parent;if(t){let{ledgerWithHashSign:a,ledgerWithGuardians:s}=(0,hi.default)(t.version);if(o&&o.length>300&&!a)return this.createError({message:`Data too long. You need at least DharitrI app version ${mt.LEDGER_HASH_SIGN_MINIMUM_VERSION}. Update DharitrI app to continue`,path:"data"});if(n&&!s)return this.createError({message:`You need at least DharitrI app version ${mt.LEDGER_WITH_GUARDIANS_MINIMUM_VERSION} to use Guardians`,path:"data"})}return!0}}),yi=[ci,pi],xa=yi.reduce((o,t)=>o.concat(t),(0,Fe.string)());I();var Ba=require("@terradharitri/sdk-dapp/constants/index"),Ia=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),qa=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),Ua=require("yup");I();var Da=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),Sa=W(require("bignumber.js")),Ca=require("yup");I();var La=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger"),Fa=W(require("bignumber.js")),ka=require("yup");I();var Oa=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),Ra=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),_a=W(require("bignumber.js")),Ma=require("yup");I();var Na=W(require("bignumber.js")),Pa=require("yup");I();var Ga=require("@terradharitri/sdk-dapp/constants/index"),ja=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),Wa=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),za=W(require("bignumber.js")),Va=require("yup");I();var Ya=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),$a=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),Ha=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger"),Za=W(require("bignumber.js")),Xa=require("yup");I();var Ja=W(require("bignumber.js")),Ka=require("yup");I();var Qa=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),rf=require("yup");I();var ef=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),tf=require("yup");I();I();var di=o=>Object.values(At).some(t=>o.startsWith(t));function gi({address:o,tx:t}){let n=di(String(t.data))&&!(0,ai.addressIsValid)(String(t.receiver))?o:String(t.receiver);return Zn(Hn({},t),{receiver:n})}var vi=gi;function xt({transactions:o,txsDataTokens:t,isMainnet:n,address:a,whitelistedReceivers:s=[]}){if(n)try{let h=o.map(v=>vi({address:a,tx:v})),l=h.length===0||h.every(({receiver:v})=>v===a||(0,dt.isContract)(v)||s.includes(v)),u=t?Object.values(t).filter(({receiver:v})=>Boolean(v)).map(({receiver:v})=>new ui.Address(v).bech32()):[],y=u.length>0?u.every(v=>{let w=Boolean(v)&&s.includes(v);return v==null||v===a||(0,dt.isContract)(v)||w}):!0;return l&&y}catch(h){return console.error("Unable to check whitelisted receivers",h),!1}else return!0}var wi=xt;});var rn=vr((Hs,Qt)=>{"use strict";V();var mi=Object.create,Gr=Object.defineProperty,Ei=Object.defineProperties,bi=Object.getOwnPropertyDescriptor,Ti=Object.getOwnPropertyDescriptors,Ai=Object.getOwnPropertyNames,qt=Object.getOwnPropertySymbols,xi=Object.getPrototypeOf,Vt=Object.prototype.hasOwnProperty,Bi=Object.prototype.propertyIsEnumerable,Ut=(o,t,n)=>t in o?Gr(o,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):o[t]=n,H=(o,t)=>{for(var n in t||(t={}))Vt.call(t,n)&&Ut(o,n,t[n]);if(qt)for(var n of qt(t))Bi.call(t,n)&&Ut(o,n,t[n]);return o},sr=(o,t)=>Ei(o,Ti(t)),Ii=(o,t)=>()=>(o&&(t=o(o=0)),t),ie=(o,t)=>()=>(t||o((t={exports:{}}).exports,t),t.exports),qi=(o,t)=>{for(var n in t)Gr(o,n,{get:t[n],enumerable:!0})},Yt=(o,t,n,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Ai(t))!Vt.call(o,s)&&s!==n&&Gr(o,s,{get:()=>t[s],enumerable:!(a=bi(t,s))||a.enumerable});return o},C=(o,t,n)=>(n=o!=null?mi(xi(o)):{},Yt(t||!o||!o.__esModule?Gr(n,"default",{value:o,enumerable:!0}):n,o)),Ui=o=>Yt(Gr({},"__esModule",{value:!0}),o),Z=(o,t,n)=>new Promise((a,s)=>{var h=y=>{try{u(n.next(y))}catch(g){s(g)}},l=y=>{try{u(n.throw(y))}catch(g){s(g)}},u=y=>y.done?a(y.value):Promise.resolve(y.value).then(h,l);u((n=n.apply(o,t)).next())}),Di=ie(o=>{"use strict";d(),o.byteLength=y,o.toByteArray=v,o.fromByteArray=L;var t=[],n=[],a=typeof Uint8Array!="undefined"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(h=0,l=s.length;h<l;++h)t[h]=s[h],n[s.charCodeAt(h)]=h;var h,l;n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63;function u(b){var A=b.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=b.indexOf("=");x===-1&&(x=A);var T=x===A?0:4-x%4;return[x,T]}function y(b){var A=u(b),x=A[0],T=A[1];return(x+T)*3/4-T}function g(b,A,x){return(A+x)*3/4-x}function v(b){var A,x=u(b),T=x[0],U=x[1],q=new a(g(b,T,U)),_=0,N=U>0?T-4:T,R;for(R=0;R<N;R+=4)A=n[b.charCodeAt(R)]<<18|n[b.charCodeAt(R+1)]<<12|n[b.charCodeAt(R+2)]<<6|n[b.charCodeAt(R+3)],q[_++]=A>>16&255,q[_++]=A>>8&255,q[_++]=A&255;return U===2&&(A=n[b.charCodeAt(R)]<<2|n[b.charCodeAt(R+1)]>>4,q[_++]=A&255),U===1&&(A=n[b.charCodeAt(R)]<<10|n[b.charCodeAt(R+1)]<<4|n[b.charCodeAt(R+2)]>>2,q[_++]=A>>8&255,q[_++]=A&255),q}function w(b){return t[b>>18&63]+t[b>>12&63]+t[b>>6&63]+t[b&63]}function B(b,A,x){for(var T,U=[],q=A;q<x;q+=3)T=(b[q]<<16&16711680)+(b[q+1]<<8&65280)+(b[q+2]&255),U.push(w(T));return U.join("")}function L(b){for(var A,x=b.length,T=x%3,U=[],q=16383,_=0,N=x-T;_<N;_+=q)U.push(B(b,_,_+q>N?N:_+q));return T===1?(A=b[x-1],U.push(t[A>>2]+t[A<<4&63]+"==")):T===2&&(A=(b[x-2]<<8)+b[x-1],U.push(t[A>>10]+t[A>>4&63]+t[A<<2&63]+"=")),U.join("")}}),Si=ie(o=>{d(),o.read=function(t,n,a,s,h){var l,u,y=h*8-s-1,g=(1<<y)-1,v=g>>1,w=-7,B=a?h-1:0,L=a?-1:1,b=t[n+B];for(B+=L,l=b&(1<<-w)-1,b>>=-w,w+=y;w>0;l=l*256+t[n+B],B+=L,w-=8);for(u=l&(1<<-w)-1,l>>=-w,w+=s;w>0;u=u*256+t[n+B],B+=L,w-=8);if(l===0)l=1-v;else{if(l===g)return u?NaN:(b?-1:1)*(1/0);u=u+Math.pow(2,s),l=l-v}return(b?-1:1)*u*Math.pow(2,l-s)},o.write=function(t,n,a,s,h,l){var u,y,g,v=l*8-h-1,w=(1<<v)-1,B=w>>1,L=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=s?0:l-1,A=s?1:-1,x=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(y=isNaN(n)?1:0,u=w):(u=Math.floor(Math.log(n)/Math.LN2),n*(g=Math.pow(2,-u))<1&&(u--,g*=2),u+B>=1?n+=L/g:n+=L*Math.pow(2,1-B),n*g>=2&&(u++,g/=2),u+B>=w?(y=0,u=w):u+B>=1?(y=(n*g-1)*Math.pow(2,h),u=u+B):(y=n*Math.pow(2,B-1)*Math.pow(2,h),u=0));h>=8;t[a+b]=y&255,b+=A,y/=256,h-=8);for(u=u<<h|y,v+=h;v>0;t[a+b]=u&255,b+=A,u/=256,v-=8);t[a+b-A]|=x*128}}),Ci=ie(o=>{"use strict";d();var t=Di(),n=Si(),a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=u,o.SlowBuffer=U,o.INSPECT_MAX_BYTES=50;var s=2147483647;o.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=h(),!u.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var r=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(r,e),r.foo()===42}catch(i){return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function l(r){if(r>s)throw new RangeError('The value "'+r+'" is invalid for option "size"');var e=new Uint8Array(r);return Object.setPrototypeOf(e,u.prototype),e}function u(r,e,i){if(typeof r=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(r)}return y(r,e,i)}u.poolSize=8192;function y(r,e,i){if(typeof r=="string")return B(r,e);if(ArrayBuffer.isView(r))return b(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(G(r,ArrayBuffer)||r&&G(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(G(r,SharedArrayBuffer)||r&&G(r.buffer,SharedArrayBuffer)))return A(r,e,i);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var f=r.valueOf&&r.valueOf();if(f!=null&&f!==r)return u.from(f,e,i);var c=x(r);if(c)return c;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return u.from(r[Symbol.toPrimitive]("string"),e,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}u.from=function(r,e,i){return y(r,e,i)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function g(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function v(r,e,i){return g(r),r<=0?l(r):e!==void 0?typeof i=="string"?l(r).fill(e,i):l(r).fill(e):l(r)}u.alloc=function(r,e,i){return v(r,e,i)};function w(r){return g(r),l(r<0?0:T(r)|0)}u.allocUnsafe=function(r){return w(r)},u.allocUnsafeSlow=function(r){return w(r)};function B(r,e){if((typeof e!="string"||e==="")&&(e="utf8"),!u.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var i=q(r,e)|0,f=l(i),c=f.write(r,e);return c!==i&&(f=f.slice(0,c)),f}function L(r){for(var e=r.length<0?0:T(r.length)|0,i=l(e),f=0;f<e;f+=1)i[f]=r[f]&255;return i}function b(r){if(G(r,Uint8Array)){var e=new Uint8Array(r);return A(e.buffer,e.byteOffset,e.byteLength)}return L(r)}function A(r,e,i){if(e<0||r.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<e+(i||0))throw new RangeError('"length" is outside of buffer bounds');var f;return e===void 0&&i===void 0?f=new Uint8Array(r):i===void 0?f=new Uint8Array(r,e):f=new Uint8Array(r,e,i),Object.setPrototypeOf(f,u.prototype),f}function x(r){if(u.isBuffer(r)){var e=T(r.length)|0,i=l(e);return i.length===0||r.copy(i,0,0,e),i}if(r.length!==void 0)return typeof r.length!="number"||hr(r.length)?l(0):L(r);if(r.type==="Buffer"&&Array.isArray(r.data))return L(r.data)}function T(r){if(r>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return r|0}function U(r){return+r!=r&&(r=0),u.alloc(+r)}u.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==u.prototype},u.compare=function(r,e){if(G(r,Uint8Array)&&(r=u.from(r,r.offset,r.byteLength)),G(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(r)||!u.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===e)return 0;for(var i=r.length,f=e.length,c=0,p=Math.min(i,f);c<p;++c)if(r[c]!==e[c]){i=r[c],f=e[c];break}return i<f?-1:f<i?1:0},u.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(r,e){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return u.alloc(0);var i;if(e===void 0)for(e=0,i=0;i<r.length;++i)e+=r[i].length;var f=u.allocUnsafe(e),c=0;for(i=0;i<r.length;++i){var p=r[i];if(G(p,Uint8Array))c+p.length>f.length?u.from(p).copy(f,c):Uint8Array.prototype.set.call(f,p,c);else if(u.isBuffer(p))p.copy(f,c);else throw new TypeError('"list" argument must be an Array of Buffers');c+=p.length}return f};function q(r,e){if(u.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||G(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var i=r.length,f=arguments.length>2&&arguments[2]===!0;if(!f&&i===0)return 0;for(var c=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return lr(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return Fr(r).length;default:if(c)return f?-1:lr(r).length;e=(""+e).toLowerCase(),c=!0}}u.byteLength=q;function _(r,e,i){var f=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,e>>>=0,i<=e))return"";for(r||(r="utf8");;)switch(r){case"hex":return pe(this,e,i);case"utf8":case"utf-8":return Ur(this,e,i);case"ascii":return he(this,e,i);case"latin1":case"binary":return ce(this,e,i);case"base64":return se(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,e,i);default:if(f)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),f=!0}}u.prototype._isBuffer=!0;function N(r,e,i){var f=r[e];r[e]=r[i],r[i]=f}u.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<r;e+=2)N(this,e,e+1);return this},u.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<r;e+=4)N(this,e,e+3),N(this,e+1,e+2);return this},u.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<r;e+=8)N(this,e,e+7),N(this,e+1,e+6),N(this,e+2,e+5),N(this,e+3,e+4);return this},u.prototype.toString=function(){var r=this.length;return r===0?"":arguments.length===0?Ur(this,0,r):_.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(r){if(!u.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:u.compare(this,r)===0},u.prototype.inspect=function(){var r="",e=o.INSPECT_MAX_BYTES;return r=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(r+=" ... "),"<Buffer "+r+">"},a&&(u.prototype[a]=u.prototype.inspect),u.prototype.compare=function(r,e,i,f,c){if(G(r,Uint8Array)&&(r=u.from(r,r.offset,r.byteLength)),!u.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(e===void 0&&(e=0),i===void 0&&(i=r?r.length:0),f===void 0&&(f=0),c===void 0&&(c=this.length),e<0||i>r.length||f<0||c>this.length)throw new RangeError("out of range index");if(f>=c&&e>=i)return 0;if(f>=c)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,f>>>=0,c>>>=0,this===r)return 0;for(var p=c-f,E=i-e,D=Math.min(p,E),O=this.slice(f,c),S=r.slice(e,i),F=0;F<D;++F)if(O[F]!==S[F]){p=O[F],E=S[F];break}return p<E?-1:E<p?1:0};function R(r,e,i,f,c){if(r.length===0)return-1;if(typeof i=="string"?(f=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,hr(i)&&(i=c?0:r.length-1),i<0&&(i=r.length+i),i>=r.length){if(c)return-1;i=r.length-1}else if(i<0)if(c)i=0;else return-1;if(typeof e=="string"&&(e=u.from(e,f)),u.isBuffer(e))return e.length===0?-1:tr(r,e,i,f,c);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?c?Uint8Array.prototype.indexOf.call(r,e,i):Uint8Array.prototype.lastIndexOf.call(r,e,i):tr(r,[e],i,f,c);throw new TypeError("val must be string, number or Buffer")}function tr(r,e,i,f,c){var p=1,E=r.length,D=e.length;if(f!==void 0&&(f=String(f).toLowerCase(),f==="ucs2"||f==="ucs-2"||f==="utf16le"||f==="utf-16le")){if(r.length<2||e.length<2)return-1;p=2,E/=2,D/=2,i/=2}function O(kr,Or){return p===1?kr[Or]:kr.readUInt16BE(Or*p)}var S;if(c){var F=-1;for(S=i;S<E;S++)if(O(r,S)===O(e,F===-1?0:S-F)){if(F===-1&&(F=S),S-F+1===D)return F*p}else F!==-1&&(S-=S-F),F=-1}else for(i+D>E&&(i=E-D),S=i;S>=0;S--){for(var M=!0,ir=0;ir<D;ir++)if(O(r,S+ir)!==O(e,ir)){M=!1;break}if(M)return S}return-1}u.prototype.includes=function(r,e,i){return this.indexOf(r,e,i)!==-1},u.prototype.indexOf=function(r,e,i){return R(this,r,e,i,!0)},u.prototype.lastIndexOf=function(r,e,i){return R(this,r,e,i,!1)};function Ir(r,e,i,f){i=Number(i)||0;var c=r.length-i;f?(f=Number(f),f>c&&(f=c)):f=c;var p=e.length;f>p/2&&(f=p/2);for(var E=0;E<f;++E){var D=parseInt(e.substr(E*2,2),16);if(hr(D))return E;r[i+E]=D}return E}function qr(r,e,i,f){return nr(lr(e,r.length-i),r,i,f)}function ue(r,e,i,f){return nr(ve(e),r,i,f)}function ae(r,e,i,f){return nr(Fr(e),r,i,f)}function fe(r,e,i,f){return nr(we(e,r.length-i),r,i,f)}u.prototype.write=function(r,e,i,f){if(e===void 0)f="utf8",i=this.length,e=0;else if(i===void 0&&typeof e=="string")f=e,i=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(i)?(i=i>>>0,f===void 0&&(f="utf8")):(f=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var c=this.length-e;if((i===void 0||i>c)&&(i=c),r.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");for(var p=!1;;)switch(f){case"hex":return Ir(this,r,e,i);case"utf8":case"utf-8":return qr(this,r,e,i);case"ascii":case"latin1":case"binary":return ue(this,r,e,i);case"base64":return ae(this,r,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,r,e,i);default:if(p)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase(),p=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function se(r,e,i){return e===0&&i===r.length?t.fromByteArray(r):t.fromByteArray(r.slice(e,i))}function Ur(r,e,i){i=Math.min(r.length,i);for(var f=[],c=e;c<i;){var p=r[c],E=null,D=p>239?4:p>223?3:p>191?2:1;if(c+D<=i){var O,S,F,M;switch(D){case 1:p<128&&(E=p);break;case 2:O=r[c+1],(O&192)===128&&(M=(p&31)<<6|O&63,M>127&&(E=M));break;case 3:O=r[c+1],S=r[c+2],(O&192)===128&&(S&192)===128&&(M=(p&15)<<12|(O&63)<<6|S&63,M>2047&&(M<55296||M>57343)&&(E=M));break;case 4:O=r[c+1],S=r[c+2],F=r[c+3],(O&192)===128&&(S&192)===128&&(F&192)===128&&(M=(p&15)<<18|(O&63)<<12|(S&63)<<6|F&63,M>65535&&M<1114112&&(E=M))}}E===null?(E=65533,D=1):E>65535&&(E-=65536,f.push(E>>>10&1023|55296),E=56320|E&1023),f.push(E),c+=D}return le(f)}var Dr=4096;function le(r){var e=r.length;if(e<=Dr)return String.fromCharCode.apply(String,r);for(var i="",f=0;f<e;)i+=String.fromCharCode.apply(String,r.slice(f,f+=Dr));return i}function he(r,e,i){var f="";i=Math.min(r.length,i);for(var c=e;c<i;++c)f+=String.fromCharCode(r[c]&127);return f}function ce(r,e,i){var f="";i=Math.min(r.length,i);for(var c=e;c<i;++c)f+=String.fromCharCode(r[c]);return f}function pe(r,e,i){var f=r.length;(!e||e<0)&&(e=0),(!i||i<0||i>f)&&(i=f);for(var c="",p=e;p<i;++p)c+=me[r[p]];return c}function ye(r,e,i){for(var f=r.slice(e,i),c="",p=0;p<f.length-1;p+=2)c+=String.fromCharCode(f[p]+f[p+1]*256);return c}u.prototype.slice=function(r,e){var i=this.length;r=~~r,e=e===void 0?i:~~e,r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<r&&(e=r);var f=this.subarray(r,e);return Object.setPrototypeOf(f,u.prototype),f};function k(r,e,i){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+e>i)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(r,e,i){r=r>>>0,e=e>>>0,i||k(r,e,this.length);for(var f=this[r],c=1,p=0;++p<e&&(c*=256);)f+=this[r+p]*c;return f},u.prototype.readUintBE=u.prototype.readUIntBE=function(r,e,i){r=r>>>0,e=e>>>0,i||k(r,e,this.length);for(var f=this[r+--e],c=1;e>0&&(c*=256);)f+=this[r+--e]*c;return f},u.prototype.readUint8=u.prototype.readUInt8=function(r,e){return r=r>>>0,e||k(r,1,this.length),this[r]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(r,e){return r=r>>>0,e||k(r,2,this.length),this[r]|this[r+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(r,e){return r=r>>>0,e||k(r,2,this.length),this[r]<<8|this[r+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(r,e){return r=r>>>0,e||k(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(r,e){return r=r>>>0,e||k(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},u.prototype.readIntLE=function(r,e,i){r=r>>>0,e=e>>>0,i||k(r,e,this.length);for(var f=this[r],c=1,p=0;++p<e&&(c*=256);)f+=this[r+p]*c;return c*=128,f>=c&&(f-=Math.pow(2,8*e)),f},u.prototype.readIntBE=function(r,e,i){r=r>>>0,e=e>>>0,i||k(r,e,this.length);for(var f=e,c=1,p=this[r+--f];f>0&&(c*=256);)p+=this[r+--f]*c;return c*=128,p>=c&&(p-=Math.pow(2,8*e)),p},u.prototype.readInt8=function(r,e){return r=r>>>0,e||k(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},u.prototype.readInt16LE=function(r,e){r=r>>>0,e||k(r,2,this.length);var i=this[r]|this[r+1]<<8;return i&32768?i|4294901760:i},u.prototype.readInt16BE=function(r,e){r=r>>>0,e||k(r,2,this.length);var i=this[r+1]|this[r]<<8;return i&32768?i|4294901760:i},u.prototype.readInt32LE=function(r,e){return r=r>>>0,e||k(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},u.prototype.readInt32BE=function(r,e){return r=r>>>0,e||k(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},u.prototype.readFloatLE=function(r,e){return r=r>>>0,e||k(r,4,this.length),n.read(this,r,!0,23,4)},u.prototype.readFloatBE=function(r,e){return r=r>>>0,e||k(r,4,this.length),n.read(this,r,!1,23,4)},u.prototype.readDoubleLE=function(r,e){return r=r>>>0,e||k(r,8,this.length),n.read(this,r,!0,52,8)},u.prototype.readDoubleBE=function(r,e){return r=r>>>0,e||k(r,8,this.length),n.read(this,r,!1,52,8)};function P(r,e,i,f,c,p){if(!u.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>c||e<p)throw new RangeError('"value" argument is out of bounds');if(i+f>r.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(r,e,i,f){if(r=+r,e=e>>>0,i=i>>>0,!f){var c=Math.pow(2,8*i)-1;P(this,r,e,i,c,0)}var p=1,E=0;for(this[e]=r&255;++E<i&&(p*=256);)this[e+E]=r/p&255;return e+i},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(r,e,i,f){if(r=+r,e=e>>>0,i=i>>>0,!f){var c=Math.pow(2,8*i)-1;P(this,r,e,i,c,0)}var p=i-1,E=1;for(this[e+p]=r&255;--p>=0&&(E*=256);)this[e+p]=r/E&255;return e+i},u.prototype.writeUint8=u.prototype.writeUInt8=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,1,255,0),this[e]=r&255,e+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,2,65535,0),this[e]=r&255,this[e+1]=r>>>8,e+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,2,65535,0),this[e]=r>>>8,this[e+1]=r&255,e+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,4,4294967295,0),this[e+3]=r>>>24,this[e+2]=r>>>16,this[e+1]=r>>>8,this[e]=r&255,e+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,4,4294967295,0),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255,e+4},u.prototype.writeIntLE=function(r,e,i,f){if(r=+r,e=e>>>0,!f){var c=Math.pow(2,8*i-1);P(this,r,e,i,c-1,-c)}var p=0,E=1,D=0;for(this[e]=r&255;++p<i&&(E*=256);)r<0&&D===0&&this[e+p-1]!==0&&(D=1),this[e+p]=(r/E>>0)-D&255;return e+i},u.prototype.writeIntBE=function(r,e,i,f){if(r=+r,e=e>>>0,!f){var c=Math.pow(2,8*i-1);P(this,r,e,i,c-1,-c)}var p=i-1,E=1,D=0;for(this[e+p]=r&255;--p>=0&&(E*=256);)r<0&&D===0&&this[e+p+1]!==0&&(D=1),this[e+p]=(r/E>>0)-D&255;return e+i},u.prototype.writeInt8=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,1,127,-128),r<0&&(r=255+r+1),this[e]=r&255,e+1},u.prototype.writeInt16LE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,2,32767,-32768),this[e]=r&255,this[e+1]=r>>>8,e+2},u.prototype.writeInt16BE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,2,32767,-32768),this[e]=r>>>8,this[e+1]=r&255,e+2},u.prototype.writeInt32LE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,4,2147483647,-2147483648),this[e]=r&255,this[e+1]=r>>>8,this[e+2]=r>>>16,this[e+3]=r>>>24,e+4},u.prototype.writeInt32BE=function(r,e,i){return r=+r,e=e>>>0,i||P(this,r,e,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[e]=r>>>24,this[e+1]=r>>>16,this[e+2]=r>>>8,this[e+3]=r&255,e+4};function Sr(r,e,i,f,c,p){if(i+f>r.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Cr(r,e,i,f,c){return e=+e,i=i>>>0,c||Sr(r,e,i,4,34028234663852886e22,-34028234663852886e22),n.write(r,e,i,f,23,4),i+4}u.prototype.writeFloatLE=function(r,e,i){return Cr(this,r,e,!0,i)},u.prototype.writeFloatBE=function(r,e,i){return Cr(this,r,e,!1,i)};function Lr(r,e,i,f,c){return e=+e,i=i>>>0,c||Sr(r,e,i,8,17976931348623157e292,-17976931348623157e292),n.write(r,e,i,f,52,8),i+8}u.prototype.writeDoubleLE=function(r,e,i){return Lr(this,r,e,!0,i)},u.prototype.writeDoubleBE=function(r,e,i){return Lr(this,r,e,!1,i)},u.prototype.copy=function(r,e,i,f){if(!u.isBuffer(r))throw new TypeError("argument should be a Buffer");if(i||(i=0),!f&&f!==0&&(f=this.length),e>=r.length&&(e=r.length),e||(e=0),f>0&&f<i&&(f=i),f===i||r.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length),r.length-e<f-i&&(f=r.length-e+i);var c=f-i;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,i,f):Uint8Array.prototype.set.call(r,this.subarray(i,f),e),c},u.prototype.fill=function(r,e,i,f){if(typeof r=="string"){if(typeof e=="string"?(f=e,e=0,i=this.length):typeof i=="string"&&(f=i,i=this.length),f!==void 0&&typeof f!="string")throw new TypeError("encoding must be a string");if(typeof f=="string"&&!u.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(r.length===1){var c=r.charCodeAt(0);(f==="utf8"&&c<128||f==="latin1")&&(r=c)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;e=e>>>0,i=i===void 0?this.length:i>>>0,r||(r=0);var p;if(typeof r=="number")for(p=e;p<i;++p)this[p]=r;else{var E=u.isBuffer(r)?r:u.from(r,f),D=E.length;if(D===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(p=0;p<i-e;++p)this[p+e]=E[p%D]}return this};var de=/[^+/0-9A-Za-z-_]/g;function ge(r){if(r=r.split("=")[0],r=r.trim().replace(de,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function lr(r,e){e=e||1/0;for(var i,f=r.length,c=null,p=[],E=0;E<f;++E){if(i=r.charCodeAt(E),i>55295&&i<57344){if(!c){if(i>56319){(e-=3)>-1&&p.push(239,191,189);continue}else if(E+1===f){(e-=3)>-1&&p.push(239,191,189);continue}c=i;continue}if(i<56320){(e-=3)>-1&&p.push(239,191,189),c=i;continue}i=(c-55296<<10|i-56320)+65536}else c&&(e-=3)>-1&&p.push(239,191,189);if(c=null,i<128){if((e-=1)<0)break;p.push(i)}else if(i<2048){if((e-=2)<0)break;p.push(i>>6|192,i&63|128)}else if(i<65536){if((e-=3)<0)break;p.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((e-=4)<0)break;p.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return p}function ve(r){for(var e=[],i=0;i<r.length;++i)e.push(r.charCodeAt(i)&255);return e}function we(r,e){for(var i,f,c,p=[],E=0;E<r.length&&!((e-=2)<0);++E)i=r.charCodeAt(E),f=i>>8,c=i%256,p.push(c),p.push(f);return p}function Fr(r){return t.toByteArray(ge(r))}function nr(r,e,i,f){for(var c=0;c<f&&!(c+i>=e.length||c>=r.length);++c)e[c+i]=r[c];return c}function G(r,e){return r instanceof e||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===e.name}function hr(r){return r!==r}var me=function(){for(var r="0123456789abcdef",e=new Array(256),i=0;i<16;++i)for(var f=i*16,c=0;c<16;++c)e[f+c]=r[i]+r[c];return e}()}),Li=ie((o,t)=>{d();var n=t.exports={},a,s;function h(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?a=setTimeout:a=h}catch(T){a=h}try{typeof clearTimeout=="function"?s=clearTimeout:s=l}catch(T){s=l}})();function u(T){if(a===setTimeout)return setTimeout(T,0);if((a===h||!a)&&setTimeout)return a=setTimeout,setTimeout(T,0);try{return a(T,0)}catch(U){try{return a.call(null,T,0)}catch(q){return a.call(this,T,0)}}}function y(T){if(s===clearTimeout)return clearTimeout(T);if((s===l||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(T);try{return s(T)}catch(U){try{return s.call(null,T)}catch(q){return s.call(this,T)}}}var g=[],v=!1,w,B=-1;function L(){!v||!w||(v=!1,w.length?g=w.concat(g):B=-1,g.length&&b())}function b(){if(!v){var T=u(L);v=!0;for(var U=g.length;U;){for(w=g,g=[];++B<U;)w&&w[B].run();B=-1,U=g.length}w=null,v=!1,y(T)}}n.nextTick=function(T){var U=new Array(arguments.length-1);if(arguments.length>1)for(var q=1;q<arguments.length;q++)U[q-1]=arguments[q];g.push(new A(T,U)),g.length===1&&!v&&u(b)};function A(T,U){this.fun=T,this.array=U}A.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={};function x(){}n.on=x,n.addListener=x,n.once=x,n.off=x,n.removeListener=x,n.removeAllListeners=x,n.emit=x,n.prependListener=x,n.prependOnceListener=x,n.listeners=function(T){return[]},n.binding=function(T){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(T){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}}),$t,Fi,ki,d=Ii(()=>{$t=C(Ci()),Fi=C(Li()),ki=function(o){function t(){var a=this||self;return delete o.prototype.__magic__,a}if(typeof globalThis=="object")return globalThis;if(this)return t();o.defineProperty(o.prototype,"__magic__",{configurable:!0,get:t});var n=__magic__;return n}(Object)}),Ht={};qi(Ht,{validateSignTransactions:()=>Lu});Qt.exports=Ui(Ht);d();var Zt=require("@terradharitri/sdk-dapp/models/newTransaction"),Oi=require("@terradharitri/sdk-dapp/utils/transactions/getTokenFromData"),Ri=require("@terradharitri/sdk-dapp/utils/transactions/parseMultiDcdtTransferData");d();var _i=require("@terradharitri/sdk-dapp/utils/account/addressIsValid");d();d();var Dt=require("@terradharitri/sdk-dapp/constants/index"),Mi=require("@terradharitri/sdk-dapp/utils/operations/calculateFeeLimit"),ke=C(require("bignumber.js"));d();d();d();var of=require("bech32");d();d();d();d();d();var re=require("@terradharitri/sdk-dapp/types/tokens.types"),Xt=(o=>(o.DCDTNFTTransfer="DCDTNFTTransfer",o.DCDTNFTCreate="DCDTNFTCreate",o.DCDTNFTBurn="DCDTNFTBurn",o.MultiDCDTNFTTransfer="MultiDCDTNFTTransfer",o))(Xt||{}),Ni=o=>!["REWA","DCDT"].includes(o);d();d();var uf=require("@terradharitri/sdk-dapp/constants"),af=require("@terradharitri/sdk-dapp/utils/account/getAccount");d();d();var ff=require("@terradharitri/sdk-dapp/utils/transactions/transactionInfoHelpers/getScamFlag");d();var sf=require("@terradharitri/sdk-dapp/utils/buildUrlParams");d();var lf=C(require("anchorme"));d();d();var hf=require("@terradharitri/sdk-dapp/utils/operations/calculateFeeLimit"),ee=require("@terradharitri/sdk-dapp/utils/operations/formatAmount"),cf=require("@terradharitri/sdk-dapp/utils/operations/getUsdValue"),Br=require("@terradharitri/sdk-dapp/utils/operations/parseAmount");d();d();var pf=require("@terradharitri/sdk-dapp/constants/index");d();var Pi=require("@terradharitri/sdk-dapp/constants/index");d();d();d();var St="600000000",Ne="500000",Gi=75e4,ji=1e6,Wi=2e5,fr="0";d();d();d();d();d();var zi=(o="")=>{let t=Gi+o.length*Pi.GAS_PER_DATA_BYTE;return o.startsWith("DCDTNFTBurn")?Wi.toString():String(Math.max(t,ji))};d();var Ct=require("@terradharitri/sdk-dapp/constants/index"),Lt=C(require("bignumber.js"));d();var Vi=require("@terradharitri/sdk-dapp/constants/index");function je(o=!1){return o?Vi.EXTRA_GAS_LIMIT_GUARDED_TX:0}var Yi=({data:o,isGuarded:t})=>{let n=new Lt.default(Ct.GAS_LIMIT),a=new Lt.default(Ct.GAS_PER_DATA_BYTE),s=o?a.times($t.Buffer.from(o).length):0,h=je(t);return n.plus(s).plus(h).toString(10)};d();var $i=require("@terradharitri/sdk-dapp/constants/index");function Hi({tokens:o,tokenId:t}){let n=o.find(({identifier:h})=>h===t),a=n?n.decimals:$i.DECIMALS,s=(n==null?void 0:n.balance)||fr;return sr(H({},n),{decimals:a,identifier:(n==null?void 0:n.identifier)||"",name:(n==null?void 0:n.name)||"",ticker:(n==null?void 0:n.ticker)||"",balance:s})}var Oe=Hi;d();d();var yf=require("@terradharitri/sdk-core"),df=require("@terradharitri/sdk-dapp/constants/index"),gf=C(require("bignumber.js"));d();function Zi(o){return isNaN(Number(o))||o===""?(0,Br.parseAmount)("0"):(0,Br.parseAmount)(o)}d();var vf=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger");d();var Xi=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");function Ji({nft:o,tokenId:t}){let{isDcdt:n,isNft:a,isRewa:s}=(0,Xi.getIdentifierType)(t);return s?"REWA":(o==null?void 0:o.type)===re.NftEnumType.NonFungibleDCDT?"NonFungibleDCDT":(o==null?void 0:o.type)===re.NftEnumType.SemiFungibleDCDT?"SemiFungibleDCDT":(o==null?void 0:o.type)===re.NftEnumType.MetaDCDT||a?"MetaDCDT":n?"DCDT":"REWA"}d();var wf=C(require("bignumber.js"));d();var mf=require("@terradharitri/sdk-dapp/constants/index"),Ef=require("@terradharitri/sdk-dapp/utils/smartContracts"),bf=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType"),Tf=C(require("bignumber.js"));d();var Af=C(require("bignumber.js"));d();d();var xf=C(require("axios"));d();d();d();var Ki=require("@terradharitri/sdk-dapp/apiCalls/configuration/getServerConfiguration");d();var Qi=require("@terradharitri/sdk-dapp/constants/index");d();var ro={D:"devnet",T:"testnet",1:"mainnet"};function eo(o){return ro[o]}function to(o){let t=eo(o),n=Qi.fallbackNetworkConfigurations[t].apiAddress;if(!n)throw"Could not extract api address for environment, check if you have a valid chainID";return n}function no(o){return Z(this,null,function*(){let t=to(o);return yield(0,Ki.getServerConfiguration)(t)})}d();var te={value:null};function io(o){return te.value={baseURL:o.apiAddress,timeout:Number(o.apiTimeout)},te.value}function Jt(o){return Z(this,null,function*(){if(te.value!=null)return te.value;if(console.error("Cannot get API config before initialization, make sure to call setApiConfig first"),o!=null){let n=yield no(o);return io(n)}let t="Cannot get api config, make sure to initialize the context before calling APIs";throw console.error(t),t})}d();var Re=require("@terradharitri/sdk-dapp/constants/index"),oo=C(require("bignumber.js")),Ft,kt,Ot,ne=(0,ee.formatAmount)({input:String((Ft=Re.GAS_PRICE)!=null?Ft:1e9),decimals:(kt=Re.DECIMALS)!=null?kt:18,showLastNonZeroDecimal:!0,digits:(Ot=Re.DIGITS)!=null?Ot:4}),Pe=new oo.default(ne).times(10).toString(10);d();var Bf=require("@terradharitri/sdk-dapp/constants/index"),If=C(require("bignumber.js"));d();var qf=C(require("bignumber.js")),oe=({amount:o,balance:t,gasPrice:n,gasLimit:a,data:s,chainId:h})=>{let l=(0,Br.parseAmount)(o.toString()),u=new ke.default(l),y=new ke.default(t),g=new ke.default((0,Mi.calculateFeeLimit)({gasPrice:Zi(n),gasLimit:a,data:s,chainId:h,gasPerDataByte:String(Dt.GAS_PER_DATA_BYTE),gasPriceModifier:String(Dt.GAS_PRICE_MODIFIER)}));return y.isGreaterThanOrEqualTo(u.plus(g))};d();d();var Zr=require("yup");d();var Rt=require("@terradharitri/sdk-dapp/constants/ledger.constants"),uo=C(require("@terradharitri/sdk-dapp/utils/operations/ledger/getLedgerVersionOptions")),We=require("yup"),ao=(0,We.string)().test("ledgerDataActive","Data option is disabled in the Ledger DharitrI app",function(o){let{ledger:t}=this.parent;return!(t&&o&&o.length&&!t.ledgerDataActive)}),fo=(0,We.string)().test({name:"hashSign",test:function(o){let{ledger:t,isGuarded:n}=this.parent;if(t){let{ledgerWithHashSign:a,ledgerWithGuardians:s}=(0,uo.default)(t.version);if(o&&o.length>300&&!a)return this.createError({message:`Data too long. You need at least DharitrI app version ${Rt.LEDGER_HASH_SIGN_MINIMUM_VERSION}. Update DharitrI app to continue`,path:"data"});if(n&&!s)return this.createError({message:`You need at least DharitrI app version ${Rt.LEDGER_WITH_GUARDIANS_MINIMUM_VERSION} to use Guardians`,path:"data"})}return!0}}),so=[ao,fo],lo=so.reduce((o,t)=>o.concat(t),(0,We.string)()),ho=lo;d();var co=require("@terradharitri/sdk-dapp/constants/index"),po=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),_t=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),_r=require("yup"),yo=o=>{let t=(0,_r.string)().required(o.required),n=(0,_r.string)().test("decimalFormat",o.maxDecimalsAllowed(co.DECIMALS),h=>(0,po.maxDecimals)(String(h))),a=(0,_r.string)().test("funds",o.insufficientFunds,function(h){if(h&&(0,_t.stringIsFloat)(h)){let{gasLimit:l,data:u,gasPrice:y,balance:g,chainId:v}=this.parent;return oe({amount:h,balance:g,gasLimit:l,gasPrice:y,data:u,chainId:v})}return!0}),s=(0,_r.string)().test("isValidNumber",o.invalidNumber,h=>Boolean(h&&(0,_t.stringIsFloat)(h)));return[t,s,n,a].reduce((h,l)=>h.concat(l),(0,_r.string)())},go=yo;d();var vo=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),Mt=C(require("bignumber.js")),Xr=require("yup");d();var wo=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger"),Nt=C(require("bignumber.js")),_e=require("yup"),ze=o=>{let t=(0,_e.string)().required(o.required),n=(0,_e.string)().test("isValidInteger",o.invalidNumber,s=>{let h=s&&(0,wo.stringIsInteger)(s);return Boolean(h)}),a=(0,_e.string)().test("maximum",o.tooHighGasLimit(St),s=>{let h=new Nt.default(String(s)),l=new Nt.default(St),u=s&&l.comparedTo(h)>=0;return Boolean(u)});return[t,n,a]},mo=o=>{let t=(0,Xr.string)().required(o.required),n=(0,Xr.string)().test("funds",o.insufficientFunds,function(s){let{data:h,gasPrice:l,amount:u,balance:y,chainId:g,ignoreTokenBalance:v}=this.parent;return v?!0:u&&(0,vo.stringIsFloat)(u)&&s!=null?oe({amount:u,balance:y,gasLimit:s,gasPrice:l,data:h,chainId:g}):!0}),a=(0,Xr.string)().test({name:"minValueData",test:function(s){let h=this.parent,{data:l,ignoreTokenBalance:u,isGuarded:y}=h;if(u)return!0;let g=Yi({data:l?l.trim():"",isGuarded:y});if(s){let v=new Mt.default(s),w=new Mt.default(g);if(!(s&&v.isGreaterThanOrEqualTo(w)))return this.createError({message:o.tooLowGasLimit(g),path:"gasLimit"})}return!0}});return[t,...ze(o),n,a].reduce((s,h)=>s.concat(h),(0,Xr.string)())},Eo=mo;d();var bo=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),To=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),Me=C(require("bignumber.js")),Tr=require("yup"),Ao=o=>{let t=(0,Tr.string)().required(o.required),n=(0,Tr.string)().test({name:"decimalFormat",test:function(l){let{tokenId:u,tokens:y}=this.parent;if(y){let{decimals:g}=Oe({tokens:y,tokenId:u});return(0,bo.maxDecimals)(String(l),g)?!0:this.createError({message:o.maxDecimalsAllowed(g),path:"amount"})}return!0}}),a=(0,Tr.string)().test("tokenBalance",o.insufficientFunds,function(l){let{ignoreTokenBalance:u,tokens:y}=this.parent;if(l!==void 0&&!u&&y){let{decimals:g,balance:v}=Oe({tokens:y,tokenId:this.parent.tokenId}),w=(0,Br.parseAmount)(l.toString(),g),B=new Me.default(w);return new Me.default(v).comparedTo(B)>=0}return!0}),s=(0,Tr.string)().test("greaterThanZero",o.cannotBeZero,function(l){let{tokens:u,ignoreTokenBalance:y}=this.parent;if(!y&&l!=null&&u){let{decimals:g}=Oe({tokens:u,tokenId:this.parent.tokenId}),v=(0,Br.parseAmount)(l.toString(),g);return new Me.default(v).isGreaterThan(0)}return!0}),h=(0,Tr.string)().test("isValidNumber",o.invalidNumber,l=>Boolean(l&&(0,To.stringIsFloat)(l)));return[t,n,a,s,h].reduce((l,u)=>l.concat(u),(0,Tr.string)())},xo=Ao;d();var Pt=C(require("bignumber.js")),Jr=require("yup"),Bo=o=>{let t=(0,Jr.string)().required(o.required),n=(0,Jr.string)().test("minValue",o.tooLowGasLimit(Ne),function(s){let h=this.parent,{ignoreTokenBalance:l,isGuarded:u}=h;if(l)return!0;let y=new Pt.default(s),g=new Pt.default(Ne).plus(je(u));return s&&y.isGreaterThanOrEqualTo(g)}),a=(0,Jr.string)().test("funds",o.insufficientFunds,function(s){let{data:h,gasPrice:l,ignoreTokenBalance:u,balance:y,chainId:g}=this.parent;return s&&!u?oe({amount:fr,balance:y,gasLimit:s,gasPrice:l,data:h,chainId:g}):!0});return[t,...ze(o),a,n].reduce((s,h)=>s.concat(h),(0,Jr.string)())},Io=Bo;d();var qo=require("@terradharitri/sdk-dapp/constants/index"),Uo=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),Do=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),Kr=C(require("bignumber.js")),Ar=require("yup"),So=o=>{let t=(0,Ar.string)().required(o.required),n=(0,Ar.string)().test("decimalFormat",o.maxDecimalsAllowed(qo.DECIMALS),l=>(0,Uo.maxDecimals)(String(l))),a=(0,Ar.string)().test("minimum",o.tooLowGasPrice(ne),l=>{let u=new Kr.default(String(l)),y=new Kr.default(ne),g=l&&u.isGreaterThanOrEqualTo(y);return Boolean(g)}),s=(0,Ar.string)().test("maximum",o.tooHighGasPrice(Pe),l=>{let u=new Kr.default(String(l)),y=new Kr.default(Pe),g=l&&u.isLessThanOrEqualTo(y);return Boolean(g)}),h=(0,Ar.string)().test("isValidNumber",o.invalidNumber,l=>Boolean(l&&(0,Do.stringIsFloat)(l)));return[t,n,a,s,h].reduce((l,u)=>l.concat(u),(0,Ar.string)())},Co=So;d();var Lo=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),Fo=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),ko=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger"),Mr=C(require("bignumber.js")),xr=require("yup"),Oo=o=>{let t=(0,xr.string)().required(o.required),n=(0,xr.string)().test({name:"formatDecimals",test:function(l){let{nft:u,txType:y}=this.parent;return y!=="MetaDCDT"||(0,Lo.maxDecimals)(String(l),u==null?void 0:u.decimals)?!0:this.createError({message:o.maxDecimalsAllowed(u==null?void 0:u.decimals),path:"amount"})}}),a=(0,xr.string)().test("balance",o.insufficientFunds,function(l){let{txType:u,nft:y}=this.parent;if(!l)return!0;if(u==="MetaDCDT"){let g=(0,Br.parseAmount)(l,y==null?void 0:y.decimals),v=new Mr.default(g);return new Mr.default((y==null?void 0:y.balance)||fr).isGreaterThanOrEqualTo(v)}if(u==="SemiFungibleDCDT"){let g=new Mr.default(l);return new Mr.default((y==null?void 0:y.balance)||fr).isGreaterThanOrEqualTo(g)}return!0}),s=(0,xr.string)().test("nonZero",o.cannotBeZero,function(l){let u=this.parent,{ignoreTokenBalance:y}=u;return!l||y?!0:!new Mr.default(l).isZero()}),h=(0,xr.string)().test("isValidNumber",o.invalidNumber,function(l){let{nft:u}=this.parent;return(u==null?void 0:u.type)===re.NftEnumType.MetaDCDT?Boolean(l&&(0,Fo.stringIsFloat)(l)):Boolean(l&&(0,ko.stringIsInteger)(l))});return[t,h,a,n,s].reduce((l,u)=>l.concat(u),(0,xr.string)())},Ro=Oo;d();var Gt=C(require("bignumber.js")),Qr=require("yup"),_o=o=>{let t=(0,Qr.string)().required(o.required),n=(0,Qr.string)().test({name:"minValueData",test:function(s){let h=this.parent,{data:l,ignoreTokenBalance:u,isGuarded:y}=h;if(u)return!0;let g=zi(l?l.trim():"");if(s){let v=new Gt.default(s),w=new Gt.default(g).plus(je(y));if(!(s&&v.isGreaterThanOrEqualTo(w)))return this.createError({message:o.tooLowGasLimit(w.toString()),path:"gasLimit"})}return!0}}),a=(0,Qr.string)().test("funds",o.insufficientFunds,function(s){let{data:h,gasPrice:l,balance:u,chainId:y,ignoreTokenBalance:g}=this.parent;return s&&!g?oe({amount:fr,balance:u,gasLimit:s,gasPrice:l,data:h,chainId:y}):!0});return[t,...ze(o),a,n].reduce((s,h)=>s.concat(h),(0,Qr.string)())},Mo=_o;d();var No=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),Nr=require("yup"),Po=o=>{let t=(0,Nr.string)().required(o.required),n=(0,Nr.string)().test("addressIsValid",o.invalidAddress,h=>Boolean(h&&(0,No.addressIsValid)(h))),a=(0,Nr.string)().test("sameAddress",o.sameAsOwnerAddress,function(h){let{ignoreTokenBalance:l,txType:u,readonly:y,address:g,isBurn:v}=this.parent;return Ni(u)&&!l&&!y&&!v?g!==h:!0}),s=(0,Nr.string)().test("canTransfer",o.receiverNotAllowed,function(h){let{nft:l,txType:u,ignoreTokenBalance:y,address:g}=this.parent,v=u==="MetaDCDT",w=y,B=l==null?void 0:l.allowedReceivers;return!h||!v||w||B==null||B.includes(g)?!0:B.includes(h)});return[t,n,a,s].reduce((h,l)=>h.concat(l),(0,Nr.string)())},Go=Po;d();var jo=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),jt=require("yup"),Wo=o=>[(0,jt.string)().test("invalidHerotag",o.invalidHerotag,function(t){let{receiver:n}=this.parent;if((n==null?void 0:n.startsWith("drt1"))||!t&&!n)return!0;let a=t&&(0,jo.addressIsValid)(n);return Boolean(a)})].reduce((t,n)=>t.concat(n),(0,jt.string)()),zo=Wo,Vo=o=>(0,Zr.object)().shape({receiver:Go(o),receiverUsername:zo(o),tokenId:(0,Zr.string)().required(o.required),gasPrice:Co(o),data:ho,amount:(0,Zr.string)().when(["txType"],function(t){switch(t){case"DCDT":return xo(o);case"REWA":return go(o);default:return Ro(o)}}),gasLimit:(0,Zr.string)().when(["txType"],function(t){switch(t){case"DCDT":return Io(o);case"REWA":return Eo(o);default:return Mo(o)}})});d();d();var Yo=o=>Object.values(Xt).some(t=>o.startsWith(t));function $o({address:o,tx:t}){let n=Yo(String(t.data))&&!(0,_i.addressIsValid)(String(t.receiver))?o:String(t.receiver);return sr(H({},t),{receiver:n})}var Ho=$o;d();d();var Wt=require("@terradharitri/sdk-dapp/constants/index"),Zo={insufficientFunds:"Insufficient funds",invalidAddress:"Invalid address",invalidGasPrice:"Invalid gas price",invalidNumber:"Invalid number",invalidFeePerDataByte:"Invalid fee per data byte",cannotBeZero:"Cannot be zero",required:"Required",amountTooSmall:"Amount too small",sameAsOwnerAddress:"Same as owner address",receiverNotAllowed:"Receiver not allowed",invalidHerotag:"Invalid herotag",tooLowGasLimit:(o=Wt.GAS_LIMIT)=>`Gas limit must be greater or equal to ${o}`,tooHighGasLimit:(o=Wt.GAS_LIMIT)=>`Gas limit must be lower than ${o}`,tooLowGasPrice:(o=ne)=>`Gas price must be greater or equal to ${o}`,tooHighGasPrice:(o=Pe)=>`Gas price must be lower or equal to ${o}`,maxDecimalsAllowed:o=>`Maximum ${o} decimals allowed`};d();d();function Xo(o){let{txsDataTokens:t,dataId:n,rewaLabel:a}=o;return(t==null?void 0:t[n])||{tokenId:a,amount:"",type:"",nonce:"",receiver:""}}d();d();d();d();var Uf=C(require("react")),Df=require("@terradharitri/sdk-dapp/constants/index");d();d();d();var Sf=C(require("axios"));d();d();var Cf=C(require("axios"));d();d();var Jo=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),Ko=require("@terradharitri/sdk-dapp/apiCalls/tokens/getPersistedToken"),Lf=C(require("axios")),Ff=C(require("lodash/uniqBy"));function Qo(o,t){return Z(this,null,function*(){return(0,Ko.getPersistedToken)(`${t==null?void 0:t.baseURL}/${Jo.TOKENS_ENDPOINT}/${o}`)})}d();var kf=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),Of=C(require("axios"));d();var Ge=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),Kt=C(require("axios"));function ru(o,t){return Z(this,arguments,function*({address:n,identifier:a},s){try{let h=s||(yield Jt()),{data:l}=yield Kt.default.get(`/${Ge.ACCOUNTS_ENDPOINT}/${n}/${Ge.NFTS_ENDPOINT}/${a}`,h);return l||null}catch(h){return null}})}function eu(o,t){return Z(this,null,function*(){try{let n=t||(yield Jt()),{data:a}=yield Kt.default.get(`/${Ge.NFTS_ENDPOINT}/${o}`,n);return a||null}catch(n){return null}})}d();var tu=C(require("react")),Rf=(0,tu.createContext)({});d();d();var nu=C(require("react")),_f=require("@terradharitri/sdk-dapp/constants/index"),Mf=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),Nf=C(require("bignumber.js")),Pf=require("formik");d();d();var iu=C(require("react")),Gf=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType"),jf=require("formik"),Wf=(0,iu.createContext)({});d();d();var ou=C(require("react")),zf=require("formik"),Vf=C(require("lodash/uniqBy"));d();d();var uu=C(require("react")),Yf=(0,uu.createContext)({});d();d();var $f=require("react"),Hf=require("@terradharitri/sdk-dapp/constants/index"),Zf=require("@terradharitri/sdk-dapp/types/enums.types");d();var Xf=(0,ou.createContext)({});d();d();var Jf=require("@terradharitri/sdk-dapp/constants/index"),Kf=require("formik");d();d();var au=C(require("react")),Qf=require("@terradharitri/sdk-dapp/constants/index"),rs=require("@terradharitri/sdk-dapp/utils/operations/calculateFeeLimit"),es=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),ts=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger"),ns=C(require("bignumber.js")),is=require("formik");d();d();d();d();var os=C(require("bignumber.js"));d();var us=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),as=C(require("bignumber.js"));d();d();var fs=require("react"),ss=require("@terradharitri/sdk-dapp/constants/index"),ls=require("@terradharitri/sdk-dapp/utils/smartContracts"),hs=C(require("bignumber.js")),cs=require("formik");d();var ps=require("react");d();d();var ys=require("@terradharitri/sdk-dapp/constants/index"),ds=C(require("bignumber.js")),gs=(0,au.createContext)({}),vs=(0,nu.createContext)({});d();d();var fu=C(require("react")),ws=require("formik"),ms=(0,fu.createContext)({});d();d();var su=C(require("react")),Es=require("formik");d();d();d();var bs=require("react"),Ts=require("@terradharitri/sdk-dapp/apiCalls/transactions/getTransactions"),As=C(require("lodash/uniqBy"));d();d();var xs=require("@terradharitri/sdk-dapp/hooks/account/helpers/trimUsernameDomain"),Bs=require("@terradharitri/sdk-dapp/utils");d();var Is=require("react");d();var qs=require("react"),Us=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),Ds=(0,su.createContext)({});d();d();var lu=C(require("react")),Ss=require("formik");d();d();d();d();d();var Cs=require("react"),Ls=require("@terradharitri/sdk-dapp/utils");d();var Fs=require("react"),ks=require("@terradharitri/sdk-dapp/hooks/account/helpers/trimUsernameDomain");d();d();var Os=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),Rs=C(require("axios"));d();var _s=C(require("axios")),Ms=(0,lu.createContext)({});d();var hu=C(require("react")),Ns=(0,hu.createContext)({});d();var Ps=require("react");d();d();var Gs=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");d();var js=require("@terradharitri/sdk-dapp/constants/index");d();d();d();var Ws=require("@terradharitri/sdk-dapp/constants/index");d();var zs=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");d();var Vs=require("@terradharitri/sdk-dapp/types/tokens.types"),Ys=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");d();var cu=require("@terradharitri/sdk-core"),pu=C(require("bignumber.js"));d();var yu=require("@terradharitri/sdk-core"),du=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),gu=require("@terradharitri/sdk-dapp/utils/decoders/decodePart"),vu=o=>o.split("@").map((t,n)=>[2,3].includes(n)?t:(0,gu.decodePart)(t)),wu=({data:o,nft:t,address:n})=>{let a=o==null?void 0:o.startsWith("DCDTNFTBurn"),s=o==null?void 0:o.startsWith("DCDTNFTTransfer");if((a||s)&&o.includes("@"))try{let[,h,l,u,y]=t?["DCDTNFTTransfer",t.collection,t.nonce,t.quantity,t.receiver]:vu(o),g=a&&!y?n:y,v=[h,l,u,g].every(B=>B),w=(0,du.addressIsValid)(new yu.Address(g).bech32());if(v&&w)return{collection:h,nonce:l,quantity:u,receiver:g}}catch(h){console.error("Could not extract NFT from data:",h);return}},mu=(o,t)=>Z(void 0,null,function*(){let{address:n,identifier:a}=o;try{return yield ru({address:n,identifier:a},t)}catch(s){return yield eu(a,t)}}),zt=(o,t)=>Z(void 0,null,function*(){let{address:n,nft:a}=o,s=wu(o);try{if(s){let{collection:h,nonce:l,quantity:u,receiver:y}=s,g=`${h}-${l}`,v=yield mu({identifier:g,address:n},t);if(v)return{receiver:new cu.Address(y).bech32(),nft:v,quantity:a?u:new pu.default(u,16).toString(10)}}}catch(h){console.log(h)}return null});d();var $s=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");d();var Eu="nftTransaction";function bu(o,t){return Z(this,null,function*(){let{type:n,nonce:a,amount:s,receiver:h,tokenId:l,data:u,address:y}=o;return n===Eu?yield zt({data:"DCDTNFTTransfer@",nft:{collection:l,nonce:a,quantity:s,receiver:h},address:y},t):yield zt({data:u,address:y},t)})}d();var Tu="dcdtTransaction",Au="scCall";function xu(o){let{type:t,rewaLabel:n,tokenId:a,nftFound:s}=o;return(!t||[Au,Tu].includes(t))&&a!==n&&s===!1?a:""}d();function Bu(o,t){return Z(this,arguments,function*({tokenId:n,parsedTokenAmount:a},s){try{if(!n)return{tokenData:null,tokenAmount:fr,tokenFound:!1};let h=yield Qo(n,s),{decimals:l}=h,u=(0,ee.formatAmount)({input:a,decimals:l,digits:l,addCommas:!1,showLastNonZeroDecimal:!0});return{tokenData:h,tokenAmount:u,tokenFound:!Array.isArray(h)&&h.identifier===n}}catch(h){return{tokenData:null,tokenAmount:fr,tokenFound:!1}}})}d();var Pr=require("@terradharitri/sdk-dapp/constants/index"),Iu=require("@terradharitri/sdk-dapp/utils/transactions/isTokenTransfer");function qu(o){let{tx:t,tokenId:n,rewaLabel:a,tokenFound:s,tokenAmount:h}=o,l=t.transaction.toPlainObject(),{receiver:u,receiverUsername:y,senderUsername:g}=l,v=Boolean(n&&(0,Iu.isTokenTransfer)({tokenId:n,erdLabel:a}))?Ne:fr;return{receiver:u,amount:s?h:(0,ee.formatAmount)({input:l.value?l.value:fr,decimals:Pr.DECIMALS,digits:Pr.DIGITS,showLastNonZeroDecimal:!0,addCommas:!1}),tokenId:s?n:a,gasLimit:String(l.gasLimit.valueOf()||v),gasPrice:(0,ee.formatAmount)({input:String(l.gasPrice.valueOf()||Pr.GAS_PRICE),decimals:Pr.DECIMALS,digits:Pr.DIGITS,showLastNonZeroDecimal:!0,addCommas:!1}),receiverUsername:y,senderUsername:g,data:String(l.data),nonce:l.nonce.valueOf().toString()}}d();var Uu=o=>Z(void 0,[o],function*({tx:t,txsDataTokens:n,rewaLabel:a,address:s,balance:h,chainId:l,ledger:u,apiConfig:y}){let g=t.transaction.getData().toString(),v=String(g||t.multiTxData),{amount:w,tokenId:B,type:L,receiver:b,nonce:A}=Xo({txsDataTokens:n,dataId:v,rewaLabel:a}),x=yield bu({type:String(L),nonce:String(A),address:s,amount:w,receiver:b,tokenId:B,data:g},y),T=xu({type:L,rewaLabel:a,tokenId:B,nftFound:Boolean(x)}),{tokenData:U,tokenAmount:q,tokenFound:_}=yield Bu({tokenId:T,parsedTokenAmount:w},y),N=qu({tx:t,tokenId:B,rewaLabel:a,tokenFound:_,tokenAmount:q}),R={};try{let tr=sr(H({},N),{txType:Ji({nft:x==null?void 0:x.nft,tokenId:B}),address:s,balance:h,chainId:l,ignoreTokenBalance:!0,nft:x==null?void 0:x.nft,tokens:U?[U]:[],ledger:u});Vo(Zo).validateSync(tr)}catch(tr){let{path:Ir,message:qr}=tr;R={[String(Ir)]:String(qr)}}return R});function Du(o){let{transaction:t,transactionIndex:n,trx:a}=o;return{newTx:sr(H({},t),{transaction:(0,Zt.newTransaction)(t),multiTxData:a.data,transactionIndex:n}),txsData:{[a.data]:{tokenId:a.token||"",amount:a.amount||"",type:a.type,nonce:a.nonce||"",multiTxData:a.data,receiver:a.receiver}}}}function Su(o){let{extractedTxs:t,address:n,chainId:a}=o,s={},h=[];return t.forEach((l,u)=>{let y=Ho({address:n,tx:l}),g=(0,Ri.parseMultiDcdtTransferData)(y.data);if(g.length>0)g.forEach(v=>{let{newTx:w,txsData:B}=Du({trx:v,transaction:y,transactionIndex:u});s=H(H({},s),B),h.push(w)});else{let{tokenId:v,amount:w}=(0,Oi.getTokenFromData)(y.data);v&&y.data&&(s=sr(H({},s),{[y.data]:{tokenId:v,amount:w,receiver:y.receiver}})),h.push(sr(H({},y),{transactionIndex:u,transaction:(0,Zt.newTransaction)(sr(H({},y),{chainID:a}))}))}}),{allTransactions:h,txsDataTokens:s}}function Cu(o){return Z(this,null,function*(){let{address:t,rewaLabel:n,balance:a,chainId:s,apiConfig:h,allTransactions:l,txsDataTokens:u}=o,y={},g=l.map(w=>Uu({tx:w,txsDataTokens:u,address:t,rewaLabel:n,balance:a,chainId:s,apiConfig:h})),v=yield Promise.all(g);for(let w of v)y=H(H({},y),w);return y})}function Lu(o){return Z(this,null,function*(){let{extractedTxs:t}=o;if(t&&t.length>0){let{allTransactions:n,txsDataTokens:a}=Su(o),s=yield Cu(sr(H({},o),{allTransactions:n,txsDataTokens:a}));return{txsDataTokens:a,errors:s,parsedTransactions:n}}return null})}});var X={};module.exports=fn(X);V();J(X,Wr(It()),module.exports);J(X,Wr(rn()),module.exports);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=index.d.js.map
