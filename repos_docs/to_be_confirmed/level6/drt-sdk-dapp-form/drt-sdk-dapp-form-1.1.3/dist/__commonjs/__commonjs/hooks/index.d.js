"use strict";var vi=Object.create;var Gt=Object.defineProperty;var mi=Object.getOwnPropertyDescriptor;var wi=Object.getOwnPropertyNames;var bi=Object.getPrototypeOf,Ei=Object.prototype.hasOwnProperty;var Ai=(o,n)=>()=>(o&&(n=o(o=0)),n);var Sr=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports);var gt=(o,n,i,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let l of wi(n))!Ei.call(o,l)&&l!==i&&Gt(o,l,{get:()=>n[l],enumerable:!(f=mi(n,l))||f.enumerable});return o},W=(o,n,i)=>(gt(o,n,"default"),i&&gt(i,n,"default")),Vr=(o,n,i)=>(i=o!=null?vi(bi(o)):{},gt(n||!o||!o.__esModule?Gt(i,"default",{value:o,enumerable:!0}):i,o)),qi=o=>gt(Gt({},"__esModule",{value:!0}),o);var Ee=Sr(vt=>{"use strict";K();vt.byteLength=Bi;vt.toByteArray=xi;vt.fromByteArray=Si;var gr=[],ar=[],Ti=typeof Uint8Array!="undefined"?Uint8Array:Array,jt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(jr=0,we=jt.length;jr<we;++jr)gr[jr]=jt[jr],ar[jt.charCodeAt(jr)]=jr;var jr,we;ar["-".charCodeAt(0)]=62;ar["_".charCodeAt(0)]=63;function be(o){var n=o.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=o.indexOf("=");i===-1&&(i=n);var f=i===n?0:4-i%4;return[i,f]}function Bi(o){var n=be(o),i=n[0],f=n[1];return(i+f)*3/4-f}function Ii(o,n,i){return(n+i)*3/4-i}function xi(o){var n,i=be(o),f=i[0],l=i[1],h=new Ti(Ii(o,f,l)),p=0,a=l>0?f-4:f,v;for(v=0;v<a;v+=4)n=ar[o.charCodeAt(v)]<<18|ar[o.charCodeAt(v+1)]<<12|ar[o.charCodeAt(v+2)]<<6|ar[o.charCodeAt(v+3)],h[p++]=n>>16&255,h[p++]=n>>8&255,h[p++]=n&255;return l===2&&(n=ar[o.charCodeAt(v)]<<2|ar[o.charCodeAt(v+1)]>>4,h[p++]=n&255),l===1&&(n=ar[o.charCodeAt(v)]<<10|ar[o.charCodeAt(v+1)]<<4|ar[o.charCodeAt(v+2)]>>2,h[p++]=n>>8&255,h[p++]=n&255),h}function Ui(o){return gr[o>>18&63]+gr[o>>12&63]+gr[o>>6&63]+gr[o&63]}function Li(o,n,i){for(var f,l=[],h=n;h<i;h+=3)f=(o[h]<<16&16711680)+(o[h+1]<<8&65280)+(o[h+2]&255),l.push(Ui(f));return l.join("")}function Si(o){for(var n,i=o.length,f=i%3,l=[],h=16383,p=0,a=i-f;p<a;p+=h)l.push(Li(o,p,p+h>a?a:p+h));return f===1?(n=o[i-1],l.push(gr[n>>2]+gr[n<<4&63]+"==")):f===2&&(n=(o[i-2]<<8)+o[i-1],l.push(gr[n>>10]+gr[n>>4&63]+gr[n<<2&63]+"=")),l.join("")}});var Ae=Sr(zt=>{K();zt.read=function(o,n,i,f,l){var h,p,a=l*8-f-1,v=(1<<a)-1,g=v>>1,A=-7,E=i?l-1:0,T=i?-1:1,L=o[n+E];for(E+=T,h=L&(1<<-A)-1,L>>=-A,A+=a;A>0;h=h*256+o[n+E],E+=T,A-=8);for(p=h&(1<<-A)-1,h>>=-A,A+=f;A>0;p=p*256+o[n+E],E+=T,A-=8);if(h===0)h=1-g;else{if(h===v)return p?NaN:(L?-1:1)*(1/0);p=p+Math.pow(2,f),h=h-g}return(L?-1:1)*p*Math.pow(2,h-f)};zt.write=function(o,n,i,f,l,h){var p,a,v,g=h*8-l-1,A=(1<<g)-1,E=A>>1,T=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,L=f?0:h-1,y=f?1:-1,b=n<0||n===0&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,p=A):(p=Math.floor(Math.log(n)/Math.LN2),n*(v=Math.pow(2,-p))<1&&(p--,v*=2),p+E>=1?n+=T/v:n+=T*Math.pow(2,1-E),n*v>=2&&(p++,v/=2),p+E>=A?(a=0,p=A):p+E>=1?(a=(n*v-1)*Math.pow(2,l),p=p+E):(a=n*Math.pow(2,E-1)*Math.pow(2,l),p=0));l>=8;o[i+L]=a&255,L+=y,a/=256,l-=8);for(p=p<<l|a,g+=l;g>0;o[i+L]=p&255,L+=y,p/=256,g-=8);o[i+L-y]|=b*128}});var De=Sr(Yr=>{"use strict";K();var $t=Ee(),Wr=Ae(),qe=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Yr.Buffer=x;Yr.SlowBuffer=Ri;Yr.INSPECT_MAX_BYTES=50;var mt=2147483647;Yr.kMaxLength=mt;x.TYPED_ARRAY_SUPPORT=Ci();!x.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function Ci(){try{var o=new Uint8Array(1),n={foo:function(){return 42}};return Object.setPrototypeOf(n,Uint8Array.prototype),Object.setPrototypeOf(o,n),o.foo()===42}catch(i){return!1}}Object.defineProperty(x.prototype,"parent",{enumerable:!0,get:function(){if(!!x.isBuffer(this))return this.buffer}});Object.defineProperty(x.prototype,"offset",{enumerable:!0,get:function(){if(!!x.isBuffer(this))return this.byteOffset}});function xr(o){if(o>mt)throw new RangeError('The value "'+o+'" is invalid for option "size"');var n=new Uint8Array(o);return Object.setPrototypeOf(n,x.prototype),n}function x(o,n,i){if(typeof o=="number"){if(typeof n=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Xt(o)}return Ie(o,n,i)}x.poolSize=8192;function Ie(o,n,i){if(typeof o=="string")return _i(o,n);if(ArrayBuffer.isView(o))return Ni(o);if(o==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o);if(vr(o,ArrayBuffer)||o&&vr(o.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(vr(o,SharedArrayBuffer)||o&&vr(o.buffer,SharedArrayBuffer)))return Wt(o,n,i);if(typeof o=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var f=o.valueOf&&o.valueOf();if(f!=null&&f!==o)return x.from(f,n,i);var l=Di(o);if(l)return l;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof o[Symbol.toPrimitive]=="function")return x.from(o[Symbol.toPrimitive]("string"),n,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof o)}x.from=function(o,n,i){return Ie(o,n,i)};Object.setPrototypeOf(x.prototype,Uint8Array.prototype);Object.setPrototypeOf(x,Uint8Array);function xe(o){if(typeof o!="number")throw new TypeError('"size" argument must be of type number');if(o<0)throw new RangeError('The value "'+o+'" is invalid for option "size"')}function Oi(o,n,i){return xe(o),o<=0?xr(o):n!==void 0?typeof i=="string"?xr(o).fill(n,i):xr(o).fill(n):xr(o)}x.alloc=function(o,n,i){return Oi(o,n,i)};function Xt(o){return xe(o),xr(o<0?0:Ht(o)|0)}x.allocUnsafe=function(o){return Xt(o)};x.allocUnsafeSlow=function(o){return Xt(o)};function _i(o,n){if((typeof n!="string"||n==="")&&(n="utf8"),!x.isEncoding(n))throw new TypeError("Unknown encoding: "+n);var i=Ue(o,n)|0,f=xr(i),l=f.write(o,n);return l!==i&&(f=f.slice(0,l)),f}function Vt(o){for(var n=o.length<0?0:Ht(o.length)|0,i=xr(n),f=0;f<n;f+=1)i[f]=o[f]&255;return i}function Ni(o){if(vr(o,Uint8Array)){var n=new Uint8Array(o);return Wt(n.buffer,n.byteOffset,n.byteLength)}return Vt(o)}function Wt(o,n,i){if(n<0||o.byteLength<n)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<n+(i||0))throw new RangeError('"length" is outside of buffer bounds');var f;return n===void 0&&i===void 0?f=new Uint8Array(o):i===void 0?f=new Uint8Array(o,n):f=new Uint8Array(o,n,i),Object.setPrototypeOf(f,x.prototype),f}function Di(o){if(x.isBuffer(o)){var n=Ht(o.length)|0,i=xr(n);return i.length===0||o.copy(i,0,0,n),i}if(o.length!==void 0)return typeof o.length!="number"||Zt(o.length)?xr(0):Vt(o);if(o.type==="Buffer"&&Array.isArray(o.data))return Vt(o.data)}function Ht(o){if(o>=mt)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+mt.toString(16)+" bytes");return o|0}function Ri(o){return+o!=o&&(o=0),x.alloc(+o)}x.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==x.prototype};x.compare=function(n,i){if(vr(n,Uint8Array)&&(n=x.from(n,n.offset,n.byteLength)),vr(i,Uint8Array)&&(i=x.from(i,i.offset,i.byteLength)),!x.isBuffer(n)||!x.isBuffer(i))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===i)return 0;for(var f=n.length,l=i.length,h=0,p=Math.min(f,l);h<p;++h)if(n[h]!==i[h]){f=n[h],l=i[h];break}return f<l?-1:l<f?1:0};x.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};x.concat=function(n,i){if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return x.alloc(0);var f;if(i===void 0)for(i=0,f=0;f<n.length;++f)i+=n[f].length;var l=x.allocUnsafe(i),h=0;for(f=0;f<n.length;++f){var p=n[f];if(vr(p,Uint8Array))h+p.length>l.length?x.from(p).copy(l,h):Uint8Array.prototype.set.call(l,p,h);else if(x.isBuffer(p))p.copy(l,h);else throw new TypeError('"list" argument must be an Array of Buffers');h+=p.length}return l};function Ue(o,n){if(x.isBuffer(o))return o.length;if(ArrayBuffer.isView(o)||vr(o,ArrayBuffer))return o.byteLength;if(typeof o!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof o);var i=o.length,f=arguments.length>2&&arguments[2]===!0;if(!f&&i===0)return 0;for(var l=!1;;)switch(n){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return Yt(o).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return Ne(o).length;default:if(l)return f?-1:Yt(o).length;n=(""+n).toLowerCase(),l=!0}}x.byteLength=Ue;function Mi(o,n,i){var f=!1;if((n===void 0||n<0)&&(n=0),n>this.length||((i===void 0||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,n>>>=0,i<=n))return"";for(o||(o="utf8");;)switch(o){case"hex":return Yi(this,n,i);case"utf8":case"utf-8":return Se(this,n,i);case"ascii":return Vi(this,n,i);case"latin1":case"binary":return Wi(this,n,i);case"base64":return zi(this,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Xi(this,n,i);default:if(f)throw new TypeError("Unknown encoding: "+o);o=(o+"").toLowerCase(),f=!0}}x.prototype._isBuffer=!0;function zr(o,n,i){var f=o[n];o[n]=o[i],o[i]=f}x.prototype.swap16=function(){var n=this.length;if(n%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<n;i+=2)zr(this,i,i+1);return this};x.prototype.swap32=function(){var n=this.length;if(n%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<n;i+=4)zr(this,i,i+3),zr(this,i+1,i+2);return this};x.prototype.swap64=function(){var n=this.length;if(n%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<n;i+=8)zr(this,i,i+7),zr(this,i+1,i+6),zr(this,i+2,i+5),zr(this,i+3,i+4);return this};x.prototype.toString=function(){var n=this.length;return n===0?"":arguments.length===0?Se(this,0,n):Mi.apply(this,arguments)};x.prototype.toLocaleString=x.prototype.toString;x.prototype.equals=function(n){if(!x.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:x.compare(this,n)===0};x.prototype.inspect=function(){var n="",i=Yr.INSPECT_MAX_BYTES;return n=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(n+=" ... "),"<Buffer "+n+">"};qe&&(x.prototype[qe]=x.prototype.inspect);x.prototype.compare=function(n,i,f,l,h){if(vr(n,Uint8Array)&&(n=x.from(n,n.offset,n.byteLength)),!x.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(i===void 0&&(i=0),f===void 0&&(f=n?n.length:0),l===void 0&&(l=0),h===void 0&&(h=this.length),i<0||f>n.length||l<0||h>this.length)throw new RangeError("out of range index");if(l>=h&&i>=f)return 0;if(l>=h)return-1;if(i>=f)return 1;if(i>>>=0,f>>>=0,l>>>=0,h>>>=0,this===n)return 0;for(var p=h-l,a=f-i,v=Math.min(p,a),g=this.slice(l,h),A=n.slice(i,f),E=0;E<v;++E)if(g[E]!==A[E]){p=g[E],a=A[E];break}return p<a?-1:a<p?1:0};function Le(o,n,i,f,l){if(o.length===0)return-1;if(typeof i=="string"?(f=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,Zt(i)&&(i=l?0:o.length-1),i<0&&(i=o.length+i),i>=o.length){if(l)return-1;i=o.length-1}else if(i<0)if(l)i=0;else return-1;if(typeof n=="string"&&(n=x.from(n,f)),x.isBuffer(n))return n.length===0?-1:Te(o,n,i,f,l);if(typeof n=="number")return n=n&255,typeof Uint8Array.prototype.indexOf=="function"?l?Uint8Array.prototype.indexOf.call(o,n,i):Uint8Array.prototype.lastIndexOf.call(o,n,i):Te(o,[n],i,f,l);throw new TypeError("val must be string, number or Buffer")}function Te(o,n,i,f,l){var h=1,p=o.length,a=n.length;if(f!==void 0&&(f=String(f).toLowerCase(),f==="ucs2"||f==="ucs-2"||f==="utf16le"||f==="utf-16le")){if(o.length<2||n.length<2)return-1;h=2,p/=2,a/=2,i/=2}function v(L,y){return h===1?L[y]:L.readUInt16BE(y*h)}var g;if(l){var A=-1;for(g=i;g<p;g++)if(v(o,g)===v(n,A===-1?0:g-A)){if(A===-1&&(A=g),g-A+1===a)return A*h}else A!==-1&&(g-=g-A),A=-1}else for(i+a>p&&(i=p-a),g=i;g>=0;g--){for(var E=!0,T=0;T<a;T++)if(v(o,g+T)!==v(n,T)){E=!1;break}if(E)return g}return-1}x.prototype.includes=function(n,i,f){return this.indexOf(n,i,f)!==-1};x.prototype.indexOf=function(n,i,f){return Le(this,n,i,f,!0)};x.prototype.lastIndexOf=function(n,i,f){return Le(this,n,i,f,!1)};function Pi(o,n,i,f){i=Number(i)||0;var l=o.length-i;f?(f=Number(f),f>l&&(f=l)):f=l;var h=n.length;f>h/2&&(f=h/2);for(var p=0;p<f;++p){var a=parseInt(n.substr(p*2,2),16);if(Zt(a))return p;o[i+p]=a}return p}function ki(o,n,i,f){return wt(Yt(n,o.length-i),o,i,f)}function Fi(o,n,i,f){return wt(Ji(n),o,i,f)}function Gi(o,n,i,f){return wt(Ne(n),o,i,f)}function ji(o,n,i,f){return wt(Ki(n,o.length-i),o,i,f)}x.prototype.write=function(n,i,f,l){if(i===void 0)l="utf8",f=this.length,i=0;else if(f===void 0&&typeof i=="string")l=i,f=this.length,i=0;else if(isFinite(i))i=i>>>0,isFinite(f)?(f=f>>>0,l===void 0&&(l="utf8")):(l=f,f=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var h=this.length-i;if((f===void 0||f>h)&&(f=h),n.length>0&&(f<0||i<0)||i>this.length)throw new RangeError("Attempt to write outside buffer bounds");l||(l="utf8");for(var p=!1;;)switch(l){case"hex":return Pi(this,n,i,f);case"utf8":case"utf-8":return ki(this,n,i,f);case"ascii":case"latin1":case"binary":return Fi(this,n,i,f);case"base64":return Gi(this,n,i,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ji(this,n,i,f);default:if(p)throw new TypeError("Unknown encoding: "+l);l=(""+l).toLowerCase(),p=!0}};x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function zi(o,n,i){return n===0&&i===o.length?$t.fromByteArray(o):$t.fromByteArray(o.slice(n,i))}function Se(o,n,i){i=Math.min(o.length,i);for(var f=[],l=n;l<i;){var h=o[l],p=null,a=h>239?4:h>223?3:h>191?2:1;if(l+a<=i){var v,g,A,E;switch(a){case 1:h<128&&(p=h);break;case 2:v=o[l+1],(v&192)===128&&(E=(h&31)<<6|v&63,E>127&&(p=E));break;case 3:v=o[l+1],g=o[l+2],(v&192)===128&&(g&192)===128&&(E=(h&15)<<12|(v&63)<<6|g&63,E>2047&&(E<55296||E>57343)&&(p=E));break;case 4:v=o[l+1],g=o[l+2],A=o[l+3],(v&192)===128&&(g&192)===128&&(A&192)===128&&(E=(h&15)<<18|(v&63)<<12|(g&63)<<6|A&63,E>65535&&E<1114112&&(p=E))}}p===null?(p=65533,a=1):p>65535&&(p-=65536,f.push(p>>>10&1023|55296),p=56320|p&1023),f.push(p),l+=a}return $i(f)}var Be=4096;function $i(o){var n=o.length;if(n<=Be)return String.fromCharCode.apply(String,o);for(var i="",f=0;f<n;)i+=String.fromCharCode.apply(String,o.slice(f,f+=Be));return i}function Vi(o,n,i){var f="";i=Math.min(o.length,i);for(var l=n;l<i;++l)f+=String.fromCharCode(o[l]&127);return f}function Wi(o,n,i){var f="";i=Math.min(o.length,i);for(var l=n;l<i;++l)f+=String.fromCharCode(o[l]);return f}function Yi(o,n,i){var f=o.length;(!n||n<0)&&(n=0),(!i||i<0||i>f)&&(i=f);for(var l="",h=n;h<i;++h)l+=Qi[o[h]];return l}function Xi(o,n,i){for(var f=o.slice(n,i),l="",h=0;h<f.length-1;h+=2)l+=String.fromCharCode(f[h]+f[h+1]*256);return l}x.prototype.slice=function(n,i){var f=this.length;n=~~n,i=i===void 0?f:~~i,n<0?(n+=f,n<0&&(n=0)):n>f&&(n=f),i<0?(i+=f,i<0&&(i=0)):i>f&&(i=f),i<n&&(i=n);var l=this.subarray(n,i);return Object.setPrototypeOf(l,x.prototype),l};function Q(o,n,i){if(o%1!==0||o<0)throw new RangeError("offset is not uint");if(o+n>i)throw new RangeError("Trying to access beyond buffer length")}x.prototype.readUintLE=x.prototype.readUIntLE=function(n,i,f){n=n>>>0,i=i>>>0,f||Q(n,i,this.length);for(var l=this[n],h=1,p=0;++p<i&&(h*=256);)l+=this[n+p]*h;return l};x.prototype.readUintBE=x.prototype.readUIntBE=function(n,i,f){n=n>>>0,i=i>>>0,f||Q(n,i,this.length);for(var l=this[n+--i],h=1;i>0&&(h*=256);)l+=this[n+--i]*h;return l};x.prototype.readUint8=x.prototype.readUInt8=function(n,i){return n=n>>>0,i||Q(n,1,this.length),this[n]};x.prototype.readUint16LE=x.prototype.readUInt16LE=function(n,i){return n=n>>>0,i||Q(n,2,this.length),this[n]|this[n+1]<<8};x.prototype.readUint16BE=x.prototype.readUInt16BE=function(n,i){return n=n>>>0,i||Q(n,2,this.length),this[n]<<8|this[n+1]};x.prototype.readUint32LE=x.prototype.readUInt32LE=function(n,i){return n=n>>>0,i||Q(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216};x.prototype.readUint32BE=x.prototype.readUInt32BE=function(n,i){return n=n>>>0,i||Q(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])};x.prototype.readIntLE=function(n,i,f){n=n>>>0,i=i>>>0,f||Q(n,i,this.length);for(var l=this[n],h=1,p=0;++p<i&&(h*=256);)l+=this[n+p]*h;return h*=128,l>=h&&(l-=Math.pow(2,8*i)),l};x.prototype.readIntBE=function(n,i,f){n=n>>>0,i=i>>>0,f||Q(n,i,this.length);for(var l=i,h=1,p=this[n+--l];l>0&&(h*=256);)p+=this[n+--l]*h;return h*=128,p>=h&&(p-=Math.pow(2,8*i)),p};x.prototype.readInt8=function(n,i){return n=n>>>0,i||Q(n,1,this.length),this[n]&128?(255-this[n]+1)*-1:this[n]};x.prototype.readInt16LE=function(n,i){n=n>>>0,i||Q(n,2,this.length);var f=this[n]|this[n+1]<<8;return f&32768?f|4294901760:f};x.prototype.readInt16BE=function(n,i){n=n>>>0,i||Q(n,2,this.length);var f=this[n+1]|this[n]<<8;return f&32768?f|4294901760:f};x.prototype.readInt32LE=function(n,i){return n=n>>>0,i||Q(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24};x.prototype.readInt32BE=function(n,i){return n=n>>>0,i||Q(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]};x.prototype.readFloatLE=function(n,i){return n=n>>>0,i||Q(n,4,this.length),Wr.read(this,n,!0,23,4)};x.prototype.readFloatBE=function(n,i){return n=n>>>0,i||Q(n,4,this.length),Wr.read(this,n,!1,23,4)};x.prototype.readDoubleLE=function(n,i){return n=n>>>0,i||Q(n,8,this.length),Wr.read(this,n,!0,52,8)};x.prototype.readDoubleBE=function(n,i){return n=n>>>0,i||Q(n,8,this.length),Wr.read(this,n,!1,52,8)};function ir(o,n,i,f,l,h){if(!x.isBuffer(o))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>l||n<h)throw new RangeError('"value" argument is out of bounds');if(i+f>o.length)throw new RangeError("Index out of range")}x.prototype.writeUintLE=x.prototype.writeUIntLE=function(n,i,f,l){if(n=+n,i=i>>>0,f=f>>>0,!l){var h=Math.pow(2,8*f)-1;ir(this,n,i,f,h,0)}var p=1,a=0;for(this[i]=n&255;++a<f&&(p*=256);)this[i+a]=n/p&255;return i+f};x.prototype.writeUintBE=x.prototype.writeUIntBE=function(n,i,f,l){if(n=+n,i=i>>>0,f=f>>>0,!l){var h=Math.pow(2,8*f)-1;ir(this,n,i,f,h,0)}var p=f-1,a=1;for(this[i+p]=n&255;--p>=0&&(a*=256);)this[i+p]=n/a&255;return i+f};x.prototype.writeUint8=x.prototype.writeUInt8=function(n,i,f){return n=+n,i=i>>>0,f||ir(this,n,i,1,255,0),this[i]=n&255,i+1};x.prototype.writeUint16LE=x.prototype.writeUInt16LE=function(n,i,f){return n=+n,i=i>>>0,f||ir(this,n,i,2,65535,0),this[i]=n&255,this[i+1]=n>>>8,i+2};x.prototype.writeUint16BE=x.prototype.writeUInt16BE=function(n,i,f){return n=+n,i=i>>>0,f||ir(this,n,i,2,65535,0),this[i]=n>>>8,this[i+1]=n&255,i+2};x.prototype.writeUint32LE=x.prototype.writeUInt32LE=function(n,i,f){return n=+n,i=i>>>0,f||ir(this,n,i,4,4294967295,0),this[i+3]=n>>>24,this[i+2]=n>>>16,this[i+1]=n>>>8,this[i]=n&255,i+4};x.prototype.writeUint32BE=x.prototype.writeUInt32BE=function(n,i,f){return n=+n,i=i>>>0,f||ir(this,n,i,4,4294967295,0),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4};x.prototype.writeIntLE=function(n,i,f,l){if(n=+n,i=i>>>0,!l){var h=Math.pow(2,8*f-1);ir(this,n,i,f,h-1,-h)}var p=0,a=1,v=0;for(this[i]=n&255;++p<f&&(a*=256);)n<0&&v===0&&this[i+p-1]!==0&&(v=1),this[i+p]=(n/a>>0)-v&255;return i+f};x.prototype.writeIntBE=function(n,i,f,l){if(n=+n,i=i>>>0,!l){var h=Math.pow(2,8*f-1);ir(this,n,i,f,h-1,-h)}var p=f-1,a=1,v=0;for(this[i+p]=n&255;--p>=0&&(a*=256);)n<0&&v===0&&this[i+p+1]!==0&&(v=1),this[i+p]=(n/a>>0)-v&255;return i+f};x.prototype.writeInt8=function(n,i,f){return n=+n,i=i>>>0,f||ir(this,n,i,1,127,-128),n<0&&(n=255+n+1),this[i]=n&255,i+1};x.prototype.writeInt16LE=function(n,i,f){return n=+n,i=i>>>0,f||ir(this,n,i,2,32767,-32768),this[i]=n&255,this[i+1]=n>>>8,i+2};x.prototype.writeInt16BE=function(n,i,f){return n=+n,i=i>>>0,f||ir(this,n,i,2,32767,-32768),this[i]=n>>>8,this[i+1]=n&255,i+2};x.prototype.writeInt32LE=function(n,i,f){return n=+n,i=i>>>0,f||ir(this,n,i,4,2147483647,-2147483648),this[i]=n&255,this[i+1]=n>>>8,this[i+2]=n>>>16,this[i+3]=n>>>24,i+4};x.prototype.writeInt32BE=function(n,i,f){return n=+n,i=i>>>0,f||ir(this,n,i,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[i]=n>>>24,this[i+1]=n>>>16,this[i+2]=n>>>8,this[i+3]=n&255,i+4};function Ce(o,n,i,f,l,h){if(i+f>o.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function Oe(o,n,i,f,l){return n=+n,i=i>>>0,l||Ce(o,n,i,4,34028234663852886e22,-34028234663852886e22),Wr.write(o,n,i,f,23,4),i+4}x.prototype.writeFloatLE=function(n,i,f){return Oe(this,n,i,!0,f)};x.prototype.writeFloatBE=function(n,i,f){return Oe(this,n,i,!1,f)};function _e(o,n,i,f,l){return n=+n,i=i>>>0,l||Ce(o,n,i,8,17976931348623157e292,-17976931348623157e292),Wr.write(o,n,i,f,52,8),i+8}x.prototype.writeDoubleLE=function(n,i,f){return _e(this,n,i,!0,f)};x.prototype.writeDoubleBE=function(n,i,f){return _e(this,n,i,!1,f)};x.prototype.copy=function(n,i,f,l){if(!x.isBuffer(n))throw new TypeError("argument should be a Buffer");if(f||(f=0),!l&&l!==0&&(l=this.length),i>=n.length&&(i=n.length),i||(i=0),l>0&&l<f&&(l=f),l===f||n.length===0||this.length===0)return 0;if(i<0)throw new RangeError("targetStart out of bounds");if(f<0||f>=this.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("sourceEnd out of bounds");l>this.length&&(l=this.length),n.length-i<l-f&&(l=n.length-i+f);var h=l-f;return this===n&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(i,f,l):Uint8Array.prototype.set.call(n,this.subarray(f,l),i),h};x.prototype.fill=function(n,i,f,l){if(typeof n=="string"){if(typeof i=="string"?(l=i,i=0,f=this.length):typeof f=="string"&&(l=f,f=this.length),l!==void 0&&typeof l!="string")throw new TypeError("encoding must be a string");if(typeof l=="string"&&!x.isEncoding(l))throw new TypeError("Unknown encoding: "+l);if(n.length===1){var h=n.charCodeAt(0);(l==="utf8"&&h<128||l==="latin1")&&(n=h)}}else typeof n=="number"?n=n&255:typeof n=="boolean"&&(n=Number(n));if(i<0||this.length<i||this.length<f)throw new RangeError("Out of range index");if(f<=i)return this;i=i>>>0,f=f===void 0?this.length:f>>>0,n||(n=0);var p;if(typeof n=="number")for(p=i;p<f;++p)this[p]=n;else{var a=x.isBuffer(n)?n:x.from(n,l),v=a.length;if(v===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(p=0;p<f-i;++p)this[p+i]=a[p%v]}return this};var Hi=/[^+/0-9A-Za-z-_]/g;function Zi(o){if(o=o.split("=")[0],o=o.trim().replace(Hi,""),o.length<2)return"";for(;o.length%4!==0;)o=o+"=";return o}function Yt(o,n){n=n||1/0;for(var i,f=o.length,l=null,h=[],p=0;p<f;++p){if(i=o.charCodeAt(p),i>55295&&i<57344){if(!l){if(i>56319){(n-=3)>-1&&h.push(239,191,189);continue}else if(p+1===f){(n-=3)>-1&&h.push(239,191,189);continue}l=i;continue}if(i<56320){(n-=3)>-1&&h.push(239,191,189),l=i;continue}i=(l-55296<<10|i-56320)+65536}else l&&(n-=3)>-1&&h.push(239,191,189);if(l=null,i<128){if((n-=1)<0)break;h.push(i)}else if(i<2048){if((n-=2)<0)break;h.push(i>>6|192,i&63|128)}else if(i<65536){if((n-=3)<0)break;h.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((n-=4)<0)break;h.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point")}return h}function Ji(o){for(var n=[],i=0;i<o.length;++i)n.push(o.charCodeAt(i)&255);return n}function Ki(o,n){for(var i,f,l,h=[],p=0;p<o.length&&!((n-=2)<0);++p)i=o.charCodeAt(p),f=i>>8,l=i%256,h.push(l),h.push(f);return h}function Ne(o){return $t.toByteArray(Zi(o))}function wt(o,n,i,f){for(var l=0;l<f&&!(l+i>=n.length||l>=o.length);++l)n[l+i]=o[l];return l}function vr(o,n){return o instanceof n||o!=null&&o.constructor!=null&&o.constructor.name!=null&&o.constructor.name===n.name}function Zt(o){return o!==o}var Qi=function(){for(var o="0123456789abcdef",n=new Array(256),i=0;i<16;++i)for(var f=i*16,l=0;l<16;++l)n[f+l]=o[i]+o[l];return n}()});var Fe=Sr((_l,ke)=>{K();var Y=ke.exports={},mr,wr;function Jt(){throw new Error("setTimeout has not been defined")}function Kt(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?mr=setTimeout:mr=Jt}catch(o){mr=Jt}try{typeof clearTimeout=="function"?wr=clearTimeout:wr=Kt}catch(o){wr=Kt}})();function Re(o){if(mr===setTimeout)return setTimeout(o,0);if((mr===Jt||!mr)&&setTimeout)return mr=setTimeout,setTimeout(o,0);try{return mr(o,0)}catch(n){try{return mr.call(null,o,0)}catch(i){return mr.call(this,o,0)}}}function ro(o){if(wr===clearTimeout)return clearTimeout(o);if((wr===Kt||!wr)&&clearTimeout)return wr=clearTimeout,clearTimeout(o);try{return wr(o)}catch(n){try{return wr.call(null,o)}catch(i){return wr.call(this,o)}}}var Ur=[],Xr=!1,$r,bt=-1;function to(){!Xr||!$r||(Xr=!1,$r.length?Ur=$r.concat(Ur):bt=-1,Ur.length&&Me())}function Me(){if(!Xr){var o=Re(to);Xr=!0;for(var n=Ur.length;n;){for($r=Ur,Ur=[];++bt<n;)$r&&$r[bt].run();bt=-1,n=Ur.length}$r=null,Xr=!1,ro(o)}}Y.nextTick=function(o){var n=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)n[i-1]=arguments[i];Ur.push(new Pe(o,n)),Ur.length===1&&!Xr&&Re(Me)};function Pe(o,n){this.fun=o,this.array=n}Pe.prototype.run=function(){this.fun.apply(null,this.array)};Y.title="browser";Y.browser=!0;Y.env={};Y.argv=[];Y.version="";Y.versions={};function Lr(){}Y.on=Lr;Y.addListener=Lr;Y.once=Lr;Y.off=Lr;Y.removeListener=Lr;Y.removeAllListeners=Lr;Y.emit=Lr;Y.prependListener=Lr;Y.prependOnceListener=Lr;Y.listeners=function(o){return[]};Y.binding=function(o){throw new Error("process.binding is not supported")};Y.cwd=function(){return"/"};Y.chdir=function(o){throw new Error("process.chdir is not supported")};Y.umask=function(){return 0}});var Br,Ir,Nl,K=Ai(()=>{Br=Vr(De()),Ir=Vr(Fe()),Nl=function(o){function n(){var f=this||self;return delete o.prototype.__magic__,f}if(typeof globalThis=="object")return globalThis;if(this)return n();o.defineProperty(o.prototype,"__magic__",{configurable:!0,get:n});var i=__magic__;return i}(Object)});var sn=Sr((Zh,fn)=>{"use strict";K();var eo=Object.create,ot=Object.defineProperty,no=Object.defineProperties,io=Object.getOwnPropertyDescriptor,oo=Object.getOwnPropertyDescriptors,uo=Object.getOwnPropertyNames,Ge=Object.getOwnPropertySymbols,ao=Object.getPrototypeOf,He=Object.prototype.hasOwnProperty,fo=Object.prototype.propertyIsEnumerable,je=(o,n,i)=>n in o?ot(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,Ze=(o,n)=>{for(var i in n||(n={}))He.call(n,i)&&je(o,i,n[i]);if(Ge)for(var i of Ge(n))fo.call(n,i)&&je(o,i,n[i]);return o},Je=(o,n)=>no(o,oo(n)),so=(o,n)=>()=>(o&&(n=o(o=0)),n),At=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports),lo=(o,n)=>{for(var i in n)ot(o,i,{get:n[i],enumerable:!0})},Ke=(o,n,i,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let l of uo(n))!He.call(o,l)&&l!==i&&ot(o,l,{get:()=>n[l],enumerable:!(f=io(n,l))||f.enumerable});return o},j=(o,n,i)=>(i=o!=null?eo(ao(o)):{},Ke(n||!o||!o.__esModule?ot(i,"default",{value:o,enumerable:!0}):i,o)),co=o=>Ke(ot({},"__esModule",{value:!0}),o),Jr=(o,n,i)=>new Promise((f,l)=>{var h=v=>{try{a(i.next(v))}catch(g){l(g)}},p=v=>{try{a(i.throw(v))}catch(g){l(g)}},a=v=>v.done?f(v.value):Promise.resolve(v.value).then(h,p);a((i=i.apply(o,n)).next())}),ho=At(o=>{"use strict";I(),o.byteLength=v,o.toByteArray=A,o.fromByteArray=L;var n=[],i=[],f=typeof Uint8Array!="undefined"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(h=0,p=l.length;h<p;++h)n[h]=l[h],i[l.charCodeAt(h)]=h;var h,p;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63;function a(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=y.indexOf("=");m===-1&&(m=b);var w=m===b?0:4-m%4;return[m,w]}function v(y){var b=a(y),m=b[0],w=b[1];return(m+w)*3/4-w}function g(y,b,m){return(b+m)*3/4-m}function A(y){var b,m=a(y),w=m[0],q=m[1],B=new f(g(y,w,q)),_=0,k=q>0?w-4:w,P;for(P=0;P<k;P+=4)b=i[y.charCodeAt(P)]<<18|i[y.charCodeAt(P+1)]<<12|i[y.charCodeAt(P+2)]<<6|i[y.charCodeAt(P+3)],B[_++]=b>>16&255,B[_++]=b>>8&255,B[_++]=b&255;return q===2&&(b=i[y.charCodeAt(P)]<<2|i[y.charCodeAt(P+1)]>>4,B[_++]=b&255),q===1&&(b=i[y.charCodeAt(P)]<<10|i[y.charCodeAt(P+1)]<<4|i[y.charCodeAt(P+2)]>>2,B[_++]=b>>8&255,B[_++]=b&255),B}function E(y){return n[y>>18&63]+n[y>>12&63]+n[y>>6&63]+n[y&63]}function T(y,b,m){for(var w,q=[],B=b;B<m;B+=3)w=(y[B]<<16&16711680)+(y[B+1]<<8&65280)+(y[B+2]&255),q.push(E(w));return q.join("")}function L(y){for(var b,m=y.length,w=m%3,q=[],B=16383,_=0,k=m-w;_<k;_+=B)q.push(T(y,_,_+B>k?k:_+B));return w===1?(b=y[m-1],q.push(n[b>>2]+n[b<<4&63]+"==")):w===2&&(b=(y[m-2]<<8)+y[m-1],q.push(n[b>>10]+n[b>>4&63]+n[b<<2&63]+"=")),q.join("")}}),po=At(o=>{I(),o.read=function(n,i,f,l,h){var p,a,v=h*8-l-1,g=(1<<v)-1,A=g>>1,E=-7,T=f?h-1:0,L=f?-1:1,y=n[i+T];for(T+=L,p=y&(1<<-E)-1,y>>=-E,E+=v;E>0;p=p*256+n[i+T],T+=L,E-=8);for(a=p&(1<<-E)-1,p>>=-E,E+=l;E>0;a=a*256+n[i+T],T+=L,E-=8);if(p===0)p=1-A;else{if(p===g)return a?NaN:(y?-1:1)*(1/0);a=a+Math.pow(2,l),p=p-A}return(y?-1:1)*a*Math.pow(2,p-l)},o.write=function(n,i,f,l,h,p){var a,v,g,A=p*8-h-1,E=(1<<A)-1,T=E>>1,L=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=l?0:p-1,b=l?1:-1,m=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(v=isNaN(i)?1:0,a=E):(a=Math.floor(Math.log(i)/Math.LN2),i*(g=Math.pow(2,-a))<1&&(a--,g*=2),a+T>=1?i+=L/g:i+=L*Math.pow(2,1-T),i*g>=2&&(a++,g/=2),a+T>=E?(v=0,a=E):a+T>=1?(v=(i*g-1)*Math.pow(2,h),a=a+T):(v=i*Math.pow(2,T-1)*Math.pow(2,h),a=0));h>=8;n[f+y]=v&255,y+=b,v/=256,h-=8);for(a=a<<h|v,A+=h;A>0;n[f+y]=a&255,y+=b,a/=256,A-=8);n[f+y-b]|=m*128}}),yo=At(o=>{"use strict";I();var n=ho(),i=po(),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=a,o.SlowBuffer=q,o.INSPECT_MAX_BYTES=50;var l=2147483647;o.kMaxLength=l,a.TYPED_ARRAY_SUPPORT=h(),!a.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var r=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(r,t),r.foo()===42}catch(e){return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function p(r){if(r>l)throw new RangeError('The value "'+r+'" is invalid for option "size"');var t=new Uint8Array(r);return Object.setPrototypeOf(t,a.prototype),t}function a(r,t,e){if(typeof r=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(r)}return v(r,t,e)}a.poolSize=8192;function v(r,t,e){if(typeof r=="string")return T(r,t);if(ArrayBuffer.isView(r))return y(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(z(r,ArrayBuffer)||r&&z(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(z(r,SharedArrayBuffer)||r&&z(r.buffer,SharedArrayBuffer)))return b(r,t,e);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var u=r.valueOf&&r.valueOf();if(u!=null&&u!==r)return a.from(u,t,e);var s=m(r);if(s)return s;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return a.from(r[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}a.from=function(r,t,e){return v(r,t,e)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function g(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function A(r,t,e){return g(r),r<=0?p(r):t!==void 0?typeof e=="string"?p(r).fill(t,e):p(r).fill(t):p(r)}a.alloc=function(r,t,e){return A(r,t,e)};function E(r){return g(r),p(r<0?0:w(r)|0)}a.allocUnsafe=function(r){return E(r)},a.allocUnsafeSlow=function(r){return E(r)};function T(r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var e=B(r,t)|0,u=p(e),s=u.write(r,t);return s!==e&&(u=u.slice(0,s)),u}function L(r){for(var t=r.length<0?0:w(r.length)|0,e=p(t),u=0;u<t;u+=1)e[u]=r[u]&255;return e}function y(r){if(z(r,Uint8Array)){var t=new Uint8Array(r);return b(t.buffer,t.byteOffset,t.byteLength)}return L(r)}function b(r,t,e){if(t<0||r.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');var u;return t===void 0&&e===void 0?u=new Uint8Array(r):e===void 0?u=new Uint8Array(r,t):u=new Uint8Array(r,t,e),Object.setPrototypeOf(u,a.prototype),u}function m(r){if(a.isBuffer(r)){var t=w(r.length)|0,e=p(t);return e.length===0||r.copy(e,0,0,t),e}if(r.length!==void 0)return typeof r.length!="number"||nr(r.length)?p(0):L(r);if(r.type==="Buffer"&&Array.isArray(r.data))return L(r.data)}function w(r){if(r>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return r|0}function q(r){return+r!=r&&(r=0),a.alloc(+r)}a.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==a.prototype},a.compare=function(r,t){if(z(r,Uint8Array)&&(r=a.from(r,r.offset,r.byteLength)),z(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(r)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===t)return 0;for(var e=r.length,u=t.length,s=0,c=Math.min(e,u);s<c;++s)if(r[s]!==t[s]){e=r[s],u=t[s];break}return e<u?-1:u<e?1:0},a.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(r,t){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return a.alloc(0);var e;if(t===void 0)for(t=0,e=0;e<r.length;++e)t+=r[e].length;var u=a.allocUnsafe(t),s=0;for(e=0;e<r.length;++e){var c=r[e];if(z(c,Uint8Array))s+c.length>u.length?a.from(c).copy(u,s):Uint8Array.prototype.set.call(u,c,s);else if(a.isBuffer(c))c.copy(u,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=c.length}return u};function B(r,t){if(a.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||z(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var e=r.length,u=arguments.length>2&&arguments[2]===!0;if(!u&&e===0)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return er(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return pr(r).length;default:if(s)return u?-1:er(r).length;t=(""+t).toLowerCase(),s=!0}}a.byteLength=B;function _(r,t,e){var u=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return Dr(this,t,e);case"utf8":case"utf-8":return ur(this,t,e);case"ascii":return _r(this,t,e);case"latin1":case"binary":return Nr(this,t,e);case"base64":return fr(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rr(this,t,e);default:if(u)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),u=!0}}a.prototype._isBuffer=!0;function k(r,t,e){var u=r[t];r[t]=r[e],r[e]=u}a.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)k(this,t,t+1);return this},a.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)k(this,t,t+3),k(this,t+1,t+2);return this},a.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)k(this,t,t+7),k(this,t+1,t+6),k(this,t+2,t+5),k(this,t+3,t+4);return this},a.prototype.toString=function(){var r=this.length;return r===0?"":arguments.length===0?ur(this,0,r):_.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(r){if(!a.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:a.compare(this,r)===0},a.prototype.inspect=function(){var r="",t=o.INSPECT_MAX_BYTES;return r=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(r+=" ... "),"<Buffer "+r+">"},f&&(a.prototype[f]=a.prototype.inspect),a.prototype.compare=function(r,t,e,u,s){if(z(r,Uint8Array)&&(r=a.from(r,r.offset,r.byteLength)),!a.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(t===void 0&&(t=0),e===void 0&&(e=r?r.length:0),u===void 0&&(u=0),s===void 0&&(s=this.length),t<0||e>r.length||u<0||s>this.length)throw new RangeError("out of range index");if(u>=s&&t>=e)return 0;if(u>=s)return-1;if(t>=e)return 1;if(t>>>=0,e>>>=0,u>>>=0,s>>>=0,this===r)return 0;for(var c=s-u,d=e-t,U=Math.min(c,d),M=this.slice(u,s),S=r.slice(t,e),O=0;O<U;++O)if(M[O]!==S[O]){c=M[O],d=S[O];break}return c<d?-1:d<c?1:0};function P(r,t,e,u,s){if(r.length===0)return-1;if(typeof e=="string"?(u=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,nr(e)&&(e=s?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(s)return-1;e=r.length-1}else if(e<0)if(s)e=0;else return-1;if(typeof t=="string"&&(t=a.from(t,u)),a.isBuffer(t))return t.length===0?-1:or(r,t,e,u,s);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):or(r,[t],e,u,s);throw new TypeError("val must be string, number or Buffer")}function or(r,t,e,u,s){var c=1,d=r.length,U=t.length;if(u!==void 0&&(u=String(u).toLowerCase(),u==="ucs2"||u==="ucs-2"||u==="utf16le"||u==="utf-16le")){if(r.length<2||t.length<2)return-1;c=2,d/=2,U/=2,e/=2}function M(yr,dr){return c===1?yr[dr]:yr.readUInt16BE(dr*c)}var S;if(s){var O=-1;for(S=e;S<d;S++)if(M(r,S)===M(t,O===-1?0:S-O)){if(O===-1&&(O=S),S-O+1===U)return O*c}else O!==-1&&(S-=S-O),O=-1}else for(e+U>d&&(e=d-U),S=e;S>=0;S--){for(var F=!0,J=0;J<U;J++)if(M(r,S+J)!==M(t,J)){F=!1;break}if(F)return S}return-1}a.prototype.includes=function(r,t,e){return this.indexOf(r,t,e)!==-1},a.prototype.indexOf=function(r,t,e){return P(this,r,t,e,!0)},a.prototype.lastIndexOf=function(r,t,e){return P(this,r,t,e,!1)};function br(r,t,e,u){e=Number(e)||0;var s=r.length-e;u?(u=Number(u),u>s&&(u=s)):u=s;var c=t.length;u>c/2&&(u=c/2);for(var d=0;d<u;++d){var U=parseInt(t.substr(d*2,2),16);if(nr(U))return d;r[e+d]=U}return d}function Er(r,t,e,u){return Z(er(t,r.length-e),r,e,u)}function Ar(r,t,e,u){return Z(kr(t),r,e,u)}function qr(r,t,e,u){return Z(pr(t),r,e,u)}function Tr(r,t,e,u){return Z(Fr(t,r.length-e),r,e,u)}a.prototype.write=function(r,t,e,u){if(t===void 0)u="utf8",e=this.length,t=0;else if(e===void 0&&typeof t=="string")u=t,e=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(e)?(e=e>>>0,u===void 0&&(u="utf8")):(u=e,e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((e===void 0||e>s)&&(e=s),r.length>0&&(e<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");for(var c=!1;;)switch(u){case"hex":return br(this,r,t,e);case"utf8":case"utf-8":return Er(this,r,t,e);case"ascii":case"latin1":case"binary":return Ar(this,r,t,e);case"base64":return qr(this,r,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Tr(this,r,t,e);default:if(c)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),c=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function fr(r,t,e){return t===0&&e===r.length?n.fromByteArray(r):n.fromByteArray(r.slice(t,e))}function ur(r,t,e){e=Math.min(r.length,e);for(var u=[],s=t;s<e;){var c=r[s],d=null,U=c>239?4:c>223?3:c>191?2:1;if(s+U<=e){var M,S,O,F;switch(U){case 1:c<128&&(d=c);break;case 2:M=r[s+1],(M&192)===128&&(F=(c&31)<<6|M&63,F>127&&(d=F));break;case 3:M=r[s+1],S=r[s+2],(M&192)===128&&(S&192)===128&&(F=(c&15)<<12|(M&63)<<6|S&63,F>2047&&(F<55296||F>57343)&&(d=F));break;case 4:M=r[s+1],S=r[s+2],O=r[s+3],(M&192)===128&&(S&192)===128&&(O&192)===128&&(F=(c&15)<<18|(M&63)<<12|(S&63)<<6|O&63,F>65535&&F<1114112&&(d=F))}}d===null?(d=65533,U=1):d>65535&&(d-=65536,u.push(d>>>10&1023|55296),d=56320|d&1023),u.push(d),s+=U}return Or(u)}var sr=4096;function Or(r){var t=r.length;if(t<=sr)return String.fromCharCode.apply(String,r);for(var e="",u=0;u<t;)e+=String.fromCharCode.apply(String,r.slice(u,u+=sr));return e}function _r(r,t,e){var u="";e=Math.min(r.length,e);for(var s=t;s<e;++s)u+=String.fromCharCode(r[s]&127);return u}function Nr(r,t,e){var u="";e=Math.min(r.length,e);for(var s=t;s<e;++s)u+=String.fromCharCode(r[s]);return u}function Dr(r,t,e){var u=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>u)&&(e=u);for(var s="",c=t;c<e;++c)s+=Gr[r[c]];return s}function Rr(r,t,e){for(var u=r.slice(t,e),s="",c=0;c<u.length-1;c+=2)s+=String.fromCharCode(u[c]+u[c+1]*256);return s}a.prototype.slice=function(r,t){var e=this.length;r=~~r,t=t===void 0?e:~~t,r<0?(r+=e,r<0&&(r=0)):r>e&&(r=e),t<0?(t+=e,t<0&&(t=0)):t>e&&(t=e),t<r&&(t=r);var u=this.subarray(r,t);return Object.setPrototypeOf(u,a.prototype),u};function R(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=this[r],s=1,c=0;++c<t&&(s*=256);)u+=this[r+c]*s;return u},a.prototype.readUintBE=a.prototype.readUIntBE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=this[r+--t],s=1;t>0&&(s*=256);)u+=this[r+--t]*s;return u},a.prototype.readUint8=a.prototype.readUInt8=function(r,t){return r=r>>>0,t||R(r,1,this.length),this[r]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(r,t){return r=r>>>0,t||R(r,2,this.length),this[r]|this[r+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(r,t){return r=r>>>0,t||R(r,2,this.length),this[r]<<8|this[r+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(r,t){return r=r>>>0,t||R(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(r,t){return r=r>>>0,t||R(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},a.prototype.readIntLE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=this[r],s=1,c=0;++c<t&&(s*=256);)u+=this[r+c]*s;return s*=128,u>=s&&(u-=Math.pow(2,8*t)),u},a.prototype.readIntBE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=t,s=1,c=this[r+--u];u>0&&(s*=256);)c+=this[r+--u]*s;return s*=128,c>=s&&(c-=Math.pow(2,8*t)),c},a.prototype.readInt8=function(r,t){return r=r>>>0,t||R(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},a.prototype.readInt16LE=function(r,t){r=r>>>0,t||R(r,2,this.length);var e=this[r]|this[r+1]<<8;return e&32768?e|4294901760:e},a.prototype.readInt16BE=function(r,t){r=r>>>0,t||R(r,2,this.length);var e=this[r+1]|this[r]<<8;return e&32768?e|4294901760:e},a.prototype.readInt32LE=function(r,t){return r=r>>>0,t||R(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},a.prototype.readInt32BE=function(r,t){return r=r>>>0,t||R(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},a.prototype.readFloatLE=function(r,t){return r=r>>>0,t||R(r,4,this.length),i.read(this,r,!0,23,4)},a.prototype.readFloatBE=function(r,t){return r=r>>>0,t||R(r,4,this.length),i.read(this,r,!1,23,4)},a.prototype.readDoubleLE=function(r,t){return r=r>>>0,t||R(r,8,this.length),i.read(this,r,!0,52,8)},a.prototype.readDoubleBE=function(r,t){return r=r>>>0,t||R(r,8,this.length),i.read(this,r,!1,52,8)};function G(r,t,e,u,s,c){if(!a.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<c)throw new RangeError('"value" argument is out of bounds');if(e+u>r.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(r,t,e,u){if(r=+r,t=t>>>0,e=e>>>0,!u){var s=Math.pow(2,8*e)-1;G(this,r,t,e,s,0)}var c=1,d=0;for(this[t]=r&255;++d<e&&(c*=256);)this[t+d]=r/c&255;return t+e},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(r,t,e,u){if(r=+r,t=t>>>0,e=e>>>0,!u){var s=Math.pow(2,8*e)-1;G(this,r,t,e,s,0)}var c=e-1,d=1;for(this[t+c]=r&255;--c>=0&&(d*=256);)this[t+c]=r/d&255;return t+e},a.prototype.writeUint8=a.prototype.writeUInt8=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,1,255,0),this[t]=r&255,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,65535,0),this[t]=r&255,this[t+1]=r>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,65535,0),this[t]=r>>>8,this[t+1]=r&255,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,4294967295,0),this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=r&255,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,4294967295,0),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4},a.prototype.writeIntLE=function(r,t,e,u){if(r=+r,t=t>>>0,!u){var s=Math.pow(2,8*e-1);G(this,r,t,e,s-1,-s)}var c=0,d=1,U=0;for(this[t]=r&255;++c<e&&(d*=256);)r<0&&U===0&&this[t+c-1]!==0&&(U=1),this[t+c]=(r/d>>0)-U&255;return t+e},a.prototype.writeIntBE=function(r,t,e,u){if(r=+r,t=t>>>0,!u){var s=Math.pow(2,8*e-1);G(this,r,t,e,s-1,-s)}var c=e-1,d=1,U=0;for(this[t+c]=r&255;--c>=0&&(d*=256);)r<0&&U===0&&this[t+c+1]!==0&&(U=1),this[t+c]=(r/d>>0)-U&255;return t+e},a.prototype.writeInt8=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,1,127,-128),r<0&&(r=255+r+1),this[t]=r&255,t+1},a.prototype.writeInt16LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,32767,-32768),this[t]=r&255,this[t+1]=r>>>8,t+2},a.prototype.writeInt16BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,32767,-32768),this[t]=r>>>8,this[t+1]=r&255,t+2},a.prototype.writeInt32LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,2147483647,-2147483648),this[t]=r&255,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24,t+4},a.prototype.writeInt32BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4};function lr(r,t,e,u,s,c){if(e+u>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function cr(r,t,e,u,s){return t=+t,e=e>>>0,s||lr(r,t,e,4,34028234663852886e22,-34028234663852886e22),i.write(r,t,e,u,23,4),e+4}a.prototype.writeFloatLE=function(r,t,e){return cr(this,r,t,!0,e)},a.prototype.writeFloatBE=function(r,t,e){return cr(this,r,t,!1,e)};function hr(r,t,e,u,s){return t=+t,e=e>>>0,s||lr(r,t,e,8,17976931348623157e292,-17976931348623157e292),i.write(r,t,e,u,52,8),e+8}a.prototype.writeDoubleLE=function(r,t,e){return hr(this,r,t,!0,e)},a.prototype.writeDoubleBE=function(r,t,e){return hr(this,r,t,!1,e)},a.prototype.copy=function(r,t,e,u){if(!a.isBuffer(r))throw new TypeError("argument should be a Buffer");if(e||(e=0),!u&&u!==0&&(u=this.length),t>=r.length&&(t=r.length),t||(t=0),u>0&&u<e&&(u=e),u===e||r.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),r.length-t<u-e&&(u=r.length-t+e);var s=u-e;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,e,u):Uint8Array.prototype.set.call(r,this.subarray(e,u),t),s},a.prototype.fill=function(r,t,e,u){if(typeof r=="string"){if(typeof t=="string"?(u=t,t=0,e=this.length):typeof e=="string"&&(u=e,e=this.length),u!==void 0&&typeof u!="string")throw new TypeError("encoding must be a string");if(typeof u=="string"&&!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(r.length===1){var s=r.charCodeAt(0);(u==="utf8"&&s<128||u==="latin1")&&(r=s)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(t<0||this.length<t||this.length<e)throw new RangeError("Out of range index");if(e<=t)return this;t=t>>>0,e=e===void 0?this.length:e>>>0,r||(r=0);var c;if(typeof r=="number")for(c=t;c<e;++c)this[c]=r;else{var d=a.isBuffer(r)?r:a.from(r,u),U=d.length;if(U===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(c=0;c<e-t;++c)this[c+t]=d[c%U]}return this};var Mr=/[^+/0-9A-Za-z-_]/g;function Pr(r){if(r=r.split("=")[0],r=r.trim().replace(Mr,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function er(r,t){t=t||1/0;for(var e,u=r.length,s=null,c=[],d=0;d<u;++d){if(e=r.charCodeAt(d),e>55295&&e<57344){if(!s){if(e>56319){(t-=3)>-1&&c.push(239,191,189);continue}else if(d+1===u){(t-=3)>-1&&c.push(239,191,189);continue}s=e;continue}if(e<56320){(t-=3)>-1&&c.push(239,191,189),s=e;continue}e=(s-55296<<10|e-56320)+65536}else s&&(t-=3)>-1&&c.push(239,191,189);if(s=null,e<128){if((t-=1)<0)break;c.push(e)}else if(e<2048){if((t-=2)<0)break;c.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;c.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;c.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return c}function kr(r){for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function Fr(r,t){for(var e,u,s,c=[],d=0;d<r.length&&!((t-=2)<0);++d)e=r.charCodeAt(d),u=e>>8,s=e%256,c.push(s),c.push(u);return c}function pr(r){return n.toByteArray(Pr(r))}function Z(r,t,e,u){for(var s=0;s<u&&!(s+e>=t.length||s>=r.length);++s)t[s+e]=r[s];return s}function z(r,t){return r instanceof t||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===t.name}function nr(r){return r!==r}var Gr=function(){for(var r="0123456789abcdef",t=new Array(256),e=0;e<16;++e)for(var u=e*16,s=0;s<16;++s)t[u+s]=r[e]+r[s];return t}()}),go=At((o,n)=>{I();var i=n.exports={},f,l;function h(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?f=setTimeout:f=h}catch(w){f=h}try{typeof clearTimeout=="function"?l=clearTimeout:l=p}catch(w){l=p}})();function a(w){if(f===setTimeout)return setTimeout(w,0);if((f===h||!f)&&setTimeout)return f=setTimeout,setTimeout(w,0);try{return f(w,0)}catch(q){try{return f.call(null,w,0)}catch(B){return f.call(this,w,0)}}}function v(w){if(l===clearTimeout)return clearTimeout(w);if((l===p||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(w);try{return l(w)}catch(q){try{return l.call(null,w)}catch(B){return l.call(this,w)}}}var g=[],A=!1,E,T=-1;function L(){!A||!E||(A=!1,E.length?g=E.concat(g):T=-1,g.length&&y())}function y(){if(!A){var w=a(L);A=!0;for(var q=g.length;q;){for(E=g,g=[];++T<q;)E&&E[T].run();T=-1,q=g.length}E=null,A=!1,v(w)}}i.nextTick=function(w){var q=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)q[B-1]=arguments[B];g.push(new b(w,q)),g.length===1&&!A&&a(y)};function b(w,q){this.fun=w,this.array=q}b.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function m(){}i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(w){return[]},i.binding=function(w){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(w){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}),Qe,vo,mo,I=so(()=>{Qe=j(yo()),vo=j(go()),mo=function(o){function n(){var f=this||self;return delete o.prototype.__magic__,f}if(typeof globalThis=="object")return globalThis;if(this)return n();o.defineProperty(o.prototype,"__magic__",{configurable:!0,get:n});var i=__magic__;return i}(Object)}),rn={};lo(rn,{default:()=>yu,useComputeGasLimit:()=>an});fn.exports=co(rn);I();I();var Rl=j(require("react")),Ml=require("@terradharitri/sdk-dapp/constants/index");I();I();I();var Pl=j(require("axios"));I();I();I();var wo=require("@terradharitri/sdk-dapp/apiCalls/configuration/getServerConfiguration");I();var bo=require("@terradharitri/sdk-dapp/constants/index");I();I();I();I();var Eo=10,Ao="500000",qo=75e4,To=1e6,Bo=2e5,re="0",Io={D:"devnet",T:"testnet",1:"mainnet"};function xo(o){return Io[o]}function Uo(o){let n=xo(o),i=bo.fallbackNetworkConfigurations[n].apiAddress;if(!i)throw"Could not extract api address for environment, check if you have a valid chainID";return i}function Lo(o){return Jr(this,null,function*(){let n=Uo(o);return yield(0,wo.getServerConfiguration)(n)})}I();var Et={value:null};function So(o){return Et.value={baseURL:o.apiAddress,timeout:Number(o.apiTimeout)},Et.value}function Co(o){return Jr(this,null,function*(){if(Et.value!=null)return Et.value;if(console.error("Cannot get API config before initialization, make sure to call setApiConfig first"),o!=null){let i=yield Lo(o);return So(i)}let n="Cannot get api config, make sure to initialize the context before calling APIs";throw console.error(n),n})}I();I();var kl=j(require("axios"));I();I();var Fl=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),Gl=require("@terradharitri/sdk-dapp/apiCalls/tokens/getPersistedToken"),jl=j(require("axios")),zl=j(require("lodash/uniqBy"));I();var $l=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),Vl=j(require("axios"));I();I();I();var Wl=require("@terradharitri/sdk-dapp/types/tokens.types");I();I();I();I();var Yl=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),Xl=j(require("axios"));I();I();var Oo=j(require("axios"));function _o(o){return Jr(this,null,function*(){try{let n=yield Co(),{data:i}=yield Oo.default.post("/transaction/cost",o,n);return{data:i,success:!0}}catch(n){return console.error(n),{success:!1}}})}I();var tn=j(require("react")),No=(0,tn.createContext)({});function Do(){return(0,tn.useContext)(No)}I();I();var Ro=j(require("react")),Hl=require("@terradharitri/sdk-dapp/constants/index"),Zl=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),Jl=j(require("bignumber.js")),Kl=require("formik");I();I();I();var Ql=require("bech32");I();I();I();I();I();I();var rc=require("@terradharitri/sdk-dapp/constants"),tc=require("@terradharitri/sdk-dapp/utils/account/getAccount");I();I();var ec=require("@terradharitri/sdk-dapp/utils/transactions/transactionInfoHelpers/getScamFlag");I();var nc=require("@terradharitri/sdk-dapp/utils/buildUrlParams");I();var ic=j(require("anchorme"));I();I();var oc=require("@terradharitri/sdk-dapp/utils/operations/calculateFeeLimit"),Mo=require("@terradharitri/sdk-dapp/utils/operations/formatAmount"),uc=require("@terradharitri/sdk-dapp/utils/operations/getUsdValue"),te=require("@terradharitri/sdk-dapp/utils/operations/parseAmount");I();I();var Po=j(require("react")),ac=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType"),fc=require("formik");I();I();var sc=require("@terradharitri/sdk-dapp/constants/index"),lc=require("@terradharitri/sdk-dapp/utils/operations/calculateFeeLimit"),cc=j(require("bignumber.js"));I();I();var hc=require("@terradharitri/sdk-dapp/constants/index");I();var ko=require("@terradharitri/sdk-dapp/constants/index"),Fo=(o="")=>{let n=qo+o.length*ko.GAS_PER_DATA_BYTE;return o.startsWith("DCDTNFTBurn")?Bo.toString():String(Math.max(n,To))};I();var ze=require("@terradharitri/sdk-dapp/constants/index"),$e=j(require("bignumber.js"));I();var Go=require("@terradharitri/sdk-dapp/constants/index");function en(o=!1){return o?Go.EXTRA_GAS_LIMIT_GUARDED_TX:0}var nn=({data:o,isGuarded:n})=>{let i=new $e.default(ze.GAS_LIMIT),f=new $e.default(ze.GAS_PER_DATA_BYTE),l=o?f.times(Qe.Buffer.from(o).length):0,h=en(n);return i.plus(l).plus(h).toString(10)};I();var pc=require("@terradharitri/sdk-dapp/constants/index");I();I();var Hr=require("@terradharitri/sdk-core"),jo=require("@terradharitri/sdk-dapp/constants/index"),zo=j(require("bignumber.js"));function $o({amount:o,data:n,nonce:i,receiver:f,receiverUsername:l,sender:h,senderUsername:p,gasPrice:a,gasLimit:v,chainId:g}){let A=new zo.default((0,te.parseAmount)(o));return new Hr.Transaction({nonce:i,value:Hr.TokenPayment.rewaFromBigInteger(A.toString(10)),sender:new Hr.Address(h),receiver:new Hr.Address(f),gasPrice:parseInt(a),gasLimit:parseInt(v),senderUsername:p,receiverUsername:l,data:new Hr.TransactionPayload(n),chainID:g,version:new Hr.TransactionVersion(jo.VERSION)})}I();function Vo(o){return isNaN(Number(o))||o===""?(0,te.parseAmount)("0"):(0,te.parseAmount)(o)}I();var yc=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger");I();var dc=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");I();var gc=j(require("bignumber.js"));I();var Wo=require("@terradharitri/sdk-dapp/constants/index"),Yo=require("@terradharitri/sdk-dapp/utils/smartContracts"),Xo=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType"),Zr=j(require("bignumber.js"));I();var Ho=j(require("bignumber.js")),Zo=o=>Jr(void 0,[o],function*({balance:n,address:i,isGuarded:f,nonce:l,values:h,chainId:p}){var a,v,g;let{amount:A,receiver:E,data:T,gasLimit:L,gasPrice:y}=h,b=$o({balance:n,amount:String(A),gasLimit:String(L),gasPrice:Vo(y),data:T.trim(),receiver:E,sender:i,nonce:l,chainId:p}).toPlainObject(),{data:m,success:w}=yield _o(Je(Ze({},b),{sender:i})),q=Number((a=m==null?void 0:m.data)==null?void 0:a.txGasUnits),B=(v=m==null?void 0:m.data)==null?void 0:v.returnMessage;if(!Boolean(w&&(m==null?void 0:m.code)==="successful"&&q&&q!==0))return{gasLimit:L,gasLimitCostError:(g=m==null?void 0:m.data)==null?void 0:g.returnMessage};if(!B)return{gasLimit:new Ho.default(q).times(Eo).dividedToIntegerBy(100).plus(q).toString(10)};let _=nn({data:h.data?h.data.trim():"",isGuarded:f});return{gasLimit:String(q)===re?_:String(q)}}),Jo=Zo,Ko=o=>Jr(void 0,[o],function*({computedTokenId:n,receiver:i,isInternal:f,balance:l,address:h,isGuarded:p,nonce:a,amount:v,data:g,gasLimit:A,gasPrice:E,delegationContractData:T,chainId:L}){var y;let b=en(p),m=T==null?void 0:T.delegationContract,w=(y=T==null?void 0:T.delegationContractData.minGasLimit)!=null?y:re;if(!new Zr.default(A).isNaN()&&new Zr.default(A).isGreaterThan(re))return{initGasLimit:A};if((0,Yo.isContract)(i)&&!f){let{gasLimit:_,gasLimitCostError:k}=yield Jo({balance:l,address:h,nonce:a,values:{amount:v,receiver:i,data:g,gasLimit:A,gasPrice:E},chainId:L});return{initGasLimit:i===m?new Zr.default(_).plus(w).plus(b).toString():_,initGasLimitError:k}}if(g.length>0)return{initGasLimit:nn({data:g.trim(),isGuarded:p})};let{isDcdt:q,isNft:B}=(0,Xo.getIdentifierType)(n);return q?{initGasLimit:new Zr.default(Ao).plus(b).toString()}:B?{initGasLimit:new Zr.default(Fo()).plus(b).toString()}:{initGasLimit:new Zr.default(Wo.GAS_LIMIT).plus(b).toString()}});I();var Qt=require("@terradharitri/sdk-dapp/constants/index"),Qo=j(require("bignumber.js")),Ve,We,Ye,ru=(0,Mo.formatAmount)({input:String((Ve=Qt.GAS_PRICE)!=null?Ve:1e9),decimals:(We=Qt.DECIMALS)!=null?We:18,showLastNonZeroDecimal:!0,digits:(Ye=Qt.DIGITS)!=null?Ye:4}),vc=new Qo.default(ru).times(10).toString(10);I();var mc=require("@terradharitri/sdk-dapp/constants/index"),wc=j(require("bignumber.js"));I();var bc=j(require("bignumber.js"));I();I();var Ec=require("yup");I();var Xe=require("@terradharitri/sdk-dapp/constants/ledger.constants"),tu=j(require("@terradharitri/sdk-dapp/utils/operations/ledger/getLedgerVersionOptions")),ee=require("yup"),eu=(0,ee.string)().test("ledgerDataActive","Data option is disabled in the Ledger DharitrI app",function(o){let{ledger:n}=this.parent;return!(n&&o&&o.length&&!n.ledgerDataActive)}),nu=(0,ee.string)().test({name:"hashSign",test:function(o){let{ledger:n,isGuarded:i}=this.parent;if(n){let{ledgerWithHashSign:f,ledgerWithGuardians:l}=(0,tu.default)(n.version);if(o&&o.length>300&&!f)return this.createError({message:`Data too long. You need at least DharitrI app version ${Xe.LEDGER_HASH_SIGN_MINIMUM_VERSION}. Update DharitrI app to continue`,path:"data"});if(i&&!l)return this.createError({message:`You need at least DharitrI app version ${Xe.LEDGER_WITH_GUARDIANS_MINIMUM_VERSION} to use Guardians`,path:"data"})}return!0}}),iu=[eu,nu],Ac=iu.reduce((o,n)=>o.concat(n),(0,ee.string)());I();var qc=require("@terradharitri/sdk-dapp/constants/index"),Tc=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),Bc=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),Ic=require("yup");I();var xc=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),Uc=j(require("bignumber.js")),Lc=require("yup");I();var Sc=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger"),Cc=j(require("bignumber.js")),Oc=require("yup");I();var _c=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),Nc=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),Dc=j(require("bignumber.js")),Rc=require("yup");I();var Mc=j(require("bignumber.js")),Pc=require("yup");I();var kc=require("@terradharitri/sdk-dapp/constants/index"),Fc=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),Gc=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),jc=j(require("bignumber.js")),zc=require("yup");I();var $c=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),Vc=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),Wc=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger"),Yc=j(require("bignumber.js")),Xc=require("yup");I();var Hc=j(require("bignumber.js")),Zc=require("yup");I();var Jc=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),Kc=require("yup");I();var Qc=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),rh=require("yup");I();I();var th=(0,Po.createContext)({});I();I();var ou=j(require("react")),eh=require("formik"),nh=j(require("lodash/uniqBy"));I();I();var on=j(require("react")),uu=(0,on.createContext)({});function au(){return(0,on.useContext)(uu)}I();I();var ih=require("react"),oh=require("@terradharitri/sdk-dapp/constants/index"),uh=require("@terradharitri/sdk-dapp/types/enums.types");I();var ah=(0,ou.createContext)({});I();I();var fh=require("@terradharitri/sdk-dapp/constants/index"),sh=require("formik");I();I();var fu=j(require("react")),lh=require("@terradharitri/sdk-dapp/constants/index"),ch=require("@terradharitri/sdk-dapp/utils/operations/calculateFeeLimit"),hh=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),ph=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger"),yh=j(require("bignumber.js")),dh=require("formik");I();I();I();I();var gh=j(require("bignumber.js"));I();var vh=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),mh=j(require("bignumber.js"));I();I();var wh=require("react"),bh=require("@terradharitri/sdk-dapp/constants/index"),Eh=require("@terradharitri/sdk-dapp/utils/smartContracts"),Ah=j(require("bignumber.js")),qh=require("formik");I();var Th=require("react");I();I();var Bh=require("@terradharitri/sdk-dapp/constants/index"),Ih=j(require("bignumber.js")),xh=(0,fu.createContext)({}),Uh=(0,Ro.createContext)({});I();I();var su=j(require("react")),Lh=require("formik"),Sh=(0,su.createContext)({});I();I();var lu=j(require("react")),Ch=require("formik");I();I();I();var Oh=require("react"),_h=require("@terradharitri/sdk-dapp/apiCalls/transactions/getTransactions"),Nh=j(require("lodash/uniqBy"));I();I();var Dh=require("@terradharitri/sdk-dapp/hooks/account/helpers/trimUsernameDomain"),Rh=require("@terradharitri/sdk-dapp/utils");I();var Mh=require("react");I();var Ph=require("react"),kh=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),Fh=(0,lu.createContext)({});I();I();var cu=j(require("react")),Gh=require("formik");I();I();I();I();I();var jh=require("react"),zh=require("@terradharitri/sdk-dapp/utils");I();var $h=require("react"),Vh=require("@terradharitri/sdk-dapp/hooks/account/helpers/trimUsernameDomain");I();I();var Wh=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),Yh=j(require("axios"));I();var Xh=j(require("axios")),Hh=(0,cu.createContext)({});I();var un=j(require("react")),hu=(0,un.createContext)({});function pu(){return(0,un.useContext)(hu)}function an(){let{balance:o,address:n,nonce:i,isGuarded:f}=Do(),{networkConfig:l,delegationContractData:h}=au(),p=pu(),{receiverInfo:{receiver:a},amountInfo:{amount:v},gasInfo:{gasLimit:g,gasPrice:A},dataFieldInfo:{data:E}}=p,T=["mainnet","testnet"].includes(l.id),L={receiver:a,isInternal:T,balance:o,address:n,isGuarded:f,nonce:i,amount:v,data:E,gasLimit:g,gasPrice:A,delegationContractData:h,chainId:l.id,rewaLabel:l.rewaLabel};return function(y){return Jr(this,null,function*(){let{initGasLimit:b,initGasLimitError:m}=yield Ko(Je(Ze({},L),{computedTokenId:y}));return{initGasLimit:b,initGasLimitError:m}})}}var yu=an;});var Sn=Sr((bp,Ln)=>{"use strict";K();var du=Object.create,ut=Object.defineProperty,gu=Object.defineProperties,vu=Object.getOwnPropertyDescriptor,mu=Object.getOwnPropertyDescriptors,wu=Object.getOwnPropertyNames,Tt=Object.getOwnPropertySymbols,bu=Object.getPrototypeOf,ue=Object.prototype.hasOwnProperty,bn=Object.prototype.propertyIsEnumerable,ln=(o,n,i)=>n in o?ut(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,rt=(o,n)=>{for(var i in n||(n={}))ue.call(n,i)&&ln(o,i,n[i]);if(Tt)for(var i of Tt(n))bn.call(n,i)&&ln(o,i,n[i]);return o},at=(o,n)=>gu(o,mu(n)),Eu=(o,n)=>{var i={};for(var f in o)ue.call(o,f)&&n.indexOf(f)<0&&(i[f]=o[f]);if(o!=null&&Tt)for(var f of Tt(o))n.indexOf(f)<0&&bn.call(o,f)&&(i[f]=o[f]);return i},Au=(o,n)=>()=>(o&&(n=o(o=0)),n),St=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports),qu=(o,n)=>{for(var i in n)ut(o,i,{get:n[i],enumerable:!0})},En=(o,n,i,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let l of wu(n))!ue.call(o,l)&&l!==i&&ut(o,l,{get:()=>n[l],enumerable:!(f=vu(n,l))||f.enumerable});return o},X=(o,n,i)=>(i=o!=null?du(bu(o)):{},En(n||!o||!o.__esModule?ut(i,"default",{value:o,enumerable:!0}):i,o)),Tu=o=>En(ut({},"__esModule",{value:!0}),o),rr=(o,n,i)=>new Promise((f,l)=>{var h=v=>{try{a(i.next(v))}catch(g){l(g)}},p=v=>{try{a(i.throw(v))}catch(g){l(g)}},a=v=>v.done?f(v.value):Promise.resolve(v.value).then(h,p);a((i=i.apply(o,n)).next())}),Bu=St(o=>{"use strict";N(),o.byteLength=v,o.toByteArray=A,o.fromByteArray=L;var n=[],i=[],f=typeof Uint8Array!="undefined"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(h=0,p=l.length;h<p;++h)n[h]=l[h],i[l.charCodeAt(h)]=h;var h,p;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63;function a(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=y.indexOf("=");m===-1&&(m=b);var w=m===b?0:4-m%4;return[m,w]}function v(y){var b=a(y),m=b[0],w=b[1];return(m+w)*3/4-w}function g(y,b,m){return(b+m)*3/4-m}function A(y){var b,m=a(y),w=m[0],q=m[1],B=new f(g(y,w,q)),_=0,k=q>0?w-4:w,P;for(P=0;P<k;P+=4)b=i[y.charCodeAt(P)]<<18|i[y.charCodeAt(P+1)]<<12|i[y.charCodeAt(P+2)]<<6|i[y.charCodeAt(P+3)],B[_++]=b>>16&255,B[_++]=b>>8&255,B[_++]=b&255;return q===2&&(b=i[y.charCodeAt(P)]<<2|i[y.charCodeAt(P+1)]>>4,B[_++]=b&255),q===1&&(b=i[y.charCodeAt(P)]<<10|i[y.charCodeAt(P+1)]<<4|i[y.charCodeAt(P+2)]>>2,B[_++]=b>>8&255,B[_++]=b&255),B}function E(y){return n[y>>18&63]+n[y>>12&63]+n[y>>6&63]+n[y&63]}function T(y,b,m){for(var w,q=[],B=b;B<m;B+=3)w=(y[B]<<16&16711680)+(y[B+1]<<8&65280)+(y[B+2]&255),q.push(E(w));return q.join("")}function L(y){for(var b,m=y.length,w=m%3,q=[],B=16383,_=0,k=m-w;_<k;_+=B)q.push(T(y,_,_+B>k?k:_+B));return w===1?(b=y[m-1],q.push(n[b>>2]+n[b<<4&63]+"==")):w===2&&(b=(y[m-2]<<8)+y[m-1],q.push(n[b>>10]+n[b>>4&63]+n[b<<2&63]+"=")),q.join("")}}),Iu=St(o=>{N(),o.read=function(n,i,f,l,h){var p,a,v=h*8-l-1,g=(1<<v)-1,A=g>>1,E=-7,T=f?h-1:0,L=f?-1:1,y=n[i+T];for(T+=L,p=y&(1<<-E)-1,y>>=-E,E+=v;E>0;p=p*256+n[i+T],T+=L,E-=8);for(a=p&(1<<-E)-1,p>>=-E,E+=l;E>0;a=a*256+n[i+T],T+=L,E-=8);if(p===0)p=1-A;else{if(p===g)return a?NaN:(y?-1:1)*(1/0);a=a+Math.pow(2,l),p=p-A}return(y?-1:1)*a*Math.pow(2,p-l)},o.write=function(n,i,f,l,h,p){var a,v,g,A=p*8-h-1,E=(1<<A)-1,T=E>>1,L=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=l?0:p-1,b=l?1:-1,m=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(v=isNaN(i)?1:0,a=E):(a=Math.floor(Math.log(i)/Math.LN2),i*(g=Math.pow(2,-a))<1&&(a--,g*=2),a+T>=1?i+=L/g:i+=L*Math.pow(2,1-T),i*g>=2&&(a++,g/=2),a+T>=E?(v=0,a=E):a+T>=1?(v=(i*g-1)*Math.pow(2,h),a=a+T):(v=i*Math.pow(2,T-1)*Math.pow(2,h),a=0));h>=8;n[f+y]=v&255,y+=b,v/=256,h-=8);for(a=a<<h|v,A+=h;A>0;n[f+y]=a&255,y+=b,a/=256,A-=8);n[f+y-b]|=m*128}}),xu=St(o=>{"use strict";N();var n=Bu(),i=Iu(),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=a,o.SlowBuffer=q,o.INSPECT_MAX_BYTES=50;var l=2147483647;o.kMaxLength=l,a.TYPED_ARRAY_SUPPORT=h(),!a.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var r=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(r,t),r.foo()===42}catch(e){return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function p(r){if(r>l)throw new RangeError('The value "'+r+'" is invalid for option "size"');var t=new Uint8Array(r);return Object.setPrototypeOf(t,a.prototype),t}function a(r,t,e){if(typeof r=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(r)}return v(r,t,e)}a.poolSize=8192;function v(r,t,e){if(typeof r=="string")return T(r,t);if(ArrayBuffer.isView(r))return y(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(z(r,ArrayBuffer)||r&&z(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(z(r,SharedArrayBuffer)||r&&z(r.buffer,SharedArrayBuffer)))return b(r,t,e);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var u=r.valueOf&&r.valueOf();if(u!=null&&u!==r)return a.from(u,t,e);var s=m(r);if(s)return s;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return a.from(r[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}a.from=function(r,t,e){return v(r,t,e)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function g(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function A(r,t,e){return g(r),r<=0?p(r):t!==void 0?typeof e=="string"?p(r).fill(t,e):p(r).fill(t):p(r)}a.alloc=function(r,t,e){return A(r,t,e)};function E(r){return g(r),p(r<0?0:w(r)|0)}a.allocUnsafe=function(r){return E(r)},a.allocUnsafeSlow=function(r){return E(r)};function T(r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var e=B(r,t)|0,u=p(e),s=u.write(r,t);return s!==e&&(u=u.slice(0,s)),u}function L(r){for(var t=r.length<0?0:w(r.length)|0,e=p(t),u=0;u<t;u+=1)e[u]=r[u]&255;return e}function y(r){if(z(r,Uint8Array)){var t=new Uint8Array(r);return b(t.buffer,t.byteOffset,t.byteLength)}return L(r)}function b(r,t,e){if(t<0||r.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');var u;return t===void 0&&e===void 0?u=new Uint8Array(r):e===void 0?u=new Uint8Array(r,t):u=new Uint8Array(r,t,e),Object.setPrototypeOf(u,a.prototype),u}function m(r){if(a.isBuffer(r)){var t=w(r.length)|0,e=p(t);return e.length===0||r.copy(e,0,0,t),e}if(r.length!==void 0)return typeof r.length!="number"||nr(r.length)?p(0):L(r);if(r.type==="Buffer"&&Array.isArray(r.data))return L(r.data)}function w(r){if(r>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return r|0}function q(r){return+r!=r&&(r=0),a.alloc(+r)}a.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==a.prototype},a.compare=function(r,t){if(z(r,Uint8Array)&&(r=a.from(r,r.offset,r.byteLength)),z(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(r)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===t)return 0;for(var e=r.length,u=t.length,s=0,c=Math.min(e,u);s<c;++s)if(r[s]!==t[s]){e=r[s],u=t[s];break}return e<u?-1:u<e?1:0},a.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(r,t){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return a.alloc(0);var e;if(t===void 0)for(t=0,e=0;e<r.length;++e)t+=r[e].length;var u=a.allocUnsafe(t),s=0;for(e=0;e<r.length;++e){var c=r[e];if(z(c,Uint8Array))s+c.length>u.length?a.from(c).copy(u,s):Uint8Array.prototype.set.call(u,c,s);else if(a.isBuffer(c))c.copy(u,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=c.length}return u};function B(r,t){if(a.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||z(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var e=r.length,u=arguments.length>2&&arguments[2]===!0;if(!u&&e===0)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return er(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return pr(r).length;default:if(s)return u?-1:er(r).length;t=(""+t).toLowerCase(),s=!0}}a.byteLength=B;function _(r,t,e){var u=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return Dr(this,t,e);case"utf8":case"utf-8":return ur(this,t,e);case"ascii":return _r(this,t,e);case"latin1":case"binary":return Nr(this,t,e);case"base64":return fr(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rr(this,t,e);default:if(u)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),u=!0}}a.prototype._isBuffer=!0;function k(r,t,e){var u=r[t];r[t]=r[e],r[e]=u}a.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)k(this,t,t+1);return this},a.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)k(this,t,t+3),k(this,t+1,t+2);return this},a.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)k(this,t,t+7),k(this,t+1,t+6),k(this,t+2,t+5),k(this,t+3,t+4);return this},a.prototype.toString=function(){var r=this.length;return r===0?"":arguments.length===0?ur(this,0,r):_.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(r){if(!a.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:a.compare(this,r)===0},a.prototype.inspect=function(){var r="",t=o.INSPECT_MAX_BYTES;return r=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(r+=" ... "),"<Buffer "+r+">"},f&&(a.prototype[f]=a.prototype.inspect),a.prototype.compare=function(r,t,e,u,s){if(z(r,Uint8Array)&&(r=a.from(r,r.offset,r.byteLength)),!a.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(t===void 0&&(t=0),e===void 0&&(e=r?r.length:0),u===void 0&&(u=0),s===void 0&&(s=this.length),t<0||e>r.length||u<0||s>this.length)throw new RangeError("out of range index");if(u>=s&&t>=e)return 0;if(u>=s)return-1;if(t>=e)return 1;if(t>>>=0,e>>>=0,u>>>=0,s>>>=0,this===r)return 0;for(var c=s-u,d=e-t,U=Math.min(c,d),M=this.slice(u,s),S=r.slice(t,e),O=0;O<U;++O)if(M[O]!==S[O]){c=M[O],d=S[O];break}return c<d?-1:d<c?1:0};function P(r,t,e,u,s){if(r.length===0)return-1;if(typeof e=="string"?(u=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,nr(e)&&(e=s?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(s)return-1;e=r.length-1}else if(e<0)if(s)e=0;else return-1;if(typeof t=="string"&&(t=a.from(t,u)),a.isBuffer(t))return t.length===0?-1:or(r,t,e,u,s);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):or(r,[t],e,u,s);throw new TypeError("val must be string, number or Buffer")}function or(r,t,e,u,s){var c=1,d=r.length,U=t.length;if(u!==void 0&&(u=String(u).toLowerCase(),u==="ucs2"||u==="ucs-2"||u==="utf16le"||u==="utf-16le")){if(r.length<2||t.length<2)return-1;c=2,d/=2,U/=2,e/=2}function M(yr,dr){return c===1?yr[dr]:yr.readUInt16BE(dr*c)}var S;if(s){var O=-1;for(S=e;S<d;S++)if(M(r,S)===M(t,O===-1?0:S-O)){if(O===-1&&(O=S),S-O+1===U)return O*c}else O!==-1&&(S-=S-O),O=-1}else for(e+U>d&&(e=d-U),S=e;S>=0;S--){for(var F=!0,J=0;J<U;J++)if(M(r,S+J)!==M(t,J)){F=!1;break}if(F)return S}return-1}a.prototype.includes=function(r,t,e){return this.indexOf(r,t,e)!==-1},a.prototype.indexOf=function(r,t,e){return P(this,r,t,e,!0)},a.prototype.lastIndexOf=function(r,t,e){return P(this,r,t,e,!1)};function br(r,t,e,u){e=Number(e)||0;var s=r.length-e;u?(u=Number(u),u>s&&(u=s)):u=s;var c=t.length;u>c/2&&(u=c/2);for(var d=0;d<u;++d){var U=parseInt(t.substr(d*2,2),16);if(nr(U))return d;r[e+d]=U}return d}function Er(r,t,e,u){return Z(er(t,r.length-e),r,e,u)}function Ar(r,t,e,u){return Z(kr(t),r,e,u)}function qr(r,t,e,u){return Z(pr(t),r,e,u)}function Tr(r,t,e,u){return Z(Fr(t,r.length-e),r,e,u)}a.prototype.write=function(r,t,e,u){if(t===void 0)u="utf8",e=this.length,t=0;else if(e===void 0&&typeof t=="string")u=t,e=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(e)?(e=e>>>0,u===void 0&&(u="utf8")):(u=e,e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((e===void 0||e>s)&&(e=s),r.length>0&&(e<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");for(var c=!1;;)switch(u){case"hex":return br(this,r,t,e);case"utf8":case"utf-8":return Er(this,r,t,e);case"ascii":case"latin1":case"binary":return Ar(this,r,t,e);case"base64":return qr(this,r,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Tr(this,r,t,e);default:if(c)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),c=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function fr(r,t,e){return t===0&&e===r.length?n.fromByteArray(r):n.fromByteArray(r.slice(t,e))}function ur(r,t,e){e=Math.min(r.length,e);for(var u=[],s=t;s<e;){var c=r[s],d=null,U=c>239?4:c>223?3:c>191?2:1;if(s+U<=e){var M,S,O,F;switch(U){case 1:c<128&&(d=c);break;case 2:M=r[s+1],(M&192)===128&&(F=(c&31)<<6|M&63,F>127&&(d=F));break;case 3:M=r[s+1],S=r[s+2],(M&192)===128&&(S&192)===128&&(F=(c&15)<<12|(M&63)<<6|S&63,F>2047&&(F<55296||F>57343)&&(d=F));break;case 4:M=r[s+1],S=r[s+2],O=r[s+3],(M&192)===128&&(S&192)===128&&(O&192)===128&&(F=(c&15)<<18|(M&63)<<12|(S&63)<<6|O&63,F>65535&&F<1114112&&(d=F))}}d===null?(d=65533,U=1):d>65535&&(d-=65536,u.push(d>>>10&1023|55296),d=56320|d&1023),u.push(d),s+=U}return Or(u)}var sr=4096;function Or(r){var t=r.length;if(t<=sr)return String.fromCharCode.apply(String,r);for(var e="",u=0;u<t;)e+=String.fromCharCode.apply(String,r.slice(u,u+=sr));return e}function _r(r,t,e){var u="";e=Math.min(r.length,e);for(var s=t;s<e;++s)u+=String.fromCharCode(r[s]&127);return u}function Nr(r,t,e){var u="";e=Math.min(r.length,e);for(var s=t;s<e;++s)u+=String.fromCharCode(r[s]);return u}function Dr(r,t,e){var u=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>u)&&(e=u);for(var s="",c=t;c<e;++c)s+=Gr[r[c]];return s}function Rr(r,t,e){for(var u=r.slice(t,e),s="",c=0;c<u.length-1;c+=2)s+=String.fromCharCode(u[c]+u[c+1]*256);return s}a.prototype.slice=function(r,t){var e=this.length;r=~~r,t=t===void 0?e:~~t,r<0?(r+=e,r<0&&(r=0)):r>e&&(r=e),t<0?(t+=e,t<0&&(t=0)):t>e&&(t=e),t<r&&(t=r);var u=this.subarray(r,t);return Object.setPrototypeOf(u,a.prototype),u};function R(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=this[r],s=1,c=0;++c<t&&(s*=256);)u+=this[r+c]*s;return u},a.prototype.readUintBE=a.prototype.readUIntBE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=this[r+--t],s=1;t>0&&(s*=256);)u+=this[r+--t]*s;return u},a.prototype.readUint8=a.prototype.readUInt8=function(r,t){return r=r>>>0,t||R(r,1,this.length),this[r]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(r,t){return r=r>>>0,t||R(r,2,this.length),this[r]|this[r+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(r,t){return r=r>>>0,t||R(r,2,this.length),this[r]<<8|this[r+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(r,t){return r=r>>>0,t||R(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(r,t){return r=r>>>0,t||R(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},a.prototype.readIntLE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=this[r],s=1,c=0;++c<t&&(s*=256);)u+=this[r+c]*s;return s*=128,u>=s&&(u-=Math.pow(2,8*t)),u},a.prototype.readIntBE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=t,s=1,c=this[r+--u];u>0&&(s*=256);)c+=this[r+--u]*s;return s*=128,c>=s&&(c-=Math.pow(2,8*t)),c},a.prototype.readInt8=function(r,t){return r=r>>>0,t||R(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},a.prototype.readInt16LE=function(r,t){r=r>>>0,t||R(r,2,this.length);var e=this[r]|this[r+1]<<8;return e&32768?e|4294901760:e},a.prototype.readInt16BE=function(r,t){r=r>>>0,t||R(r,2,this.length);var e=this[r+1]|this[r]<<8;return e&32768?e|4294901760:e},a.prototype.readInt32LE=function(r,t){return r=r>>>0,t||R(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},a.prototype.readInt32BE=function(r,t){return r=r>>>0,t||R(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},a.prototype.readFloatLE=function(r,t){return r=r>>>0,t||R(r,4,this.length),i.read(this,r,!0,23,4)},a.prototype.readFloatBE=function(r,t){return r=r>>>0,t||R(r,4,this.length),i.read(this,r,!1,23,4)},a.prototype.readDoubleLE=function(r,t){return r=r>>>0,t||R(r,8,this.length),i.read(this,r,!0,52,8)},a.prototype.readDoubleBE=function(r,t){return r=r>>>0,t||R(r,8,this.length),i.read(this,r,!1,52,8)};function G(r,t,e,u,s,c){if(!a.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<c)throw new RangeError('"value" argument is out of bounds');if(e+u>r.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(r,t,e,u){if(r=+r,t=t>>>0,e=e>>>0,!u){var s=Math.pow(2,8*e)-1;G(this,r,t,e,s,0)}var c=1,d=0;for(this[t]=r&255;++d<e&&(c*=256);)this[t+d]=r/c&255;return t+e},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(r,t,e,u){if(r=+r,t=t>>>0,e=e>>>0,!u){var s=Math.pow(2,8*e)-1;G(this,r,t,e,s,0)}var c=e-1,d=1;for(this[t+c]=r&255;--c>=0&&(d*=256);)this[t+c]=r/d&255;return t+e},a.prototype.writeUint8=a.prototype.writeUInt8=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,1,255,0),this[t]=r&255,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,65535,0),this[t]=r&255,this[t+1]=r>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,65535,0),this[t]=r>>>8,this[t+1]=r&255,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,4294967295,0),this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=r&255,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,4294967295,0),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4},a.prototype.writeIntLE=function(r,t,e,u){if(r=+r,t=t>>>0,!u){var s=Math.pow(2,8*e-1);G(this,r,t,e,s-1,-s)}var c=0,d=1,U=0;for(this[t]=r&255;++c<e&&(d*=256);)r<0&&U===0&&this[t+c-1]!==0&&(U=1),this[t+c]=(r/d>>0)-U&255;return t+e},a.prototype.writeIntBE=function(r,t,e,u){if(r=+r,t=t>>>0,!u){var s=Math.pow(2,8*e-1);G(this,r,t,e,s-1,-s)}var c=e-1,d=1,U=0;for(this[t+c]=r&255;--c>=0&&(d*=256);)r<0&&U===0&&this[t+c+1]!==0&&(U=1),this[t+c]=(r/d>>0)-U&255;return t+e},a.prototype.writeInt8=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,1,127,-128),r<0&&(r=255+r+1),this[t]=r&255,t+1},a.prototype.writeInt16LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,32767,-32768),this[t]=r&255,this[t+1]=r>>>8,t+2},a.prototype.writeInt16BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,32767,-32768),this[t]=r>>>8,this[t+1]=r&255,t+2},a.prototype.writeInt32LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,2147483647,-2147483648),this[t]=r&255,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24,t+4},a.prototype.writeInt32BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4};function lr(r,t,e,u,s,c){if(e+u>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function cr(r,t,e,u,s){return t=+t,e=e>>>0,s||lr(r,t,e,4,34028234663852886e22,-34028234663852886e22),i.write(r,t,e,u,23,4),e+4}a.prototype.writeFloatLE=function(r,t,e){return cr(this,r,t,!0,e)},a.prototype.writeFloatBE=function(r,t,e){return cr(this,r,t,!1,e)};function hr(r,t,e,u,s){return t=+t,e=e>>>0,s||lr(r,t,e,8,17976931348623157e292,-17976931348623157e292),i.write(r,t,e,u,52,8),e+8}a.prototype.writeDoubleLE=function(r,t,e){return hr(this,r,t,!0,e)},a.prototype.writeDoubleBE=function(r,t,e){return hr(this,r,t,!1,e)},a.prototype.copy=function(r,t,e,u){if(!a.isBuffer(r))throw new TypeError("argument should be a Buffer");if(e||(e=0),!u&&u!==0&&(u=this.length),t>=r.length&&(t=r.length),t||(t=0),u>0&&u<e&&(u=e),u===e||r.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),r.length-t<u-e&&(u=r.length-t+e);var s=u-e;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,e,u):Uint8Array.prototype.set.call(r,this.subarray(e,u),t),s},a.prototype.fill=function(r,t,e,u){if(typeof r=="string"){if(typeof t=="string"?(u=t,t=0,e=this.length):typeof e=="string"&&(u=e,e=this.length),u!==void 0&&typeof u!="string")throw new TypeError("encoding must be a string");if(typeof u=="string"&&!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(r.length===1){var s=r.charCodeAt(0);(u==="utf8"&&s<128||u==="latin1")&&(r=s)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(t<0||this.length<t||this.length<e)throw new RangeError("Out of range index");if(e<=t)return this;t=t>>>0,e=e===void 0?this.length:e>>>0,r||(r=0);var c;if(typeof r=="number")for(c=t;c<e;++c)this[c]=r;else{var d=a.isBuffer(r)?r:a.from(r,u),U=d.length;if(U===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(c=0;c<e-t;++c)this[c+t]=d[c%U]}return this};var Mr=/[^+/0-9A-Za-z-_]/g;function Pr(r){if(r=r.split("=")[0],r=r.trim().replace(Mr,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function er(r,t){t=t||1/0;for(var e,u=r.length,s=null,c=[],d=0;d<u;++d){if(e=r.charCodeAt(d),e>55295&&e<57344){if(!s){if(e>56319){(t-=3)>-1&&c.push(239,191,189);continue}else if(d+1===u){(t-=3)>-1&&c.push(239,191,189);continue}s=e;continue}if(e<56320){(t-=3)>-1&&c.push(239,191,189),s=e;continue}e=(s-55296<<10|e-56320)+65536}else s&&(t-=3)>-1&&c.push(239,191,189);if(s=null,e<128){if((t-=1)<0)break;c.push(e)}else if(e<2048){if((t-=2)<0)break;c.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;c.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;c.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return c}function kr(r){for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function Fr(r,t){for(var e,u,s,c=[],d=0;d<r.length&&!((t-=2)<0);++d)e=r.charCodeAt(d),u=e>>8,s=e%256,c.push(s),c.push(u);return c}function pr(r){return n.toByteArray(Pr(r))}function Z(r,t,e,u){for(var s=0;s<u&&!(s+e>=t.length||s>=r.length);++s)t[s+e]=r[s];return s}function z(r,t){return r instanceof t||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===t.name}function nr(r){return r!==r}var Gr=function(){for(var r="0123456789abcdef",t=new Array(256),e=0;e<16;++e)for(var u=e*16,s=0;s<16;++s)t[u+s]=r[e]+r[s];return t}()}),Uu=St((o,n)=>{N();var i=n.exports={},f,l;function h(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?f=setTimeout:f=h}catch(w){f=h}try{typeof clearTimeout=="function"?l=clearTimeout:l=p}catch(w){l=p}})();function a(w){if(f===setTimeout)return setTimeout(w,0);if((f===h||!f)&&setTimeout)return f=setTimeout,setTimeout(w,0);try{return f(w,0)}catch(q){try{return f.call(null,w,0)}catch(B){return f.call(this,w,0)}}}function v(w){if(l===clearTimeout)return clearTimeout(w);if((l===p||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(w);try{return l(w)}catch(q){try{return l.call(null,w)}catch(B){return l.call(this,w)}}}var g=[],A=!1,E,T=-1;function L(){!A||!E||(A=!1,E.length?g=E.concat(g):T=-1,g.length&&y())}function y(){if(!A){var w=a(L);A=!0;for(var q=g.length;q;){for(E=g,g=[];++T<q;)E&&E[T].run();T=-1,q=g.length}E=null,A=!1,v(w)}}i.nextTick=function(w){var q=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)q[B-1]=arguments[B];g.push(new b(w,q)),g.length===1&&!A&&a(y)};function b(w,q){this.fun=w,this.array=q}b.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function m(){}i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(w){return[]},i.binding=function(w){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(w){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}),ft,Lu,Su,N=Au(()=>{ft=X(xu()),Lu=X(Uu()),Su=function(o){function n(){var f=this||self;return delete o.prototype.__magic__,f}if(typeof globalThis=="object")return globalThis;if(this)return n();o.defineProperty(o.prototype,"__magic__",{configurable:!0,get:n});var i=__magic__;return i}(Object)}),An={};qu(An,{useGetInitialValues:()=>Wa});Ln.exports=Tu(An);N();var cn=require("react");N();N();var Cu=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");N();N();N();var Jh=X(require("axios"));N();N();N();var Ou=require("@terradharitri/sdk-dapp/apiCalls/configuration/getServerConfiguration");N();var _u=require("@terradharitri/sdk-dapp/constants/index");N();N();N();N();var Nu=10,Du="500000",Ru=75e4,Mu=1e6,Pu=2e5,Bt="0",ku={D:"devnet",T:"testnet",1:"mainnet"};function qn(o){return ku[o]}function Fu(o){let n=qn(o),i=_u.fallbackNetworkConfigurations[n].apiAddress;if(!i)throw"Could not extract api address for environment, check if you have a valid chainID";return i}function Gu(o){return rr(this,null,function*(){let n=Fu(o);return yield(0,Ou.getServerConfiguration)(n)})}N();var ju={mainnet:{delegationContract:"drt1qqqqqqqqqqqqqpgqxwakt2g7u9atsnr03gqcgmhcv38pt7mkd94q8vqld4",delegationContractData:{minGasLimit:"75000000"}},devnet:{delegationContract:"drt1qqqqqqqqqqqqqpgqp699jngundfqw07d8jzkepucvpzush6k3wvqeyzkqc",delegationContractData:{minGasLimit:"75000000"}},testnet:{delegationContract:"drt1qqqqqqqqqqqqqpgqp699jngundfqw07d8jzkepucvpzush6k3wvqeyzkqc",delegationContractData:{minGasLimit:"75000000"}}};function zu(o){let n=qn(o);return n?ju[n]:null}var It={value:null};function Tn(o){return It.value={baseURL:o.apiAddress,timeout:Number(o.apiTimeout)},It.value}function st(o){return rr(this,null,function*(){if(It.value!=null)return It.value;if(console.error("Cannot get API config before initialization, make sure to call setApiConfig first"),o!=null){let i=yield Gu(o);return Tn(i)}let n="Cannot get api config, make sure to initialize the context before calling APIs";throw console.error(n),n})}N();N();var Kh=X(require("axios"));N();N();var hn=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),Qh=require("@terradharitri/sdk-dapp/apiCalls/tokens/getPersistedToken"),$u=X(require("axios")),rp=X(require("lodash/uniqBy"));function Vu(o,n){return rr(this,null,function*(){let{address:i,token:f}=o,l=n||(yield st());return $u.default.get(`/${hn.ACCOUNTS_ENDPOINT}/${i}/${hn.TOKENS_ENDPOINT}/${f}`,l)})}N();var Wu=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),Yu=X(require("axios"));N();N();N();var xt=require("@terradharitri/sdk-dapp/types/tokens.types");N();N();N();function Xu(o,n){return rr(this,null,function*(){if(o.type!==xt.NftEnumType.MetaDCDT)return null;let i=n||(yield st());try{let{data:f}=yield Yu.default.get(`/${Wu.COLLECTIONS_ENDPOINT}/${o.collection}`,i);return(f==null?void 0:f.canTransfer)===!1?f==null?void 0:f.roles.map(({address:l,canTransfer:h})=>h?l:"").filter(l=>Boolean(l)):null}catch(f){return console.error(`Unable to get canTransfer information for collection ${o.collection}`,f),null}})}N();var oe=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),Bn=X(require("axios"));function In(o,n){return rr(this,arguments,function*({address:i,identifier:f},l){try{let h=l||(yield st()),{data:p}=yield Bn.default.get(`/${oe.ACCOUNTS_ENDPOINT}/${i}/${oe.NFTS_ENDPOINT}/${f}`,h);return p||null}catch(h){return null}})}function Hu(o,n){return rr(this,null,function*(){try{let i=n||(yield st()),{data:f}=yield Bn.default.get(`/${oe.NFTS_ENDPOINT}/${o}`,i);return f||null}catch(i){return null}})}N();N();var Zu=X(require("axios"));function Ju(o){return rr(this,null,function*(){try{let n=yield st(),{data:i}=yield Zu.default.post("/transaction/cost",o,n);return{data:i,success:!0}}catch(n){return console.error(n),{success:!1}}})}N();var Ku=require("@terradharitri/sdk-dapp/constants/index");N();N();N();var Ut=require("bech32"),Qu=o=>{let n=Ut.bech32.toWords(ft.Buffer.from(o,"hex"));return Ut.bech32.encode("drt",n)},ra=o=>{let n=Ut.bech32.decode(o,256);return ft.Buffer.from(Ut.bech32.fromWords(n.words)).toString("hex")},ta={encode:Qu,decode:ra};N();N();N();N();N();N();var tp=require("@terradharitri/sdk-dapp/constants"),ep=require("@terradharitri/sdk-dapp/utils/account/getAccount");N();N();var np=require("@terradharitri/sdk-dapp/utils/transactions/transactionInfoHelpers/getScamFlag");N();var ip=require("@terradharitri/sdk-dapp/utils/buildUrlParams");N();var op=X(require("anchorme"));N();N();var up=require("@terradharitri/sdk-dapp/utils/operations/calculateFeeLimit"),ae=require("@terradharitri/sdk-dapp/utils/operations/formatAmount"),ap=require("@terradharitri/sdk-dapp/utils/operations/getUsdValue"),Lt=require("@terradharitri/sdk-dapp/utils/operations/parseAmount"),ea="1",na=({computedNft:o,amount:n})=>{var i,f,l;if(((i=o==null?void 0:o.nft)==null?void 0:i.type)===xt.NftEnumType.NonFungibleDCDT)return ea;let h=((f=o==null?void 0:o.nft)==null?void 0:f.type)===xt.NftEnumType.MetaDCDT,p=(o==null?void 0:o.quantity)||n;return h&&p?(0,ae.formatAmount)({input:p,decimals:(l=o==null?void 0:o.nft)==null?void 0:l.decimals,showLastNonZeroDecimal:!0,addCommas:!1,digits:Ku.DIGITS}):p};N();N();N();var fp=require("@terradharitri/sdk-dapp/constants/index");N();var ia=require("@terradharitri/sdk-dapp/constants/index"),oa=(o="")=>{let n=Ru+o.length*ia.GAS_PER_DATA_BYTE;return o.startsWith("DCDTNFTBurn")?Pu.toString():String(Math.max(n,Mu))};N();var pn=require("@terradharitri/sdk-dapp/constants/index"),yn=X(require("bignumber.js"));N();var ua=require("@terradharitri/sdk-dapp/constants/index");function xn(o=!1){return o?ua.EXTRA_GAS_LIMIT_GUARDED_TX:0}var Un=({data:o,isGuarded:n})=>{let i=new yn.default(pn.GAS_LIMIT),f=new yn.default(pn.GAS_PER_DATA_BYTE),l=o?f.times(ft.Buffer.from(o).length):0,h=xn(n);return i.plus(l).plus(h).toString(10)};N();var sp=require("@terradharitri/sdk-dapp/constants/index");N();N();var Kr=require("@terradharitri/sdk-core"),aa=require("@terradharitri/sdk-dapp/constants/index"),fa=X(require("bignumber.js"));function sa({amount:o,data:n,nonce:i,receiver:f,receiverUsername:l,sender:h,senderUsername:p,gasPrice:a,gasLimit:v,chainId:g}){let A=new fa.default((0,Lt.parseAmount)(o));return new Kr.Transaction({nonce:i,value:Kr.TokenPayment.rewaFromBigInteger(A.toString(10)),sender:new Kr.Address(h),receiver:new Kr.Address(f),gasPrice:parseInt(a),gasLimit:parseInt(v),senderUsername:p,receiverUsername:l,data:new Kr.TransactionPayload(n),chainID:g,version:new Kr.TransactionVersion(aa.VERSION)})}N();function la(o){return isNaN(Number(o))||o===""?(0,Lt.parseAmount)("0"):(0,Lt.parseAmount)(o)}N();var lp=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger");N();var cp=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");N();var dn=X(require("bignumber.js")),gn=o=>o.length%2===0?o:`0${o}`,ca=({nft:o,amount:n,receiver:i,errors:f})=>{if(!(o&&n&&i&&!f))return"";try{let l="DCDTNFTTransfer",h=(o==null?void 0:o.type)===xt.NftEnumType.MetaDCDT?(0,Lt.parseAmount)(n,o.decimals):n;return l+=`@${ft.Buffer.from(String(o.collection)).toString("hex")}`,l+=`@${gn(new dn.default(String(o.nonce)).toString(16))}`,l+=`@${gn(new dn.default(h).toString(16))}`,l+=`@${ta.decode(i)}`,l}catch(l){return""}};N();var ha=require("@terradharitri/sdk-dapp/constants/index"),pa=require("@terradharitri/sdk-dapp/utils/smartContracts"),ya=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType"),Qr=X(require("bignumber.js"));N();var da=X(require("bignumber.js")),ga=o=>rr(void 0,[o],function*({balance:n,address:i,isGuarded:f,nonce:l,values:h,chainId:p}){var a,v,g;let{amount:A,receiver:E,data:T,gasLimit:L,gasPrice:y}=h,b=sa({balance:n,amount:String(A),gasLimit:String(L),gasPrice:la(y),data:T.trim(),receiver:E,sender:i,nonce:l,chainId:p}).toPlainObject(),{data:m,success:w}=yield Ju(at(rt({},b),{sender:i})),q=Number((a=m==null?void 0:m.data)==null?void 0:a.txGasUnits),B=(v=m==null?void 0:m.data)==null?void 0:v.returnMessage;if(!Boolean(w&&(m==null?void 0:m.code)==="successful"&&q&&q!==0))return{gasLimit:L,gasLimitCostError:(g=m==null?void 0:m.data)==null?void 0:g.returnMessage};if(!B)return{gasLimit:new da.default(q).times(Nu).dividedToIntegerBy(100).plus(q).toString(10)};let _=Un({data:h.data?h.data.trim():"",isGuarded:f});return{gasLimit:String(q)===Bt?_:String(q)}}),va=ga,ma=o=>rr(void 0,[o],function*({computedTokenId:n,receiver:i,isInternal:f,balance:l,address:h,isGuarded:p,nonce:a,amount:v,data:g,gasLimit:A,gasPrice:E,delegationContractData:T,chainId:L}){var y;let b=xn(p),m=T==null?void 0:T.delegationContract,w=(y=T==null?void 0:T.delegationContractData.minGasLimit)!=null?y:Bt;if(!new Qr.default(A).isNaN()&&new Qr.default(A).isGreaterThan(Bt))return{initGasLimit:A};if((0,pa.isContract)(i)&&!f){let{gasLimit:_,gasLimitCostError:k}=yield va({balance:l,address:h,nonce:a,values:{amount:v,receiver:i,data:g,gasLimit:A,gasPrice:E},chainId:L});return{initGasLimit:i===m?new Qr.default(_).plus(w).plus(b).toString():_,initGasLimitError:k}}if(g.length>0)return{initGasLimit:Un({data:g.trim(),isGuarded:p})};let{isDcdt:q,isNft:B}=(0,ya.getIdentifierType)(n);return q?{initGasLimit:new Qr.default(Du).plus(b).toString()}:B?{initGasLimit:new Qr.default(oa()).plus(b).toString()}:{initGasLimit:new Qr.default(ha.GAS_LIMIT).plus(b).toString()}});N();var ne=require("@terradharitri/sdk-dapp/constants/index"),wa=X(require("bignumber.js")),vn,mn,wn,ba=(0,ae.formatAmount)({input:String((vn=ne.GAS_PRICE)!=null?vn:1e9),decimals:(mn=ne.DECIMALS)!=null?mn:18,showLastNonZeroDecimal:!0,digits:(wn=ne.DIGITS)!=null?wn:4}),hp=new wa.default(ba).times(10).toString(10);N();var pp=require("@terradharitri/sdk-dapp/constants/index"),yp=X(require("bignumber.js"));N();var dp=X(require("bignumber.js"));function Ea(o){let{computedNft:n,data:i,amount:f,receiver:l}=o,h=n==null?void 0:n.nft,p=h?ca({nft:h,amount:f,receiver:l,errors:!1}):"";return i||p}N();var Aa=o=>rr(void 0,null,function*(){let n=o,{configValues:i}=n,f=Eu(n,["configValues"]),l=zu(o.chainId),h=at(rt(rt({isInternal:["1","T"].includes(o.chainId)},f),i),{delegationContractData:l});return ma(h)});N();var ie=require("@terradharitri/sdk-dapp/constants/index"),qa=o=>o!=null&&o!==Bt?o:(0,ae.formatAmount)({input:String(ie.GAS_PRICE),decimals:ie.DECIMALS,showLastNonZeroDecimal:!0,digits:ie.DIGITS});N();var Ta=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");N();var Ba=require("@terradharitri/sdk-dapp/types/tokens.types"),Ia=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");N();N();var gp=require("react"),vp=require("@terradharitri/sdk-dapp/constants/index");N();N();var xa=X(require("react")),mp=(0,xa.createContext)({}),wp=require("@terradharitri/sdk-dapp/types/enums.types");N();var qt={},Ua=o=>rr(void 0,null,function*(){if(!o)return null;if(o.collection in qt)return qt[o.collection];let n=yield Xu(o);return qt[o.collection]=n,qt[o.collection]});function La(o,n){return rr(this,null,function*(){let{address:i,identifier:f}=o,{isNft:l}=(0,Ia.getIdentifierType)(f);if(!l)return null;try{let h=yield In({address:i,identifier:f},n);if((h==null?void 0:h.type)===Ba.NftEnumType.MetaDCDT){let p=yield Ua(h);h=at(rt({},h),{allowedReceivers:p})}return h}catch(h){console.log(h)}return null})}N();var Sa=require("@terradharitri/sdk-core"),Ca=X(require("bignumber.js"));N();var Oa=require("@terradharitri/sdk-core"),_a=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),Na=require("@terradharitri/sdk-dapp/utils/decoders/decodePart"),Da=o=>o.split("@").map((n,i)=>[2,3].includes(i)?n:(0,Na.decodePart)(n)),Ra=({data:o,nft:n,address:i})=>{let f=o==null?void 0:o.startsWith("DCDTNFTBurn"),l=o==null?void 0:o.startsWith("DCDTNFTTransfer");if((f||l)&&o.includes("@"))try{let[,h,p,a,v]=n?["DCDTNFTTransfer",n.collection,n.nonce,n.quantity,n.receiver]:Da(o),g=f&&!v?i:v,A=[h,p,a,g].every(T=>T),E=(0,_a.addressIsValid)(new Oa.Address(g).bech32());if(A&&E)return{collection:h,nonce:p,quantity:a,receiver:g}}catch(h){console.error("Could not extract NFT from data:",h);return}},Ma=(o,n)=>rr(void 0,null,function*(){let{address:i,identifier:f}=o;try{return yield In({address:i,identifier:f},n)}catch(l){return yield Hu(f,n)}}),Pa=(o,n)=>rr(void 0,null,function*(){let{address:i,nft:f}=o,l=Ra(o);try{if(l){let{collection:h,nonce:p,quantity:a,receiver:v}=l,g=`${h}-${p}`,A=yield Ma({identifier:g,address:i},n);if(A)return{receiver:new Sa.Address(v).bech32(),nft:A,quantity:f?a:new Ca.default(a,16).toString(10)}}}catch(h){console.log(h)}return null}),ka={receiver:"",quantity:""},Fa=o=>rr(void 0,[o],function*({data:n,address:i,identifier:f}){if(n)return yield Pa({data:n,address:i});let{isNft:l}=(0,Ta.getIdentifierType)(f);if(f&&l){let h=yield La({identifier:f,address:i});return h?at(rt({},ka),{nft:h}):null}return null});N();var Ga=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");function ja(o,n){return rr(this,null,function*(){let{address:i,identifier:f}=o;try{let{data:l}=yield Vu({address:i,token:f},n);return l}catch(l){console.log(l)}return null})}function za(o){let{identifier:n,address:i}=o,{isDcdt:f}=(0,Ga.getIdentifierType)(n);return n&&f?ja({address:i,identifier:n}):null}function $a(){let o=new URLSearchParams(window.location.search);return Object.fromEntries(o).token}function Va(o){return rr(this,null,function*(){let{address:n,rewaLabel:i,configValues:{receiver:f,receiverUsername:l,amount:h,gasPrice:p,data:a,tokenId:v},networkConfig:g}=o,A=$a(),E=v||A,T=E||i;g&&Tn(g);let[L,y,b]=yield Promise.all([Fa({data:a,address:n,identifier:E}),za({identifier:E,address:n}),Aa(at(rt({},o),{computedTokenId:T}))]),{initGasLimit:m,initGasLimitError:w}=b,q={receiver:f,receiverUsername:l,amount:na({computedNft:L,amount:h}),tokenId:T,gasLimit:m,gasPrice:qa(p),data:Ea({computedNft:L,data:a,receiver:f,amount:h})},{isDcdt:B}=(0,Cu.getIdentifierType)(E);return{initialValues:q,nft:L==null?void 0:L.nft,gasLimitCostError:w,computedTokens:y?[y]:[],computedTokenId:T,tokenFound:B?Boolean(y):!0}})}N();function Wa(o){let[n,i]=(0,cn.useState)(null);function f(){return rr(this,null,function*(){let l=yield Va(o);i(l)})}return(0,cn.useEffect)(()=>{f()},[]),n}});var Hn=Sr((k0,Xn)=>{"use strict";K();var Ya=Object.create,lt=Object.defineProperty,Xa=Object.defineProperties,Ha=Object.getOwnPropertyDescriptor,Za=Object.getOwnPropertyDescriptors,Ja=Object.getOwnPropertyNames,Cn=Object.getOwnPropertySymbols,Ka=Object.getPrototypeOf,Fn=Object.prototype.hasOwnProperty,Qa=Object.prototype.propertyIsEnumerable,On=(o,n,i)=>n in o?lt(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,rf=(o,n)=>{for(var i in n||(n={}))Fn.call(n,i)&&On(o,i,n[i]);if(Cn)for(var i of Cn(n))Qa.call(n,i)&&On(o,i,n[i]);return o},tf=(o,n)=>Xa(o,Za(n)),ef=(o,n)=>()=>(o&&(n=o(o=0)),n),Ot=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports),nf=(o,n)=>{for(var i in n)lt(o,i,{get:n[i],enumerable:!0})},Gn=(o,n,i,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let l of Ja(n))!Fn.call(o,l)&&l!==i&&lt(o,l,{get:()=>n[l],enumerable:!(f=Ha(n,l))||f.enumerable});return o},$=(o,n,i)=>(i=o!=null?Ya(Ka(o)):{},Gn(n||!o||!o.__esModule?lt(i,"default",{value:o,enumerable:!0}):i,o)),of=o=>Gn(lt({},"__esModule",{value:!0}),o),ct=(o,n,i)=>new Promise((f,l)=>{var h=v=>{try{a(i.next(v))}catch(g){l(g)}},p=v=>{try{a(i.throw(v))}catch(g){l(g)}},a=v=>v.done?f(v.value):Promise.resolve(v.value).then(h,p);a((i=i.apply(o,n)).next())}),uf=Ot(o=>{"use strict";C(),o.byteLength=v,o.toByteArray=A,o.fromByteArray=L;var n=[],i=[],f=typeof Uint8Array!="undefined"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(h=0,p=l.length;h<p;++h)n[h]=l[h],i[l.charCodeAt(h)]=h;var h,p;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63;function a(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=y.indexOf("=");m===-1&&(m=b);var w=m===b?0:4-m%4;return[m,w]}function v(y){var b=a(y),m=b[0],w=b[1];return(m+w)*3/4-w}function g(y,b,m){return(b+m)*3/4-m}function A(y){var b,m=a(y),w=m[0],q=m[1],B=new f(g(y,w,q)),_=0,k=q>0?w-4:w,P;for(P=0;P<k;P+=4)b=i[y.charCodeAt(P)]<<18|i[y.charCodeAt(P+1)]<<12|i[y.charCodeAt(P+2)]<<6|i[y.charCodeAt(P+3)],B[_++]=b>>16&255,B[_++]=b>>8&255,B[_++]=b&255;return q===2&&(b=i[y.charCodeAt(P)]<<2|i[y.charCodeAt(P+1)]>>4,B[_++]=b&255),q===1&&(b=i[y.charCodeAt(P)]<<10|i[y.charCodeAt(P+1)]<<4|i[y.charCodeAt(P+2)]>>2,B[_++]=b>>8&255,B[_++]=b&255),B}function E(y){return n[y>>18&63]+n[y>>12&63]+n[y>>6&63]+n[y&63]}function T(y,b,m){for(var w,q=[],B=b;B<m;B+=3)w=(y[B]<<16&16711680)+(y[B+1]<<8&65280)+(y[B+2]&255),q.push(E(w));return q.join("")}function L(y){for(var b,m=y.length,w=m%3,q=[],B=16383,_=0,k=m-w;_<k;_+=B)q.push(T(y,_,_+B>k?k:_+B));return w===1?(b=y[m-1],q.push(n[b>>2]+n[b<<4&63]+"==")):w===2&&(b=(y[m-2]<<8)+y[m-1],q.push(n[b>>10]+n[b>>4&63]+n[b<<2&63]+"=")),q.join("")}}),af=Ot(o=>{C(),o.read=function(n,i,f,l,h){var p,a,v=h*8-l-1,g=(1<<v)-1,A=g>>1,E=-7,T=f?h-1:0,L=f?-1:1,y=n[i+T];for(T+=L,p=y&(1<<-E)-1,y>>=-E,E+=v;E>0;p=p*256+n[i+T],T+=L,E-=8);for(a=p&(1<<-E)-1,p>>=-E,E+=l;E>0;a=a*256+n[i+T],T+=L,E-=8);if(p===0)p=1-A;else{if(p===g)return a?NaN:(y?-1:1)*(1/0);a=a+Math.pow(2,l),p=p-A}return(y?-1:1)*a*Math.pow(2,p-l)},o.write=function(n,i,f,l,h,p){var a,v,g,A=p*8-h-1,E=(1<<A)-1,T=E>>1,L=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=l?0:p-1,b=l?1:-1,m=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(v=isNaN(i)?1:0,a=E):(a=Math.floor(Math.log(i)/Math.LN2),i*(g=Math.pow(2,-a))<1&&(a--,g*=2),a+T>=1?i+=L/g:i+=L*Math.pow(2,1-T),i*g>=2&&(a++,g/=2),a+T>=E?(v=0,a=E):a+T>=1?(v=(i*g-1)*Math.pow(2,h),a=a+T):(v=i*Math.pow(2,T-1)*Math.pow(2,h),a=0));h>=8;n[f+y]=v&255,y+=b,v/=256,h-=8);for(a=a<<h|v,A+=h;A>0;n[f+y]=a&255,y+=b,a/=256,A-=8);n[f+y-b]|=m*128}}),ff=Ot(o=>{"use strict";C();var n=uf(),i=af(),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=a,o.SlowBuffer=q,o.INSPECT_MAX_BYTES=50;var l=2147483647;o.kMaxLength=l,a.TYPED_ARRAY_SUPPORT=h(),!a.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var r=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(r,t),r.foo()===42}catch(e){return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function p(r){if(r>l)throw new RangeError('The value "'+r+'" is invalid for option "size"');var t=new Uint8Array(r);return Object.setPrototypeOf(t,a.prototype),t}function a(r,t,e){if(typeof r=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(r)}return v(r,t,e)}a.poolSize=8192;function v(r,t,e){if(typeof r=="string")return T(r,t);if(ArrayBuffer.isView(r))return y(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(z(r,ArrayBuffer)||r&&z(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(z(r,SharedArrayBuffer)||r&&z(r.buffer,SharedArrayBuffer)))return b(r,t,e);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var u=r.valueOf&&r.valueOf();if(u!=null&&u!==r)return a.from(u,t,e);var s=m(r);if(s)return s;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return a.from(r[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}a.from=function(r,t,e){return v(r,t,e)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function g(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function A(r,t,e){return g(r),r<=0?p(r):t!==void 0?typeof e=="string"?p(r).fill(t,e):p(r).fill(t):p(r)}a.alloc=function(r,t,e){return A(r,t,e)};function E(r){return g(r),p(r<0?0:w(r)|0)}a.allocUnsafe=function(r){return E(r)},a.allocUnsafeSlow=function(r){return E(r)};function T(r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var e=B(r,t)|0,u=p(e),s=u.write(r,t);return s!==e&&(u=u.slice(0,s)),u}function L(r){for(var t=r.length<0?0:w(r.length)|0,e=p(t),u=0;u<t;u+=1)e[u]=r[u]&255;return e}function y(r){if(z(r,Uint8Array)){var t=new Uint8Array(r);return b(t.buffer,t.byteOffset,t.byteLength)}return L(r)}function b(r,t,e){if(t<0||r.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');var u;return t===void 0&&e===void 0?u=new Uint8Array(r):e===void 0?u=new Uint8Array(r,t):u=new Uint8Array(r,t,e),Object.setPrototypeOf(u,a.prototype),u}function m(r){if(a.isBuffer(r)){var t=w(r.length)|0,e=p(t);return e.length===0||r.copy(e,0,0,t),e}if(r.length!==void 0)return typeof r.length!="number"||nr(r.length)?p(0):L(r);if(r.type==="Buffer"&&Array.isArray(r.data))return L(r.data)}function w(r){if(r>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return r|0}function q(r){return+r!=r&&(r=0),a.alloc(+r)}a.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==a.prototype},a.compare=function(r,t){if(z(r,Uint8Array)&&(r=a.from(r,r.offset,r.byteLength)),z(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(r)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===t)return 0;for(var e=r.length,u=t.length,s=0,c=Math.min(e,u);s<c;++s)if(r[s]!==t[s]){e=r[s],u=t[s];break}return e<u?-1:u<e?1:0},a.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(r,t){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return a.alloc(0);var e;if(t===void 0)for(t=0,e=0;e<r.length;++e)t+=r[e].length;var u=a.allocUnsafe(t),s=0;for(e=0;e<r.length;++e){var c=r[e];if(z(c,Uint8Array))s+c.length>u.length?a.from(c).copy(u,s):Uint8Array.prototype.set.call(u,c,s);else if(a.isBuffer(c))c.copy(u,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=c.length}return u};function B(r,t){if(a.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||z(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var e=r.length,u=arguments.length>2&&arguments[2]===!0;if(!u&&e===0)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return er(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return pr(r).length;default:if(s)return u?-1:er(r).length;t=(""+t).toLowerCase(),s=!0}}a.byteLength=B;function _(r,t,e){var u=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return Dr(this,t,e);case"utf8":case"utf-8":return ur(this,t,e);case"ascii":return _r(this,t,e);case"latin1":case"binary":return Nr(this,t,e);case"base64":return fr(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rr(this,t,e);default:if(u)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),u=!0}}a.prototype._isBuffer=!0;function k(r,t,e){var u=r[t];r[t]=r[e],r[e]=u}a.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)k(this,t,t+1);return this},a.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)k(this,t,t+3),k(this,t+1,t+2);return this},a.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)k(this,t,t+7),k(this,t+1,t+6),k(this,t+2,t+5),k(this,t+3,t+4);return this},a.prototype.toString=function(){var r=this.length;return r===0?"":arguments.length===0?ur(this,0,r):_.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(r){if(!a.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:a.compare(this,r)===0},a.prototype.inspect=function(){var r="",t=o.INSPECT_MAX_BYTES;return r=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(r+=" ... "),"<Buffer "+r+">"},f&&(a.prototype[f]=a.prototype.inspect),a.prototype.compare=function(r,t,e,u,s){if(z(r,Uint8Array)&&(r=a.from(r,r.offset,r.byteLength)),!a.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(t===void 0&&(t=0),e===void 0&&(e=r?r.length:0),u===void 0&&(u=0),s===void 0&&(s=this.length),t<0||e>r.length||u<0||s>this.length)throw new RangeError("out of range index");if(u>=s&&t>=e)return 0;if(u>=s)return-1;if(t>=e)return 1;if(t>>>=0,e>>>=0,u>>>=0,s>>>=0,this===r)return 0;for(var c=s-u,d=e-t,U=Math.min(c,d),M=this.slice(u,s),S=r.slice(t,e),O=0;O<U;++O)if(M[O]!==S[O]){c=M[O],d=S[O];break}return c<d?-1:d<c?1:0};function P(r,t,e,u,s){if(r.length===0)return-1;if(typeof e=="string"?(u=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,nr(e)&&(e=s?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(s)return-1;e=r.length-1}else if(e<0)if(s)e=0;else return-1;if(typeof t=="string"&&(t=a.from(t,u)),a.isBuffer(t))return t.length===0?-1:or(r,t,e,u,s);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):or(r,[t],e,u,s);throw new TypeError("val must be string, number or Buffer")}function or(r,t,e,u,s){var c=1,d=r.length,U=t.length;if(u!==void 0&&(u=String(u).toLowerCase(),u==="ucs2"||u==="ucs-2"||u==="utf16le"||u==="utf-16le")){if(r.length<2||t.length<2)return-1;c=2,d/=2,U/=2,e/=2}function M(yr,dr){return c===1?yr[dr]:yr.readUInt16BE(dr*c)}var S;if(s){var O=-1;for(S=e;S<d;S++)if(M(r,S)===M(t,O===-1?0:S-O)){if(O===-1&&(O=S),S-O+1===U)return O*c}else O!==-1&&(S-=S-O),O=-1}else for(e+U>d&&(e=d-U),S=e;S>=0;S--){for(var F=!0,J=0;J<U;J++)if(M(r,S+J)!==M(t,J)){F=!1;break}if(F)return S}return-1}a.prototype.includes=function(r,t,e){return this.indexOf(r,t,e)!==-1},a.prototype.indexOf=function(r,t,e){return P(this,r,t,e,!0)},a.prototype.lastIndexOf=function(r,t,e){return P(this,r,t,e,!1)};function br(r,t,e,u){e=Number(e)||0;var s=r.length-e;u?(u=Number(u),u>s&&(u=s)):u=s;var c=t.length;u>c/2&&(u=c/2);for(var d=0;d<u;++d){var U=parseInt(t.substr(d*2,2),16);if(nr(U))return d;r[e+d]=U}return d}function Er(r,t,e,u){return Z(er(t,r.length-e),r,e,u)}function Ar(r,t,e,u){return Z(kr(t),r,e,u)}function qr(r,t,e,u){return Z(pr(t),r,e,u)}function Tr(r,t,e,u){return Z(Fr(t,r.length-e),r,e,u)}a.prototype.write=function(r,t,e,u){if(t===void 0)u="utf8",e=this.length,t=0;else if(e===void 0&&typeof t=="string")u=t,e=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(e)?(e=e>>>0,u===void 0&&(u="utf8")):(u=e,e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((e===void 0||e>s)&&(e=s),r.length>0&&(e<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");for(var c=!1;;)switch(u){case"hex":return br(this,r,t,e);case"utf8":case"utf-8":return Er(this,r,t,e);case"ascii":case"latin1":case"binary":return Ar(this,r,t,e);case"base64":return qr(this,r,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Tr(this,r,t,e);default:if(c)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),c=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function fr(r,t,e){return t===0&&e===r.length?n.fromByteArray(r):n.fromByteArray(r.slice(t,e))}function ur(r,t,e){e=Math.min(r.length,e);for(var u=[],s=t;s<e;){var c=r[s],d=null,U=c>239?4:c>223?3:c>191?2:1;if(s+U<=e){var M,S,O,F;switch(U){case 1:c<128&&(d=c);break;case 2:M=r[s+1],(M&192)===128&&(F=(c&31)<<6|M&63,F>127&&(d=F));break;case 3:M=r[s+1],S=r[s+2],(M&192)===128&&(S&192)===128&&(F=(c&15)<<12|(M&63)<<6|S&63,F>2047&&(F<55296||F>57343)&&(d=F));break;case 4:M=r[s+1],S=r[s+2],O=r[s+3],(M&192)===128&&(S&192)===128&&(O&192)===128&&(F=(c&15)<<18|(M&63)<<12|(S&63)<<6|O&63,F>65535&&F<1114112&&(d=F))}}d===null?(d=65533,U=1):d>65535&&(d-=65536,u.push(d>>>10&1023|55296),d=56320|d&1023),u.push(d),s+=U}return Or(u)}var sr=4096;function Or(r){var t=r.length;if(t<=sr)return String.fromCharCode.apply(String,r);for(var e="",u=0;u<t;)e+=String.fromCharCode.apply(String,r.slice(u,u+=sr));return e}function _r(r,t,e){var u="";e=Math.min(r.length,e);for(var s=t;s<e;++s)u+=String.fromCharCode(r[s]&127);return u}function Nr(r,t,e){var u="";e=Math.min(r.length,e);for(var s=t;s<e;++s)u+=String.fromCharCode(r[s]);return u}function Dr(r,t,e){var u=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>u)&&(e=u);for(var s="",c=t;c<e;++c)s+=Gr[r[c]];return s}function Rr(r,t,e){for(var u=r.slice(t,e),s="",c=0;c<u.length-1;c+=2)s+=String.fromCharCode(u[c]+u[c+1]*256);return s}a.prototype.slice=function(r,t){var e=this.length;r=~~r,t=t===void 0?e:~~t,r<0?(r+=e,r<0&&(r=0)):r>e&&(r=e),t<0?(t+=e,t<0&&(t=0)):t>e&&(t=e),t<r&&(t=r);var u=this.subarray(r,t);return Object.setPrototypeOf(u,a.prototype),u};function R(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=this[r],s=1,c=0;++c<t&&(s*=256);)u+=this[r+c]*s;return u},a.prototype.readUintBE=a.prototype.readUIntBE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=this[r+--t],s=1;t>0&&(s*=256);)u+=this[r+--t]*s;return u},a.prototype.readUint8=a.prototype.readUInt8=function(r,t){return r=r>>>0,t||R(r,1,this.length),this[r]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(r,t){return r=r>>>0,t||R(r,2,this.length),this[r]|this[r+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(r,t){return r=r>>>0,t||R(r,2,this.length),this[r]<<8|this[r+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(r,t){return r=r>>>0,t||R(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(r,t){return r=r>>>0,t||R(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},a.prototype.readIntLE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=this[r],s=1,c=0;++c<t&&(s*=256);)u+=this[r+c]*s;return s*=128,u>=s&&(u-=Math.pow(2,8*t)),u},a.prototype.readIntBE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=t,s=1,c=this[r+--u];u>0&&(s*=256);)c+=this[r+--u]*s;return s*=128,c>=s&&(c-=Math.pow(2,8*t)),c},a.prototype.readInt8=function(r,t){return r=r>>>0,t||R(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},a.prototype.readInt16LE=function(r,t){r=r>>>0,t||R(r,2,this.length);var e=this[r]|this[r+1]<<8;return e&32768?e|4294901760:e},a.prototype.readInt16BE=function(r,t){r=r>>>0,t||R(r,2,this.length);var e=this[r+1]|this[r]<<8;return e&32768?e|4294901760:e},a.prototype.readInt32LE=function(r,t){return r=r>>>0,t||R(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},a.prototype.readInt32BE=function(r,t){return r=r>>>0,t||R(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},a.prototype.readFloatLE=function(r,t){return r=r>>>0,t||R(r,4,this.length),i.read(this,r,!0,23,4)},a.prototype.readFloatBE=function(r,t){return r=r>>>0,t||R(r,4,this.length),i.read(this,r,!1,23,4)},a.prototype.readDoubleLE=function(r,t){return r=r>>>0,t||R(r,8,this.length),i.read(this,r,!0,52,8)},a.prototype.readDoubleBE=function(r,t){return r=r>>>0,t||R(r,8,this.length),i.read(this,r,!1,52,8)};function G(r,t,e,u,s,c){if(!a.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<c)throw new RangeError('"value" argument is out of bounds');if(e+u>r.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(r,t,e,u){if(r=+r,t=t>>>0,e=e>>>0,!u){var s=Math.pow(2,8*e)-1;G(this,r,t,e,s,0)}var c=1,d=0;for(this[t]=r&255;++d<e&&(c*=256);)this[t+d]=r/c&255;return t+e},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(r,t,e,u){if(r=+r,t=t>>>0,e=e>>>0,!u){var s=Math.pow(2,8*e)-1;G(this,r,t,e,s,0)}var c=e-1,d=1;for(this[t+c]=r&255;--c>=0&&(d*=256);)this[t+c]=r/d&255;return t+e},a.prototype.writeUint8=a.prototype.writeUInt8=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,1,255,0),this[t]=r&255,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,65535,0),this[t]=r&255,this[t+1]=r>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,65535,0),this[t]=r>>>8,this[t+1]=r&255,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,4294967295,0),this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=r&255,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,4294967295,0),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4},a.prototype.writeIntLE=function(r,t,e,u){if(r=+r,t=t>>>0,!u){var s=Math.pow(2,8*e-1);G(this,r,t,e,s-1,-s)}var c=0,d=1,U=0;for(this[t]=r&255;++c<e&&(d*=256);)r<0&&U===0&&this[t+c-1]!==0&&(U=1),this[t+c]=(r/d>>0)-U&255;return t+e},a.prototype.writeIntBE=function(r,t,e,u){if(r=+r,t=t>>>0,!u){var s=Math.pow(2,8*e-1);G(this,r,t,e,s-1,-s)}var c=e-1,d=1,U=0;for(this[t+c]=r&255;--c>=0&&(d*=256);)r<0&&U===0&&this[t+c+1]!==0&&(U=1),this[t+c]=(r/d>>0)-U&255;return t+e},a.prototype.writeInt8=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,1,127,-128),r<0&&(r=255+r+1),this[t]=r&255,t+1},a.prototype.writeInt16LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,32767,-32768),this[t]=r&255,this[t+1]=r>>>8,t+2},a.prototype.writeInt16BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,32767,-32768),this[t]=r>>>8,this[t+1]=r&255,t+2},a.prototype.writeInt32LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,2147483647,-2147483648),this[t]=r&255,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24,t+4},a.prototype.writeInt32BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4};function lr(r,t,e,u,s,c){if(e+u>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function cr(r,t,e,u,s){return t=+t,e=e>>>0,s||lr(r,t,e,4,34028234663852886e22,-34028234663852886e22),i.write(r,t,e,u,23,4),e+4}a.prototype.writeFloatLE=function(r,t,e){return cr(this,r,t,!0,e)},a.prototype.writeFloatBE=function(r,t,e){return cr(this,r,t,!1,e)};function hr(r,t,e,u,s){return t=+t,e=e>>>0,s||lr(r,t,e,8,17976931348623157e292,-17976931348623157e292),i.write(r,t,e,u,52,8),e+8}a.prototype.writeDoubleLE=function(r,t,e){return hr(this,r,t,!0,e)},a.prototype.writeDoubleBE=function(r,t,e){return hr(this,r,t,!1,e)},a.prototype.copy=function(r,t,e,u){if(!a.isBuffer(r))throw new TypeError("argument should be a Buffer");if(e||(e=0),!u&&u!==0&&(u=this.length),t>=r.length&&(t=r.length),t||(t=0),u>0&&u<e&&(u=e),u===e||r.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),r.length-t<u-e&&(u=r.length-t+e);var s=u-e;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,e,u):Uint8Array.prototype.set.call(r,this.subarray(e,u),t),s},a.prototype.fill=function(r,t,e,u){if(typeof r=="string"){if(typeof t=="string"?(u=t,t=0,e=this.length):typeof e=="string"&&(u=e,e=this.length),u!==void 0&&typeof u!="string")throw new TypeError("encoding must be a string");if(typeof u=="string"&&!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(r.length===1){var s=r.charCodeAt(0);(u==="utf8"&&s<128||u==="latin1")&&(r=s)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(t<0||this.length<t||this.length<e)throw new RangeError("Out of range index");if(e<=t)return this;t=t>>>0,e=e===void 0?this.length:e>>>0,r||(r=0);var c;if(typeof r=="number")for(c=t;c<e;++c)this[c]=r;else{var d=a.isBuffer(r)?r:a.from(r,u),U=d.length;if(U===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(c=0;c<e-t;++c)this[c+t]=d[c%U]}return this};var Mr=/[^+/0-9A-Za-z-_]/g;function Pr(r){if(r=r.split("=")[0],r=r.trim().replace(Mr,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function er(r,t){t=t||1/0;for(var e,u=r.length,s=null,c=[],d=0;d<u;++d){if(e=r.charCodeAt(d),e>55295&&e<57344){if(!s){if(e>56319){(t-=3)>-1&&c.push(239,191,189);continue}else if(d+1===u){(t-=3)>-1&&c.push(239,191,189);continue}s=e;continue}if(e<56320){(t-=3)>-1&&c.push(239,191,189),s=e;continue}e=(s-55296<<10|e-56320)+65536}else s&&(t-=3)>-1&&c.push(239,191,189);if(s=null,e<128){if((t-=1)<0)break;c.push(e)}else if(e<2048){if((t-=2)<0)break;c.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;c.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;c.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return c}function kr(r){for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function Fr(r,t){for(var e,u,s,c=[],d=0;d<r.length&&!((t-=2)<0);++d)e=r.charCodeAt(d),u=e>>8,s=e%256,c.push(s),c.push(u);return c}function pr(r){return n.toByteArray(Pr(r))}function Z(r,t,e,u){for(var s=0;s<u&&!(s+e>=t.length||s>=r.length);++s)t[s+e]=r[s];return s}function z(r,t){return r instanceof t||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===t.name}function nr(r){return r!==r}var Gr=function(){for(var r="0123456789abcdef",t=new Array(256),e=0;e<16;++e)for(var u=e*16,s=0;s<16;++s)t[u+s]=r[e]+r[s];return t}()}),sf=Ot((o,n)=>{C();var i=n.exports={},f,l;function h(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?f=setTimeout:f=h}catch(w){f=h}try{typeof clearTimeout=="function"?l=clearTimeout:l=p}catch(w){l=p}})();function a(w){if(f===setTimeout)return setTimeout(w,0);if((f===h||!f)&&setTimeout)return f=setTimeout,setTimeout(w,0);try{return f(w,0)}catch(q){try{return f.call(null,w,0)}catch(B){return f.call(this,w,0)}}}function v(w){if(l===clearTimeout)return clearTimeout(w);if((l===p||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(w);try{return l(w)}catch(q){try{return l.call(null,w)}catch(B){return l.call(this,w)}}}var g=[],A=!1,E,T=-1;function L(){!A||!E||(A=!1,E.length?g=E.concat(g):T=-1,g.length&&y())}function y(){if(!A){var w=a(L);A=!0;for(var q=g.length;q;){for(E=g,g=[];++T<q;)E&&E[T].run();T=-1,q=g.length}E=null,A=!1,v(w)}}i.nextTick=function(w){var q=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)q[B-1]=arguments[B];g.push(new b(w,q)),g.length===1&&!A&&a(y)};function b(w,q){this.fun=w,this.array=q}b.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function m(){}i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(w){return[]},i.binding=function(w){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(w){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}),jn,lf,cf,C=ef(()=>{jn=$(ff()),lf=$(sf()),cf=function(o){function n(){var f=this||self;return delete o.prototype.__magic__,f}if(typeof globalThis=="object")return globalThis;if(this)return n();o.defineProperty(o.prototype,"__magic__",{configurable:!0,get:n});var i=__magic__;return i}(Object)}),zn={};nf(zn,{default:()=>Kf,useFetchGasLimit:()=>Yn});Xn.exports=of(zn);C();var fe=require("react"),hf=require("@terradharitri/sdk-dapp/constants/index"),pf=require("@terradharitri/sdk-dapp/utils/smartContracts"),yf=$(require("bignumber.js")),df=require("formik");C();var $n=$(require("react")),gf=(0,$n.createContext)({});function vf(){return(0,$n.useContext)(gf)}C();var Vn=$(require("react")),Ep=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType"),Ap=require("formik");C();C();C();var qp=require("@terradharitri/sdk-dapp/types/tokens.types");C();C();C();C();C();var Tp=require("@terradharitri/sdk-dapp/constants/index"),Bp=require("@terradharitri/sdk-dapp/utils/operations/calculateFeeLimit"),Ip=$(require("bignumber.js"));C();C();C();var xp=require("bech32");C();C();var mf=({initialValues:o,gasLimit:n,touched:i})=>o.gasLimit!==n&&i.gasLimit;C();C();C();C();var Up=require("@terradharitri/sdk-dapp/constants"),Lp=require("@terradharitri/sdk-dapp/utils/account/getAccount");C();C();var Sp=require("@terradharitri/sdk-dapp/utils/transactions/transactionInfoHelpers/getScamFlag");C();var Cp=require("@terradharitri/sdk-dapp/utils/buildUrlParams");C();var Op=$(require("anchorme"));C();C();var _p=require("@terradharitri/sdk-dapp/utils/operations/calculateFeeLimit"),wf=require("@terradharitri/sdk-dapp/utils/operations/formatAmount"),Np=require("@terradharitri/sdk-dapp/utils/operations/getUsdValue"),he=require("@terradharitri/sdk-dapp/utils/operations/parseAmount");C();C();var Dp=require("@terradharitri/sdk-dapp/constants/index");C();var Rp=require("@terradharitri/sdk-dapp/constants/index");C();C();C();var bf=10,Ef="0";C();var _n=require("@terradharitri/sdk-dapp/constants/index"),Nn=$(require("bignumber.js"));C();var Af=require("@terradharitri/sdk-dapp/constants/index");function qf(o=!1){return o?Af.EXTRA_GAS_LIMIT_GUARDED_TX:0}var Tf=({data:o,isGuarded:n})=>{let i=new Nn.default(_n.GAS_LIMIT),f=new Nn.default(_n.GAS_PER_DATA_BYTE),l=o?f.times(jn.Buffer.from(o).length):0,h=qf(n);return i.plus(l).plus(h).toString(10)};C();var Mp=require("@terradharitri/sdk-dapp/constants/index");C();C();var tt=require("@terradharitri/sdk-core"),Bf=require("@terradharitri/sdk-dapp/constants/index"),If=$(require("bignumber.js"));function xf({amount:o,data:n,nonce:i,receiver:f,receiverUsername:l,sender:h,senderUsername:p,gasPrice:a,gasLimit:v,chainId:g}){let A=new If.default((0,he.parseAmount)(o));return new tt.Transaction({nonce:i,value:tt.TokenPayment.rewaFromBigInteger(A.toString(10)),sender:new tt.Address(h),receiver:new tt.Address(f),gasPrice:parseInt(a),gasLimit:parseInt(v),senderUsername:p,receiverUsername:l,data:new tt.TransactionPayload(n),chainID:g,version:new tt.TransactionVersion(Bf.VERSION)})}C();function Uf(o){return isNaN(Number(o))||o===""?(0,he.parseAmount)("0"):(0,he.parseAmount)(o)}C();var Pp=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger");C();var kp=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");C();var Fp=$(require("bignumber.js"));C();var Gp=require("@terradharitri/sdk-dapp/constants/index"),jp=require("@terradharitri/sdk-dapp/utils/smartContracts"),zp=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType"),$p=$(require("bignumber.js"));C();var Lf=$(require("bignumber.js"));C();C();var Sf=$(require("axios"));C();C();C();var Cf=require("@terradharitri/sdk-dapp/apiCalls/configuration/getServerConfiguration");C();var Of=require("@terradharitri/sdk-dapp/constants/index");C();var _f={D:"devnet",T:"testnet",1:"mainnet"};function Nf(o){return _f[o]}function Df(o){let n=Nf(o),i=Of.fallbackNetworkConfigurations[n].apiAddress;if(!i)throw"Could not extract api address for environment, check if you have a valid chainID";return i}function Rf(o){return ct(this,null,function*(){let n=Df(o);return yield(0,Cf.getServerConfiguration)(n)})}C();var Ct={value:null};function Mf(o){return Ct.value={baseURL:o.apiAddress,timeout:Number(o.apiTimeout)},Ct.value}function Pf(o){return ct(this,null,function*(){if(Ct.value!=null)return Ct.value;if(console.error("Cannot get API config before initialization, make sure to call setApiConfig first"),o!=null){let i=yield Rf(o);return Mf(i)}let n="Cannot get api config, make sure to initialize the context before calling APIs";throw console.error(n),n})}function kf(o){return ct(this,null,function*(){try{let n=yield Pf(),{data:i}=yield Sf.default.post("/transaction/cost",o,n);return{data:i,success:!0}}catch(n){return console.error(n),{success:!1}}})}var Ff=o=>ct(void 0,[o],function*({balance:n,address:i,isGuarded:f,nonce:l,values:h,chainId:p}){var a,v,g;let{amount:A,receiver:E,data:T,gasLimit:L,gasPrice:y}=h,b=xf({balance:n,amount:String(A),gasLimit:String(L),gasPrice:Uf(y),data:T.trim(),receiver:E,sender:i,nonce:l,chainId:p}).toPlainObject(),{data:m,success:w}=yield kf(tf(rf({},b),{sender:i})),q=Number((a=m==null?void 0:m.data)==null?void 0:a.txGasUnits),B=(v=m==null?void 0:m.data)==null?void 0:v.returnMessage;if(!Boolean(w&&(m==null?void 0:m.code)==="successful"&&q&&q!==0))return{gasLimit:L,gasLimitCostError:(g=m==null?void 0:m.data)==null?void 0:g.returnMessage};if(!B)return{gasLimit:new Lf.default(q).times(bf).dividedToIntegerBy(100).plus(q).toString(10)};let _=Tf({data:h.data?h.data.trim():"",isGuarded:f});return{gasLimit:String(q)===Ef?_:String(q)}});C();var se=require("@terradharitri/sdk-dapp/constants/index"),Gf=$(require("bignumber.js")),Dn,Rn,Mn,jf=(0,wf.formatAmount)({input:String((Dn=se.GAS_PRICE)!=null?Dn:1e9),decimals:(Rn=se.DECIMALS)!=null?Rn:18,showLastNonZeroDecimal:!0,digits:(Mn=se.DIGITS)!=null?Mn:4}),Vp=new Gf.default(jf).times(10).toString(10);C();var Wp=require("@terradharitri/sdk-dapp/constants/index"),Yp=$(require("bignumber.js"));C();var Xp=$(require("bignumber.js"));C();C();var Hp=require("yup");C();var Pn=require("@terradharitri/sdk-dapp/constants/ledger.constants"),zf=$(require("@terradharitri/sdk-dapp/utils/operations/ledger/getLedgerVersionOptions")),pe=require("yup"),$f=(0,pe.string)().test("ledgerDataActive","Data option is disabled in the Ledger DharitrI app",function(o){let{ledger:n}=this.parent;return!(n&&o&&o.length&&!n.ledgerDataActive)}),Vf=(0,pe.string)().test({name:"hashSign",test:function(o){let{ledger:n,isGuarded:i}=this.parent;if(n){let{ledgerWithHashSign:f,ledgerWithGuardians:l}=(0,zf.default)(n.version);if(o&&o.length>300&&!f)return this.createError({message:`Data too long. You need at least DharitrI app version ${Pn.LEDGER_HASH_SIGN_MINIMUM_VERSION}. Update DharitrI app to continue`,path:"data"});if(i&&!l)return this.createError({message:`You need at least DharitrI app version ${Pn.LEDGER_WITH_GUARDIANS_MINIMUM_VERSION} to use Guardians`,path:"data"})}return!0}}),Wf=[$f,Vf],Zp=Wf.reduce((o,n)=>o.concat(n),(0,pe.string)());C();var Jp=require("@terradharitri/sdk-dapp/constants/index"),Kp=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),Qp=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),r0=require("yup");C();var t0=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),e0=$(require("bignumber.js")),n0=require("yup");C();var i0=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger"),o0=$(require("bignumber.js")),u0=require("yup");C();var a0=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),f0=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),s0=$(require("bignumber.js")),l0=require("yup");C();var c0=$(require("bignumber.js")),h0=require("yup");C();var p0=require("@terradharitri/sdk-dapp/constants/index"),y0=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),d0=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),g0=$(require("bignumber.js")),v0=require("yup");C();var m0=require("@terradharitri/sdk-dapp/utils/validation/maxDecimals"),w0=require("@terradharitri/sdk-dapp/utils/validation/stringIsFloat"),b0=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger"),E0=$(require("bignumber.js")),A0=require("yup");C();var q0=$(require("bignumber.js")),T0=require("yup");C();var B0=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),I0=require("yup");C();var x0=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),U0=require("yup");C();C();var Yf=(0,Vn.createContext)({});function Xf(){return(0,Vn.useContext)(Yf)}C();var Wn=$(require("react"));C();C();C();var L0=$(require("axios"));C();C();var S0=$(require("axios"));C();C();var C0=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),O0=require("@terradharitri/sdk-dapp/apiCalls/tokens/getPersistedToken"),_0=$(require("axios")),N0=$(require("lodash/uniqBy"));C();var D0=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),R0=$(require("axios"));C();var M0=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),P0=$(require("axios")),Hf=(0,Wn.createContext)({});function Zf(){return(0,Wn.useContext)(Hf)}C();var kn=require("react");function Jf(o,n){let[i,f]=(0,kn.useState)(o);return(0,kn.useEffect)(()=>{let l=setTimeout(()=>f(o),n);return()=>clearTimeout(l)},[o]),i}var le=Jf,ce=500;function Yn(o){let{networkConfig:{chainId:n}}=Zf(),{prefilledForm:i}=Xf(),f=(0,df.useFormikContext)(),{balance:l,address:h,nonce:p}=vf(),{values:a,initialValues:v,touched:g,errors:{gasLimit:A,amount:E},setFieldValue:T}=f,{data:L,amount:y,gasLimit:b}=a,m=le(L,ce),w=le(y,ce),q=le(b,ce),[B,_]=(0,fe.useState)(!1),[k,P]=(0,fe.useState)(o),or=()=>ct(this,null,function*(){let br=A||E,Er=m.length>0,Ar=new yf.default(w).isGreaterThanOrEqualTo(0),qr=mf({initialValues:v,gasLimit:b,touched:g}),Tr=n!==hf.MAINNET_CHAIN_ID||!1;if(!i&&(0,pf.isContract)(a.receiver)&&Tr&&!qr&&!br&&Er&&Ar){_(!0);try{let{gasLimit:fr,gasLimitCostError:ur}=yield Ff({balance:l,address:h,nonce:p,values:a,chainId:n});_(!1),P(ur),T("gasLimit",fr,!0)}catch(fr){_(!1),console.error(fr)}}});return(0,fe.useEffect)(()=>{or()},[m,w,q,a.receiver,i]),{gasCostLoading:B,gasCostError:k}}var Kf=Yn;});var gi=Sr((sy,di)=>{"use strict";K();var Qf=Object.create,ht=Object.defineProperty,rs=Object.defineProperties,ts=Object.getOwnPropertyDescriptor,es=Object.getOwnPropertyDescriptors,ns=Object.getOwnPropertyNames,Nt=Object.getOwnPropertySymbols,is=Object.getPrototypeOf,ve=Object.prototype.hasOwnProperty,oi=Object.prototype.propertyIsEnumerable,Zn=(o,n,i)=>n in o?ht(o,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[n]=i,it=(o,n)=>{for(var i in n||(n={}))ve.call(n,i)&&Zn(o,i,n[i]);if(Nt)for(var i of Nt(n))oi.call(n,i)&&Zn(o,i,n[i]);return o},pt=(o,n)=>rs(o,es(n)),os=(o,n)=>{var i={};for(var f in o)ve.call(o,f)&&n.indexOf(f)<0&&(i[f]=o[f]);if(o!=null&&Nt)for(var f of Nt(o))n.indexOf(f)<0&&oi.call(o,f)&&(i[f]=o[f]);return i},us=(o,n)=>()=>(o&&(n=o(o=0)),n),Ft=(o,n)=>()=>(n||o((n={exports:{}}).exports,n),n.exports),as=(o,n)=>{for(var i in n)ht(o,i,{get:n[i],enumerable:!0})},ui=(o,n,i,f)=>{if(n&&typeof n=="object"||typeof n=="function")for(let l of ns(n))!ve.call(o,l)&&l!==i&&ht(o,l,{get:()=>n[l],enumerable:!(f=ts(n,l))||f.enumerable});return o},H=(o,n,i)=>(i=o!=null?Qf(is(o)):{},ui(n||!o||!o.__esModule?ht(i,"default",{value:o,enumerable:!0}):i,o)),fs=o=>ui(ht({},"__esModule",{value:!0}),o),tr=(o,n,i)=>new Promise((f,l)=>{var h=v=>{try{a(i.next(v))}catch(g){l(g)}},p=v=>{try{a(i.throw(v))}catch(g){l(g)}},a=v=>v.done?f(v.value):Promise.resolve(v.value).then(h,p);a((i=i.apply(o,n)).next())}),ss=Ft(o=>{"use strict";D(),o.byteLength=v,o.toByteArray=A,o.fromByteArray=L;var n=[],i=[],f=typeof Uint8Array!="undefined"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(h=0,p=l.length;h<p;++h)n[h]=l[h],i[l.charCodeAt(h)]=h;var h,p;i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63;function a(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=y.indexOf("=");m===-1&&(m=b);var w=m===b?0:4-m%4;return[m,w]}function v(y){var b=a(y),m=b[0],w=b[1];return(m+w)*3/4-w}function g(y,b,m){return(b+m)*3/4-m}function A(y){var b,m=a(y),w=m[0],q=m[1],B=new f(g(y,w,q)),_=0,k=q>0?w-4:w,P;for(P=0;P<k;P+=4)b=i[y.charCodeAt(P)]<<18|i[y.charCodeAt(P+1)]<<12|i[y.charCodeAt(P+2)]<<6|i[y.charCodeAt(P+3)],B[_++]=b>>16&255,B[_++]=b>>8&255,B[_++]=b&255;return q===2&&(b=i[y.charCodeAt(P)]<<2|i[y.charCodeAt(P+1)]>>4,B[_++]=b&255),q===1&&(b=i[y.charCodeAt(P)]<<10|i[y.charCodeAt(P+1)]<<4|i[y.charCodeAt(P+2)]>>2,B[_++]=b>>8&255,B[_++]=b&255),B}function E(y){return n[y>>18&63]+n[y>>12&63]+n[y>>6&63]+n[y&63]}function T(y,b,m){for(var w,q=[],B=b;B<m;B+=3)w=(y[B]<<16&16711680)+(y[B+1]<<8&65280)+(y[B+2]&255),q.push(E(w));return q.join("")}function L(y){for(var b,m=y.length,w=m%3,q=[],B=16383,_=0,k=m-w;_<k;_+=B)q.push(T(y,_,_+B>k?k:_+B));return w===1?(b=y[m-1],q.push(n[b>>2]+n[b<<4&63]+"==")):w===2&&(b=(y[m-2]<<8)+y[m-1],q.push(n[b>>10]+n[b>>4&63]+n[b<<2&63]+"=")),q.join("")}}),ls=Ft(o=>{D(),o.read=function(n,i,f,l,h){var p,a,v=h*8-l-1,g=(1<<v)-1,A=g>>1,E=-7,T=f?h-1:0,L=f?-1:1,y=n[i+T];for(T+=L,p=y&(1<<-E)-1,y>>=-E,E+=v;E>0;p=p*256+n[i+T],T+=L,E-=8);for(a=p&(1<<-E)-1,p>>=-E,E+=l;E>0;a=a*256+n[i+T],T+=L,E-=8);if(p===0)p=1-A;else{if(p===g)return a?NaN:(y?-1:1)*(1/0);a=a+Math.pow(2,l),p=p-A}return(y?-1:1)*a*Math.pow(2,p-l)},o.write=function(n,i,f,l,h,p){var a,v,g,A=p*8-h-1,E=(1<<A)-1,T=E>>1,L=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=l?0:p-1,b=l?1:-1,m=i<0||i===0&&1/i<0?1:0;for(i=Math.abs(i),isNaN(i)||i===1/0?(v=isNaN(i)?1:0,a=E):(a=Math.floor(Math.log(i)/Math.LN2),i*(g=Math.pow(2,-a))<1&&(a--,g*=2),a+T>=1?i+=L/g:i+=L*Math.pow(2,1-T),i*g>=2&&(a++,g/=2),a+T>=E?(v=0,a=E):a+T>=1?(v=(i*g-1)*Math.pow(2,h),a=a+T):(v=i*Math.pow(2,T-1)*Math.pow(2,h),a=0));h>=8;n[f+y]=v&255,y+=b,v/=256,h-=8);for(a=a<<h|v,A+=h;A>0;n[f+y]=a&255,y+=b,a/=256,A-=8);n[f+y-b]|=m*128}}),cs=Ft(o=>{"use strict";D();var n=ss(),i=ls(),f=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=a,o.SlowBuffer=q,o.INSPECT_MAX_BYTES=50;var l=2147483647;o.kMaxLength=l,a.TYPED_ARRAY_SUPPORT=h(),!a.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var r=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(r,t),r.foo()===42}catch(e){return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function p(r){if(r>l)throw new RangeError('The value "'+r+'" is invalid for option "size"');var t=new Uint8Array(r);return Object.setPrototypeOf(t,a.prototype),t}function a(r,t,e){if(typeof r=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(r)}return v(r,t,e)}a.poolSize=8192;function v(r,t,e){if(typeof r=="string")return T(r,t);if(ArrayBuffer.isView(r))return y(r);if(r==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r);if(z(r,ArrayBuffer)||r&&z(r.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(z(r,SharedArrayBuffer)||r&&z(r.buffer,SharedArrayBuffer)))return b(r,t,e);if(typeof r=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var u=r.valueOf&&r.valueOf();if(u!=null&&u!==r)return a.from(u,t,e);var s=m(r);if(s)return s;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof r[Symbol.toPrimitive]=="function")return a.from(r[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof r)}a.from=function(r,t,e){return v(r,t,e)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function g(r){if(typeof r!="number")throw new TypeError('"size" argument must be of type number');if(r<0)throw new RangeError('The value "'+r+'" is invalid for option "size"')}function A(r,t,e){return g(r),r<=0?p(r):t!==void 0?typeof e=="string"?p(r).fill(t,e):p(r).fill(t):p(r)}a.alloc=function(r,t,e){return A(r,t,e)};function E(r){return g(r),p(r<0?0:w(r)|0)}a.allocUnsafe=function(r){return E(r)},a.allocUnsafeSlow=function(r){return E(r)};function T(r,t){if((typeof t!="string"||t==="")&&(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var e=B(r,t)|0,u=p(e),s=u.write(r,t);return s!==e&&(u=u.slice(0,s)),u}function L(r){for(var t=r.length<0?0:w(r.length)|0,e=p(t),u=0;u<t;u+=1)e[u]=r[u]&255;return e}function y(r){if(z(r,Uint8Array)){var t=new Uint8Array(r);return b(t.buffer,t.byteOffset,t.byteLength)}return L(r)}function b(r,t,e){if(t<0||r.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(r.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');var u;return t===void 0&&e===void 0?u=new Uint8Array(r):e===void 0?u=new Uint8Array(r,t):u=new Uint8Array(r,t,e),Object.setPrototypeOf(u,a.prototype),u}function m(r){if(a.isBuffer(r)){var t=w(r.length)|0,e=p(t);return e.length===0||r.copy(e,0,0,t),e}if(r.length!==void 0)return typeof r.length!="number"||nr(r.length)?p(0):L(r);if(r.type==="Buffer"&&Array.isArray(r.data))return L(r.data)}function w(r){if(r>=l)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+l.toString(16)+" bytes");return r|0}function q(r){return+r!=r&&(r=0),a.alloc(+r)}a.isBuffer=function(r){return r!=null&&r._isBuffer===!0&&r!==a.prototype},a.compare=function(r,t){if(z(r,Uint8Array)&&(r=a.from(r,r.offset,r.byteLength)),z(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(r)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(r===t)return 0;for(var e=r.length,u=t.length,s=0,c=Math.min(e,u);s<c;++s)if(r[s]!==t[s]){e=r[s],u=t[s];break}return e<u?-1:u<e?1:0},a.isEncoding=function(r){switch(String(r).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(r,t){if(!Array.isArray(r))throw new TypeError('"list" argument must be an Array of Buffers');if(r.length===0)return a.alloc(0);var e;if(t===void 0)for(t=0,e=0;e<r.length;++e)t+=r[e].length;var u=a.allocUnsafe(t),s=0;for(e=0;e<r.length;++e){var c=r[e];if(z(c,Uint8Array))s+c.length>u.length?a.from(c).copy(u,s):Uint8Array.prototype.set.call(u,c,s);else if(a.isBuffer(c))c.copy(u,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=c.length}return u};function B(r,t){if(a.isBuffer(r))return r.length;if(ArrayBuffer.isView(r)||z(r,ArrayBuffer))return r.byteLength;if(typeof r!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof r);var e=r.length,u=arguments.length>2&&arguments[2]===!0;if(!u&&e===0)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return er(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return pr(r).length;default:if(s)return u?-1:er(r).length;t=(""+t).toLowerCase(),s=!0}}a.byteLength=B;function _(r,t,e){var u=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return Dr(this,t,e);case"utf8":case"utf-8":return ur(this,t,e);case"ascii":return _r(this,t,e);case"latin1":case"binary":return Nr(this,t,e);case"base64":return fr(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Rr(this,t,e);default:if(u)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),u=!0}}a.prototype._isBuffer=!0;function k(r,t,e){var u=r[t];r[t]=r[e],r[e]=u}a.prototype.swap16=function(){var r=this.length;if(r%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<r;t+=2)k(this,t,t+1);return this},a.prototype.swap32=function(){var r=this.length;if(r%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<r;t+=4)k(this,t,t+3),k(this,t+1,t+2);return this},a.prototype.swap64=function(){var r=this.length;if(r%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<r;t+=8)k(this,t,t+7),k(this,t+1,t+6),k(this,t+2,t+5),k(this,t+3,t+4);return this},a.prototype.toString=function(){var r=this.length;return r===0?"":arguments.length===0?ur(this,0,r):_.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(r){if(!a.isBuffer(r))throw new TypeError("Argument must be a Buffer");return this===r?!0:a.compare(this,r)===0},a.prototype.inspect=function(){var r="",t=o.INSPECT_MAX_BYTES;return r=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(r+=" ... "),"<Buffer "+r+">"},f&&(a.prototype[f]=a.prototype.inspect),a.prototype.compare=function(r,t,e,u,s){if(z(r,Uint8Array)&&(r=a.from(r,r.offset,r.byteLength)),!a.isBuffer(r))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof r);if(t===void 0&&(t=0),e===void 0&&(e=r?r.length:0),u===void 0&&(u=0),s===void 0&&(s=this.length),t<0||e>r.length||u<0||s>this.length)throw new RangeError("out of range index");if(u>=s&&t>=e)return 0;if(u>=s)return-1;if(t>=e)return 1;if(t>>>=0,e>>>=0,u>>>=0,s>>>=0,this===r)return 0;for(var c=s-u,d=e-t,U=Math.min(c,d),M=this.slice(u,s),S=r.slice(t,e),O=0;O<U;++O)if(M[O]!==S[O]){c=M[O],d=S[O];break}return c<d?-1:d<c?1:0};function P(r,t,e,u,s){if(r.length===0)return-1;if(typeof e=="string"?(u=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,nr(e)&&(e=s?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(s)return-1;e=r.length-1}else if(e<0)if(s)e=0;else return-1;if(typeof t=="string"&&(t=a.from(t,u)),a.isBuffer(t))return t.length===0?-1:or(r,t,e,u,s);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):or(r,[t],e,u,s);throw new TypeError("val must be string, number or Buffer")}function or(r,t,e,u,s){var c=1,d=r.length,U=t.length;if(u!==void 0&&(u=String(u).toLowerCase(),u==="ucs2"||u==="ucs-2"||u==="utf16le"||u==="utf-16le")){if(r.length<2||t.length<2)return-1;c=2,d/=2,U/=2,e/=2}function M(yr,dr){return c===1?yr[dr]:yr.readUInt16BE(dr*c)}var S;if(s){var O=-1;for(S=e;S<d;S++)if(M(r,S)===M(t,O===-1?0:S-O)){if(O===-1&&(O=S),S-O+1===U)return O*c}else O!==-1&&(S-=S-O),O=-1}else for(e+U>d&&(e=d-U),S=e;S>=0;S--){for(var F=!0,J=0;J<U;J++)if(M(r,S+J)!==M(t,J)){F=!1;break}if(F)return S}return-1}a.prototype.includes=function(r,t,e){return this.indexOf(r,t,e)!==-1},a.prototype.indexOf=function(r,t,e){return P(this,r,t,e,!0)},a.prototype.lastIndexOf=function(r,t,e){return P(this,r,t,e,!1)};function br(r,t,e,u){e=Number(e)||0;var s=r.length-e;u?(u=Number(u),u>s&&(u=s)):u=s;var c=t.length;u>c/2&&(u=c/2);for(var d=0;d<u;++d){var U=parseInt(t.substr(d*2,2),16);if(nr(U))return d;r[e+d]=U}return d}function Er(r,t,e,u){return Z(er(t,r.length-e),r,e,u)}function Ar(r,t,e,u){return Z(kr(t),r,e,u)}function qr(r,t,e,u){return Z(pr(t),r,e,u)}function Tr(r,t,e,u){return Z(Fr(t,r.length-e),r,e,u)}a.prototype.write=function(r,t,e,u){if(t===void 0)u="utf8",e=this.length,t=0;else if(e===void 0&&typeof t=="string")u=t,e=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(e)?(e=e>>>0,u===void 0&&(u="utf8")):(u=e,e=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-t;if((e===void 0||e>s)&&(e=s),r.length>0&&(e<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");u||(u="utf8");for(var c=!1;;)switch(u){case"hex":return br(this,r,t,e);case"utf8":case"utf-8":return Er(this,r,t,e);case"ascii":case"latin1":case"binary":return Ar(this,r,t,e);case"base64":return qr(this,r,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Tr(this,r,t,e);default:if(c)throw new TypeError("Unknown encoding: "+u);u=(""+u).toLowerCase(),c=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function fr(r,t,e){return t===0&&e===r.length?n.fromByteArray(r):n.fromByteArray(r.slice(t,e))}function ur(r,t,e){e=Math.min(r.length,e);for(var u=[],s=t;s<e;){var c=r[s],d=null,U=c>239?4:c>223?3:c>191?2:1;if(s+U<=e){var M,S,O,F;switch(U){case 1:c<128&&(d=c);break;case 2:M=r[s+1],(M&192)===128&&(F=(c&31)<<6|M&63,F>127&&(d=F));break;case 3:M=r[s+1],S=r[s+2],(M&192)===128&&(S&192)===128&&(F=(c&15)<<12|(M&63)<<6|S&63,F>2047&&(F<55296||F>57343)&&(d=F));break;case 4:M=r[s+1],S=r[s+2],O=r[s+3],(M&192)===128&&(S&192)===128&&(O&192)===128&&(F=(c&15)<<18|(M&63)<<12|(S&63)<<6|O&63,F>65535&&F<1114112&&(d=F))}}d===null?(d=65533,U=1):d>65535&&(d-=65536,u.push(d>>>10&1023|55296),d=56320|d&1023),u.push(d),s+=U}return Or(u)}var sr=4096;function Or(r){var t=r.length;if(t<=sr)return String.fromCharCode.apply(String,r);for(var e="",u=0;u<t;)e+=String.fromCharCode.apply(String,r.slice(u,u+=sr));return e}function _r(r,t,e){var u="";e=Math.min(r.length,e);for(var s=t;s<e;++s)u+=String.fromCharCode(r[s]&127);return u}function Nr(r,t,e){var u="";e=Math.min(r.length,e);for(var s=t;s<e;++s)u+=String.fromCharCode(r[s]);return u}function Dr(r,t,e){var u=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>u)&&(e=u);for(var s="",c=t;c<e;++c)s+=Gr[r[c]];return s}function Rr(r,t,e){for(var u=r.slice(t,e),s="",c=0;c<u.length-1;c+=2)s+=String.fromCharCode(u[c]+u[c+1]*256);return s}a.prototype.slice=function(r,t){var e=this.length;r=~~r,t=t===void 0?e:~~t,r<0?(r+=e,r<0&&(r=0)):r>e&&(r=e),t<0?(t+=e,t<0&&(t=0)):t>e&&(t=e),t<r&&(t=r);var u=this.subarray(r,t);return Object.setPrototypeOf(u,a.prototype),u};function R(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=this[r],s=1,c=0;++c<t&&(s*=256);)u+=this[r+c]*s;return u},a.prototype.readUintBE=a.prototype.readUIntBE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=this[r+--t],s=1;t>0&&(s*=256);)u+=this[r+--t]*s;return u},a.prototype.readUint8=a.prototype.readUInt8=function(r,t){return r=r>>>0,t||R(r,1,this.length),this[r]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(r,t){return r=r>>>0,t||R(r,2,this.length),this[r]|this[r+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(r,t){return r=r>>>0,t||R(r,2,this.length),this[r]<<8|this[r+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(r,t){return r=r>>>0,t||R(r,4,this.length),(this[r]|this[r+1]<<8|this[r+2]<<16)+this[r+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(r,t){return r=r>>>0,t||R(r,4,this.length),this[r]*16777216+(this[r+1]<<16|this[r+2]<<8|this[r+3])},a.prototype.readIntLE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=this[r],s=1,c=0;++c<t&&(s*=256);)u+=this[r+c]*s;return s*=128,u>=s&&(u-=Math.pow(2,8*t)),u},a.prototype.readIntBE=function(r,t,e){r=r>>>0,t=t>>>0,e||R(r,t,this.length);for(var u=t,s=1,c=this[r+--u];u>0&&(s*=256);)c+=this[r+--u]*s;return s*=128,c>=s&&(c-=Math.pow(2,8*t)),c},a.prototype.readInt8=function(r,t){return r=r>>>0,t||R(r,1,this.length),this[r]&128?(255-this[r]+1)*-1:this[r]},a.prototype.readInt16LE=function(r,t){r=r>>>0,t||R(r,2,this.length);var e=this[r]|this[r+1]<<8;return e&32768?e|4294901760:e},a.prototype.readInt16BE=function(r,t){r=r>>>0,t||R(r,2,this.length);var e=this[r+1]|this[r]<<8;return e&32768?e|4294901760:e},a.prototype.readInt32LE=function(r,t){return r=r>>>0,t||R(r,4,this.length),this[r]|this[r+1]<<8|this[r+2]<<16|this[r+3]<<24},a.prototype.readInt32BE=function(r,t){return r=r>>>0,t||R(r,4,this.length),this[r]<<24|this[r+1]<<16|this[r+2]<<8|this[r+3]},a.prototype.readFloatLE=function(r,t){return r=r>>>0,t||R(r,4,this.length),i.read(this,r,!0,23,4)},a.prototype.readFloatBE=function(r,t){return r=r>>>0,t||R(r,4,this.length),i.read(this,r,!1,23,4)},a.prototype.readDoubleLE=function(r,t){return r=r>>>0,t||R(r,8,this.length),i.read(this,r,!0,52,8)},a.prototype.readDoubleBE=function(r,t){return r=r>>>0,t||R(r,8,this.length),i.read(this,r,!1,52,8)};function G(r,t,e,u,s,c){if(!a.isBuffer(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<c)throw new RangeError('"value" argument is out of bounds');if(e+u>r.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(r,t,e,u){if(r=+r,t=t>>>0,e=e>>>0,!u){var s=Math.pow(2,8*e)-1;G(this,r,t,e,s,0)}var c=1,d=0;for(this[t]=r&255;++d<e&&(c*=256);)this[t+d]=r/c&255;return t+e},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(r,t,e,u){if(r=+r,t=t>>>0,e=e>>>0,!u){var s=Math.pow(2,8*e)-1;G(this,r,t,e,s,0)}var c=e-1,d=1;for(this[t+c]=r&255;--c>=0&&(d*=256);)this[t+c]=r/d&255;return t+e},a.prototype.writeUint8=a.prototype.writeUInt8=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,1,255,0),this[t]=r&255,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,65535,0),this[t]=r&255,this[t+1]=r>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,65535,0),this[t]=r>>>8,this[t+1]=r&255,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,4294967295,0),this[t+3]=r>>>24,this[t+2]=r>>>16,this[t+1]=r>>>8,this[t]=r&255,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,4294967295,0),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4},a.prototype.writeIntLE=function(r,t,e,u){if(r=+r,t=t>>>0,!u){var s=Math.pow(2,8*e-1);G(this,r,t,e,s-1,-s)}var c=0,d=1,U=0;for(this[t]=r&255;++c<e&&(d*=256);)r<0&&U===0&&this[t+c-1]!==0&&(U=1),this[t+c]=(r/d>>0)-U&255;return t+e},a.prototype.writeIntBE=function(r,t,e,u){if(r=+r,t=t>>>0,!u){var s=Math.pow(2,8*e-1);G(this,r,t,e,s-1,-s)}var c=e-1,d=1,U=0;for(this[t+c]=r&255;--c>=0&&(d*=256);)r<0&&U===0&&this[t+c+1]!==0&&(U=1),this[t+c]=(r/d>>0)-U&255;return t+e},a.prototype.writeInt8=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,1,127,-128),r<0&&(r=255+r+1),this[t]=r&255,t+1},a.prototype.writeInt16LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,32767,-32768),this[t]=r&255,this[t+1]=r>>>8,t+2},a.prototype.writeInt16BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,2,32767,-32768),this[t]=r>>>8,this[t+1]=r&255,t+2},a.prototype.writeInt32LE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,2147483647,-2147483648),this[t]=r&255,this[t+1]=r>>>8,this[t+2]=r>>>16,this[t+3]=r>>>24,t+4},a.prototype.writeInt32BE=function(r,t,e){return r=+r,t=t>>>0,e||G(this,r,t,4,2147483647,-2147483648),r<0&&(r=4294967295+r+1),this[t]=r>>>24,this[t+1]=r>>>16,this[t+2]=r>>>8,this[t+3]=r&255,t+4};function lr(r,t,e,u,s,c){if(e+u>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function cr(r,t,e,u,s){return t=+t,e=e>>>0,s||lr(r,t,e,4,34028234663852886e22,-34028234663852886e22),i.write(r,t,e,u,23,4),e+4}a.prototype.writeFloatLE=function(r,t,e){return cr(this,r,t,!0,e)},a.prototype.writeFloatBE=function(r,t,e){return cr(this,r,t,!1,e)};function hr(r,t,e,u,s){return t=+t,e=e>>>0,s||lr(r,t,e,8,17976931348623157e292,-17976931348623157e292),i.write(r,t,e,u,52,8),e+8}a.prototype.writeDoubleLE=function(r,t,e){return hr(this,r,t,!0,e)},a.prototype.writeDoubleBE=function(r,t,e){return hr(this,r,t,!1,e)},a.prototype.copy=function(r,t,e,u){if(!a.isBuffer(r))throw new TypeError("argument should be a Buffer");if(e||(e=0),!u&&u!==0&&(u=this.length),t>=r.length&&(t=r.length),t||(t=0),u>0&&u<e&&(u=e),u===e||r.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("sourceEnd out of bounds");u>this.length&&(u=this.length),r.length-t<u-e&&(u=r.length-t+e);var s=u-e;return this===r&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,e,u):Uint8Array.prototype.set.call(r,this.subarray(e,u),t),s},a.prototype.fill=function(r,t,e,u){if(typeof r=="string"){if(typeof t=="string"?(u=t,t=0,e=this.length):typeof e=="string"&&(u=e,e=this.length),u!==void 0&&typeof u!="string")throw new TypeError("encoding must be a string");if(typeof u=="string"&&!a.isEncoding(u))throw new TypeError("Unknown encoding: "+u);if(r.length===1){var s=r.charCodeAt(0);(u==="utf8"&&s<128||u==="latin1")&&(r=s)}}else typeof r=="number"?r=r&255:typeof r=="boolean"&&(r=Number(r));if(t<0||this.length<t||this.length<e)throw new RangeError("Out of range index");if(e<=t)return this;t=t>>>0,e=e===void 0?this.length:e>>>0,r||(r=0);var c;if(typeof r=="number")for(c=t;c<e;++c)this[c]=r;else{var d=a.isBuffer(r)?r:a.from(r,u),U=d.length;if(U===0)throw new TypeError('The value "'+r+'" is invalid for argument "value"');for(c=0;c<e-t;++c)this[c+t]=d[c%U]}return this};var Mr=/[^+/0-9A-Za-z-_]/g;function Pr(r){if(r=r.split("=")[0],r=r.trim().replace(Mr,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function er(r,t){t=t||1/0;for(var e,u=r.length,s=null,c=[],d=0;d<u;++d){if(e=r.charCodeAt(d),e>55295&&e<57344){if(!s){if(e>56319){(t-=3)>-1&&c.push(239,191,189);continue}else if(d+1===u){(t-=3)>-1&&c.push(239,191,189);continue}s=e;continue}if(e<56320){(t-=3)>-1&&c.push(239,191,189),s=e;continue}e=(s-55296<<10|e-56320)+65536}else s&&(t-=3)>-1&&c.push(239,191,189);if(s=null,e<128){if((t-=1)<0)break;c.push(e)}else if(e<2048){if((t-=2)<0)break;c.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;c.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;c.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return c}function kr(r){for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function Fr(r,t){for(var e,u,s,c=[],d=0;d<r.length&&!((t-=2)<0);++d)e=r.charCodeAt(d),u=e>>8,s=e%256,c.push(s),c.push(u);return c}function pr(r){return n.toByteArray(Pr(r))}function Z(r,t,e,u){for(var s=0;s<u&&!(s+e>=t.length||s>=r.length);++s)t[s+e]=r[s];return s}function z(r,t){return r instanceof t||r!=null&&r.constructor!=null&&r.constructor.name!=null&&r.constructor.name===t.name}function nr(r){return r!==r}var Gr=function(){for(var r="0123456789abcdef",t=new Array(256),e=0;e<16;++e)for(var u=e*16,s=0;s<16;++s)t[u+s]=r[e]+r[s];return t}()}),hs=Ft((o,n)=>{D();var i=n.exports={},f,l;function h(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?f=setTimeout:f=h}catch(w){f=h}try{typeof clearTimeout=="function"?l=clearTimeout:l=p}catch(w){l=p}})();function a(w){if(f===setTimeout)return setTimeout(w,0);if((f===h||!f)&&setTimeout)return f=setTimeout,setTimeout(w,0);try{return f(w,0)}catch(q){try{return f.call(null,w,0)}catch(B){return f.call(this,w,0)}}}function v(w){if(l===clearTimeout)return clearTimeout(w);if((l===p||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(w);try{return l(w)}catch(q){try{return l.call(null,w)}catch(B){return l.call(this,w)}}}var g=[],A=!1,E,T=-1;function L(){!A||!E||(A=!1,E.length?g=E.concat(g):T=-1,g.length&&y())}function y(){if(!A){var w=a(L);A=!0;for(var q=g.length;q;){for(E=g,g=[];++T<q;)E&&E[T].run();T=-1,q=g.length}E=null,A=!1,v(w)}}i.nextTick=function(w){var q=new Array(arguments.length-1);if(arguments.length>1)for(var B=1;B<arguments.length;B++)q[B-1]=arguments[B];g.push(new b(w,q)),g.length===1&&!A&&a(y)};function b(w,q){this.fun=w,this.array=q}b.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function m(){}i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(w){return[]},i.binding=function(w){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(w){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}),yt,ps,ys,D=us(()=>{yt=H(cs()),ps=H(hs()),ys=function(o){function n(){var f=this||self;return delete o.prototype.__magic__,f}if(typeof globalThis=="object")return globalThis;if(this)return n();o.defineProperty(o.prototype,"__magic__",{configurable:!0,get:n});var i=__magic__;return i}(Object)}),ai={};as(ai,{getInitialValues:()=>Ul,searchNft:()=>yi});di.exports=fs(ai);D();D();var ds=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");D();D();D();var F0=H(require("axios"));D();D();D();var gs=require("@terradharitri/sdk-dapp/apiCalls/configuration/getServerConfiguration");D();var vs=require("@terradharitri/sdk-dapp/constants/index");D();D();D();D();var ms=10,ws="500000",bs=75e4,Es=1e6,As=2e5,Dt="0",qs={D:"devnet",T:"testnet",1:"mainnet"};function fi(o){return qs[o]}function Ts(o){let n=fi(o),i=vs.fallbackNetworkConfigurations[n].apiAddress;if(!i)throw"Could not extract api address for environment, check if you have a valid chainID";return i}function Bs(o){return tr(this,null,function*(){let n=Ts(o);return yield(0,gs.getServerConfiguration)(n)})}D();var Is={mainnet:{delegationContract:"drt1qqqqqqqqqqqqqpgqxwakt2g7u9atsnr03gqcgmhcv38pt7mkd94q8vqld4",delegationContractData:{minGasLimit:"75000000"}},devnet:{delegationContract:"drt1qqqqqqqqqqqqqpgqp699jngundfqw07d8jzkepucvpzush6k3wvqeyzkqc",delegationContractData:{minGasLimit:"75000000"}},testnet:{delegationContract:"drt1qqqqqqqqqqqqqpgqp699jngundfqw07d8jzkepucvpzush6k3wvqeyzkqc",delegationContractData:{minGasLimit:"75000000"}}};function xs(o){let n=fi(o);return n?Is[n]:null}var Rt={value:null};function si(o){return Rt.value={baseURL:o.apiAddress,timeout:Number(o.apiTimeout)},Rt.value}function dt(o){return tr(this,null,function*(){if(Rt.value!=null)return Rt.value;if(console.error("Cannot get API config before initialization, make sure to call setApiConfig first"),o!=null){let i=yield Bs(o);return si(i)}let n="Cannot get api config, make sure to initialize the context before calling APIs";throw console.error(n),n})}D();D();var G0=H(require("axios"));D();D();var Jn=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),j0=require("@terradharitri/sdk-dapp/apiCalls/tokens/getPersistedToken"),Us=H(require("axios")),z0=H(require("lodash/uniqBy"));function Ls(o,n){return tr(this,null,function*(){let{address:i,token:f}=o,l=n||(yield dt());return Us.default.get(`/${Jn.ACCOUNTS_ENDPOINT}/${i}/${Jn.TOKENS_ENDPOINT}/${f}`,l)})}D();var Ss=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),Cs=H(require("axios"));D();D();D();var Mt=require("@terradharitri/sdk-dapp/types/tokens.types");D();D();D();function Os(o,n){return tr(this,null,function*(){if(o.type!==Mt.NftEnumType.MetaDCDT)return null;let i=n||(yield dt());try{let{data:f}=yield Cs.default.get(`/${Ss.COLLECTIONS_ENDPOINT}/${o.collection}`,i);return(f==null?void 0:f.canTransfer)===!1?f==null?void 0:f.roles.map(({address:l,canTransfer:h})=>h?l:"").filter(l=>Boolean(l)):null}catch(f){return console.error(`Unable to get canTransfer information for collection ${o.collection}`,f),null}})}D();var ge=require("@terradharitri/sdk-dapp/apiCalls/endpoints"),li=H(require("axios"));function ci(o,n){return tr(this,arguments,function*({address:i,identifier:f},l){try{let h=l||(yield dt()),{data:p}=yield li.default.get(`/${ge.ACCOUNTS_ENDPOINT}/${i}/${ge.NFTS_ENDPOINT}/${f}`,h);return p||null}catch(h){return null}})}function _s(o,n){return tr(this,null,function*(){try{let i=n||(yield dt()),{data:f}=yield li.default.get(`/${ge.NFTS_ENDPOINT}/${o}`,i);return f||null}catch(i){return null}})}D();D();var Ns=H(require("axios"));function Ds(o){return tr(this,null,function*(){try{let n=yield dt(),{data:i}=yield Ns.default.post("/transaction/cost",o,n);return{data:i,success:!0}}catch(n){return console.error(n),{success:!1}}})}D();var Rs=require("@terradharitri/sdk-dapp/constants/index");D();D();D();var Pt=require("bech32"),Ms=o=>{let n=Pt.bech32.toWords(yt.Buffer.from(o,"hex"));return Pt.bech32.encode("drt",n)},Ps=o=>{let n=Pt.bech32.decode(o,256);return yt.Buffer.from(Pt.bech32.fromWords(n.words)).toString("hex")},ks={encode:Ms,decode:Ps};D();D();D();D();D();D();var $0=require("@terradharitri/sdk-dapp/constants"),V0=require("@terradharitri/sdk-dapp/utils/account/getAccount");D();D();var W0=require("@terradharitri/sdk-dapp/utils/transactions/transactionInfoHelpers/getScamFlag");D();var Y0=require("@terradharitri/sdk-dapp/utils/buildUrlParams");D();var X0=H(require("anchorme"));D();D();var H0=require("@terradharitri/sdk-dapp/utils/operations/calculateFeeLimit"),me=require("@terradharitri/sdk-dapp/utils/operations/formatAmount"),Z0=require("@terradharitri/sdk-dapp/utils/operations/getUsdValue"),kt=require("@terradharitri/sdk-dapp/utils/operations/parseAmount"),Fs="1",Gs=({computedNft:o,amount:n})=>{var i,f,l;if(((i=o==null?void 0:o.nft)==null?void 0:i.type)===Mt.NftEnumType.NonFungibleDCDT)return Fs;let h=((f=o==null?void 0:o.nft)==null?void 0:f.type)===Mt.NftEnumType.MetaDCDT,p=(o==null?void 0:o.quantity)||n;return h&&p?(0,me.formatAmount)({input:p,decimals:(l=o==null?void 0:o.nft)==null?void 0:l.decimals,showLastNonZeroDecimal:!0,addCommas:!1,digits:Rs.DIGITS}):p};D();D();D();var J0=require("@terradharitri/sdk-dapp/constants/index");D();var js=require("@terradharitri/sdk-dapp/constants/index"),zs=(o="")=>{let n=bs+o.length*js.GAS_PER_DATA_BYTE;return o.startsWith("DCDTNFTBurn")?As.toString():String(Math.max(n,Es))};D();var Kn=require("@terradharitri/sdk-dapp/constants/index"),Qn=H(require("bignumber.js"));D();var $s=require("@terradharitri/sdk-dapp/constants/index");function hi(o=!1){return o?$s.EXTRA_GAS_LIMIT_GUARDED_TX:0}var pi=({data:o,isGuarded:n})=>{let i=new Qn.default(Kn.GAS_LIMIT),f=new Qn.default(Kn.GAS_PER_DATA_BYTE),l=o?f.times(yt.Buffer.from(o).length):0,h=hi(n);return i.plus(l).plus(h).toString(10)};D();var K0=require("@terradharitri/sdk-dapp/constants/index");D();D();var et=require("@terradharitri/sdk-core"),Vs=require("@terradharitri/sdk-dapp/constants/index"),Ws=H(require("bignumber.js"));function Ys({amount:o,data:n,nonce:i,receiver:f,receiverUsername:l,sender:h,senderUsername:p,gasPrice:a,gasLimit:v,chainId:g}){let A=new Ws.default((0,kt.parseAmount)(o));return new et.Transaction({nonce:i,value:et.TokenPayment.rewaFromBigInteger(A.toString(10)),sender:new et.Address(h),receiver:new et.Address(f),gasPrice:parseInt(a),gasLimit:parseInt(v),senderUsername:p,receiverUsername:l,data:new et.TransactionPayload(n),chainID:g,version:new et.TransactionVersion(Vs.VERSION)})}D();function Xs(o){return isNaN(Number(o))||o===""?(0,kt.parseAmount)("0"):(0,kt.parseAmount)(o)}D();var Q0=require("@terradharitri/sdk-dapp/utils/validation/stringIsInteger");D();var ry=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");D();var ri=H(require("bignumber.js")),ti=o=>o.length%2===0?o:`0${o}`,Hs=({nft:o,amount:n,receiver:i,errors:f})=>{if(!(o&&n&&i&&!f))return"";try{let l="DCDTNFTTransfer",h=(o==null?void 0:o.type)===Mt.NftEnumType.MetaDCDT?(0,kt.parseAmount)(n,o.decimals):n;return l+=`@${yt.Buffer.from(String(o.collection)).toString("hex")}`,l+=`@${ti(new ri.default(String(o.nonce)).toString(16))}`,l+=`@${ti(new ri.default(h).toString(16))}`,l+=`@${ks.decode(i)}`,l}catch(l){return""}};D();var Zs=require("@terradharitri/sdk-dapp/constants/index"),Js=require("@terradharitri/sdk-dapp/utils/smartContracts"),Ks=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType"),nt=H(require("bignumber.js"));D();var Qs=H(require("bignumber.js")),rl=o=>tr(void 0,[o],function*({balance:n,address:i,isGuarded:f,nonce:l,values:h,chainId:p}){var a,v,g;let{amount:A,receiver:E,data:T,gasLimit:L,gasPrice:y}=h,b=Ys({balance:n,amount:String(A),gasLimit:String(L),gasPrice:Xs(y),data:T.trim(),receiver:E,sender:i,nonce:l,chainId:p}).toPlainObject(),{data:m,success:w}=yield Ds(pt(it({},b),{sender:i})),q=Number((a=m==null?void 0:m.data)==null?void 0:a.txGasUnits),B=(v=m==null?void 0:m.data)==null?void 0:v.returnMessage;if(!Boolean(w&&(m==null?void 0:m.code)==="successful"&&q&&q!==0))return{gasLimit:L,gasLimitCostError:(g=m==null?void 0:m.data)==null?void 0:g.returnMessage};if(!B)return{gasLimit:new Qs.default(q).times(ms).dividedToIntegerBy(100).plus(q).toString(10)};let _=pi({data:h.data?h.data.trim():"",isGuarded:f});return{gasLimit:String(q)===Dt?_:String(q)}}),tl=rl,el=o=>tr(void 0,[o],function*({computedTokenId:n,receiver:i,isInternal:f,balance:l,address:h,isGuarded:p,nonce:a,amount:v,data:g,gasLimit:A,gasPrice:E,delegationContractData:T,chainId:L}){var y;let b=hi(p),m=T==null?void 0:T.delegationContract,w=(y=T==null?void 0:T.delegationContractData.minGasLimit)!=null?y:Dt;if(!new nt.default(A).isNaN()&&new nt.default(A).isGreaterThan(Dt))return{initGasLimit:A};if((0,Js.isContract)(i)&&!f){let{gasLimit:_,gasLimitCostError:k}=yield tl({balance:l,address:h,nonce:a,values:{amount:v,receiver:i,data:g,gasLimit:A,gasPrice:E},chainId:L});return{initGasLimit:i===m?new nt.default(_).plus(w).plus(b).toString():_,initGasLimitError:k}}if(g.length>0)return{initGasLimit:pi({data:g.trim(),isGuarded:p})};let{isDcdt:q,isNft:B}=(0,Ks.getIdentifierType)(n);return q?{initGasLimit:new nt.default(ws).plus(b).toString()}:B?{initGasLimit:new nt.default(zs()).plus(b).toString()}:{initGasLimit:new nt.default(Zs.GAS_LIMIT).plus(b).toString()}});D();var ye=require("@terradharitri/sdk-dapp/constants/index"),nl=H(require("bignumber.js")),ei,ni,ii,il=(0,me.formatAmount)({input:String((ei=ye.GAS_PRICE)!=null?ei:1e9),decimals:(ni=ye.DECIMALS)!=null?ni:18,showLastNonZeroDecimal:!0,digits:(ii=ye.DIGITS)!=null?ii:4}),ty=new nl.default(il).times(10).toString(10);D();var ey=require("@terradharitri/sdk-dapp/constants/index"),ny=H(require("bignumber.js"));D();var iy=H(require("bignumber.js"));function ol(o){let{computedNft:n,data:i,amount:f,receiver:l}=o,h=n==null?void 0:n.nft,p=h?Hs({nft:h,amount:f,receiver:l,errors:!1}):"";return i||p}D();var ul=o=>tr(void 0,null,function*(){let n=o,{configValues:i}=n,f=os(n,["configValues"]),l=xs(o.chainId),h=pt(it(it({isInternal:["1","T"].includes(o.chainId)},f),i),{delegationContractData:l});return el(h)});D();var de=require("@terradharitri/sdk-dapp/constants/index"),al=o=>o!=null&&o!==Dt?o:(0,me.formatAmount)({input:String(de.GAS_PRICE),decimals:de.DECIMALS,showLastNonZeroDecimal:!0,digits:de.DIGITS});D();var fl=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");D();var sl=require("@terradharitri/sdk-dapp/types/tokens.types"),ll=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");D();D();var oy=require("react"),uy=require("@terradharitri/sdk-dapp/constants/index");D();D();var cl=H(require("react")),ay=(0,cl.createContext)({}),fy=require("@terradharitri/sdk-dapp/types/enums.types");D();var _t={},hl=o=>tr(void 0,null,function*(){if(!o)return null;if(o.collection in _t)return _t[o.collection];let n=yield Os(o);return _t[o.collection]=n,_t[o.collection]});function pl(o,n){return tr(this,null,function*(){let{address:i,identifier:f}=o,{isNft:l}=(0,ll.getIdentifierType)(f);if(!l)return null;try{let h=yield ci({address:i,identifier:f},n);if((h==null?void 0:h.type)===sl.NftEnumType.MetaDCDT){let p=yield hl(h);h=pt(it({},h),{allowedReceivers:p})}return h}catch(h){console.log(h)}return null})}D();var yl=require("@terradharitri/sdk-core"),dl=H(require("bignumber.js"));D();var gl=require("@terradharitri/sdk-core"),vl=require("@terradharitri/sdk-dapp/utils/account/addressIsValid"),ml=require("@terradharitri/sdk-dapp/utils/decoders/decodePart"),wl=o=>o.split("@").map((n,i)=>[2,3].includes(i)?n:(0,ml.decodePart)(n)),bl=({data:o,nft:n,address:i})=>{let f=o==null?void 0:o.startsWith("DCDTNFTBurn"),l=o==null?void 0:o.startsWith("DCDTNFTTransfer");if((f||l)&&o.includes("@"))try{let[,h,p,a,v]=n?["DCDTNFTTransfer",n.collection,n.nonce,n.quantity,n.receiver]:wl(o),g=f&&!v?i:v,A=[h,p,a,g].every(T=>T),E=(0,vl.addressIsValid)(new gl.Address(g).bech32());if(A&&E)return{collection:h,nonce:p,quantity:a,receiver:g}}catch(h){console.error("Could not extract NFT from data:",h);return}},El=(o,n)=>tr(void 0,null,function*(){let{address:i,identifier:f}=o;try{return yield ci({address:i,identifier:f},n)}catch(l){return yield _s(f,n)}}),yi=(o,n)=>tr(void 0,null,function*(){let{address:i,nft:f}=o,l=bl(o);try{if(l){let{collection:h,nonce:p,quantity:a,receiver:v}=l,g=`${h}-${p}`,A=yield El({identifier:g,address:i},n);if(A)return{receiver:new yl.Address(v).bech32(),nft:A,quantity:f?a:new dl.default(a,16).toString(10)}}}catch(h){console.log(h)}return null}),Al={receiver:"",quantity:""},ql=o=>tr(void 0,[o],function*({data:n,address:i,identifier:f}){if(n)return yield yi({data:n,address:i});let{isNft:l}=(0,fl.getIdentifierType)(f);if(f&&l){let h=yield pl({identifier:f,address:i});return h?pt(it({},Al),{nft:h}):null}return null});D();var Tl=require("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");function Bl(o,n){return tr(this,null,function*(){let{address:i,identifier:f}=o;try{let{data:l}=yield Ls({address:i,token:f},n);return l}catch(l){console.log(l)}return null})}function Il(o){let{identifier:n,address:i}=o,{isDcdt:f}=(0,Tl.getIdentifierType)(n);return n&&f?Bl({address:i,identifier:n}):null}function xl(){let o=new URLSearchParams(window.location.search);return Object.fromEntries(o).token}function Ul(o){return tr(this,null,function*(){let{address:n,rewaLabel:i,configValues:{receiver:f,receiverUsername:l,amount:h,gasPrice:p,data:a,tokenId:v},networkConfig:g}=o,A=xl(),E=v||A,T=E||i;g&&si(g);let[L,y,b]=yield Promise.all([ql({data:a,address:n,identifier:E}),Il({identifier:E,address:n}),ul(pt(it({},o),{computedTokenId:T}))]),{initGasLimit:m,initGasLimitError:w}=b,q={receiver:f,receiverUsername:l,amount:Gs({computedNft:L,amount:h}),tokenId:T,gasLimit:m,gasPrice:al(p),data:ol({computedNft:L,data:a,receiver:f,amount:h})},{isDcdt:B}=(0,ds.getIdentifierType)(E);return{initialValues:q,nft:L==null?void 0:L.nft,gasLimitCostError:w,computedTokens:y?[y]:[],computedTokenId:T,tokenFound:B?Boolean(y):!0}})}D();});var V={};module.exports=qi(V);K();W(V,Vr(sn()),module.exports);W(V,Vr(Sn()),module.exports);W(V,Vr(Hn()),module.exports);W(V,Vr(gi()),module.exports);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=index.d.js.map
