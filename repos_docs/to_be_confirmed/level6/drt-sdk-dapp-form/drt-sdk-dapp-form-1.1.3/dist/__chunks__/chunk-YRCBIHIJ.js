import{a as D}from"./chunk-64SIVIRO.js";import{c as F}from"./chunk-ANZEACB2.js";import{a as M,b as T,c as r}from"./chunk-DEDEX7XL.js";import{c as y}from"./chunk-IYJRFSXF.js";import{b as S,d as b}from"./chunk-FEKYKXOC.js";import{i as f}from"./chunk-BL7T5FXS.js";import{f as l}from"./chunk-RGFNPOTZ.js";l();import Q,{useCallback as e,useContext as U,useState as B,createContext as W,useEffect as X}from"react";import{DIGITS as Y}from"@terradharitri/sdk-dapp/constants/index";import{stringIsFloat as _}from"@terradharitri/sdk-dapp/utils/validation/stringIsFloat";import p from"bignumber.js";import{useFormikContext as $}from"formik";f();var E=W({});function co({children:I}){let{values:a,errors:c,touched:k,handleBlur:w,setFieldValue:n,setFieldError:v,setFieldTouched:x}=$(),{readonly:G,uiOptions:A}=y(),{maxAmountAvailable:g,maxAmountMinusDust:o}=D(),[P,i]=B(r(a.amount,o)),[V,h]=B(!1),{nft:Z}=F(),L=A!=null&&A.showAmountSlider?!1:T({nft:Z,amount:a.amount,readonly:G,maxAmountAvailable:g,maxAmountMinusDust:o,txType:a.txType});function N(){h(!1)}let m=e((t,d=!0)=>{if(new p(o).isZero()||!_(t.toString())){i(0);return}let u=new p(o).times(t).dividedBy(100),s=S({input:b(String(u)),digits:Y,showLastNonZeroDecimal:t>=100});if(d&&n("amount",s),t<0){i(0);return}if(t>100){i(100);return}i(t)},[o,n]),C=e((t,d=!0)=>{var u;let s=typeof t=="string"?t:(u=t==null?void 0:t.target)==null?void 0:u.value;return x("amount",!0),m(r(s,o),!1),n("amount",s,d)},[n,m,o]),O=e(t=>v("amount",t),[v]),R=e(()=>{x("amount",!0)},[w]),j=e(()=>(h(!0),C(o||a.amount)),[o]);X(()=>{p(o).isGreaterThan(0)&&m(r(a.amount,o),!1)},[r,o]);let q=M({values:a,errors:c,touched:k}),z={amount:a.amount,error:c.amount,isInvalid:q,maxAmountAvailable:g,maxAmountMinusDust:o,isMaxButtonVisible:L,isMaxClicked:V,amountRange:P,onFocus:N,onBlur:R,onChange:C,onMaxClicked:j,onSetError:O,onSetAmountPercentage:m};return Q.createElement(E.Provider,{value:z},I)}function vo(){return U(E)}l();f();export{E as a,co as b,vo as c};
//# sourceMappingURL=chunk-YRCBIHIJ.js.map
