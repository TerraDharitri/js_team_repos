import{a as h}from"./chunk-RNM37DYC.js";import{b as l}from"./chunk-UMC5E373.js";import{a as c,b as d,g as o,i as f}from"./chunk-P4IVSQC4.js";import{f as u}from"./chunk-JH2LJGTQ.js";u();import{COLLECTIONS_ENDPOINT as S}from"@terradharitri/sdk-dapp/apiCalls/endpoints";import b from"axios";f();function x(i,n){return o(this,null,function*(){if(i.type!==h.MetaDCDT)return null;let e=n||(yield l());try{let{data:r}=yield b.get(`/${S}/${i.collection}`,e);return(r==null?void 0:r.canTransfer)===!1?r==null?void 0:r.roles.map(({address:t,canTransfer:a})=>a?t:"").filter(t=>Boolean(t)):null}catch(r){return console.error(`Unable to get canTransfer information for collection ${i.collection}`,r),null}})}u();import{ACCOUNTS_ENDPOINT as C,NFTS_ENDPOINT as D}from"@terradharitri/sdk-dapp/apiCalls/endpoints";import O from"axios";f();function K(i,n){return o(this,arguments,function*({address:e,identifier:r},t){try{let a=t||(yield l()),{data:s}=yield O.get(`/${C}/${e}/${D}/${r}`,a);return s||null}catch(a){return null}})}function j(i,n){return o(this,null,function*(){try{let e=n||(yield l()),{data:r}=yield O.get(`/${D}/${i}`,e);return r||null}catch(e){return null}})}u();import{TOKENS_ENDPOINT as m,ACCOUNTS_ENDPOINT as g}from"@terradharitri/sdk-dapp/apiCalls/endpoints";import{getPersistedToken as P}from"@terradharitri/sdk-dapp/apiCalls/tokens/getPersistedToken";import $ from"axios";import E from"lodash/uniqBy";f();var I=1e3,p=100;function U(i){return o(this,arguments,function*({address:n,size:e,from:r,search:t}){let a=new URLSearchParams(d(c(c({},r!=null&&e!=null?{from:String(r),size:String(e)}:{}),t?{search:t}:{}),{includeMetaDCDT:"true"})).toString(),s=yield l();return $.get(`/${g}/${n}/${m}?${a}`,s)})}function X(i){return o(this,arguments,function*({address:n,search:e}){let r=new URLSearchParams(d(c({},e?{search:e}:{}),{includeMetaDCDT:"true"})).toString(),t=yield l();return $.get(`/${g}/${n}/${m}/count?${r}`,t)})}function Y(i,n){return o(this,null,function*(){let{address:e,token:r}=i,t=n||(yield l());return $.get(`/${g}/${e}/${m}/${r}`,t)})}function Z(i,n){return o(this,null,function*(){return P(`${n==null?void 0:n.baseURL}/${m}/${i}`)})}function k(i){return o(this,arguments,function*({address:n,page:e=1,search:r,size:t}){let a={address:n,search:r};t!=null&&(a.from=(e-1)*p,a.size=p);let{data:s}=yield U(a);return s})}function tt(i){return o(this,null,function*(){let n=[],e=!0,r=1;for(;e;)try{let t=yield k({address:i,size:I,page:r});if(t==null||(t==null?void 0:t.length)===0){e=!1;break}let a=t.map(s=>c({},s));if(n.push(...a),t.length!=p){e=!1;break}r++}catch(t){console.log(t),e=!1}return E(n,t=>t.identifier)})}export{x as a,K as b,j as c,U as d,X as e,Y as f,Z as g,k as h,tt as i};
//# sourceMappingURL=chunk-HM65ECVD.js.map
