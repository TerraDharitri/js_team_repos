import{a as p,b as ie,f as Et}from"./chunk-JH2LJGTQ.js";var _r=ie((fn,Gt)=>{"use strict";Et();var oe=Object.create,V=Object.defineProperty,ue=Object.defineProperties,ae=Object.getOwnPropertyDescriptor,se=Object.getOwnPropertyDescriptors,fe=Object.getOwnPropertyNames,H=Object.getOwnPropertySymbols,le=Object.getPrototypeOf,lt=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable,Tt=(i,a,u)=>a in i?V(i,a,{enumerable:!0,configurable:!0,writable:!0,value:u}):i[a]=u,z=(i,a)=>{for(var u in a||(a={}))lt.call(a,u)&&Tt(i,u,a[u]);if(H)for(var u of H(a))Ot.call(a,u)&&Tt(i,u,a[u]);return i},W=(i,a)=>ue(i,se(a)),ce=(i,a)=>{var u={};for(var l in i)lt.call(i,l)&&a.indexOf(l)<0&&(u[l]=i[l]);if(i!=null&&H)for(var l of H(i))a.indexOf(l)<0&&Ot.call(i,l)&&(u[l]=i[l]);return u},he=(i,a)=>()=>(i&&(a=i(i=0)),a),it=(i,a)=>()=>(a||i((a={exports:{}}).exports,a),a.exports),de=(i,a)=>{for(var u in a)V(i,u,{get:a[u],enumerable:!0})},Nt=(i,a,u,l)=>{if(a&&typeof a=="object"||typeof a=="function")for(let c of fe(a))!lt.call(i,c)&&c!==u&&V(i,c,{get:()=>a[c],enumerable:!(l=ae(a,c))||l.enumerable});return i},N=(i,a,u)=>(u=i!=null?oe(le(i)):{},Nt(a||!i||!i.__esModule?V(u,"default",{value:i,enumerable:!0}):u,i)),pe=i=>Nt(V({},"__esModule",{value:!0}),i),k=(i,a,u)=>new Promise((l,c)=>{var d=q=>{try{o(u.next(q))}catch(E){c(E)}},g=q=>{try{o(u.throw(q))}catch(E){c(E)}},o=q=>q.done?l(q.value):Promise.resolve(q.value).then(d,g);o((u=u.apply(i,a)).next())}),ge=it(i=>{"use strict";h(),i.byteLength=q,i.toByteArray=B,i.fromByteArray=U;var a=[],u=[],l=typeof Uint8Array!="undefined"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(d=0,g=c.length;d<g;++d)a[d]=c[d],u[c.charCodeAt(d)]=d;var d,g;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63;function o(y){var b=y.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var m=y.indexOf("=");m===-1&&(m=b);var w=m===b?0:4-m%4;return[m,w]}function q(y){var b=o(y),m=b[0],w=b[1];return(m+w)*3/4-w}function E(y,b,m){return(b+m)*3/4-m}function B(y){var b,m=o(y),w=m[0],A=m[1],L=new l(E(y,w,A)),D=0,x=A>0?w-4:w,R;for(R=0;R<x;R+=4)b=u[y.charCodeAt(R)]<<18|u[y.charCodeAt(R+1)]<<12|u[y.charCodeAt(R+2)]<<6|u[y.charCodeAt(R+3)],L[D++]=b>>16&255,L[D++]=b>>8&255,L[D++]=b&255;return A===2&&(b=u[y.charCodeAt(R)]<<2|u[y.charCodeAt(R+1)]>>4,L[D++]=b&255),A===1&&(b=u[y.charCodeAt(R)]<<10|u[y.charCodeAt(R+1)]<<4|u[y.charCodeAt(R+2)]>>2,L[D++]=b>>8&255,L[D++]=b&255),L}function T(y){return a[y>>18&63]+a[y>>12&63]+a[y>>6&63]+a[y&63]}function I(y,b,m){for(var w,A=[],L=b;L<m;L+=3)w=(y[L]<<16&16711680)+(y[L+1]<<8&65280)+(y[L+2]&255),A.push(T(w));return A.join("")}function U(y){for(var b,m=y.length,w=m%3,A=[],L=16383,D=0,x=m-w;D<x;D+=L)A.push(I(y,D,D+L>x?x:D+L));return w===1?(b=y[m-1],A.push(a[b>>2]+a[b<<4&63]+"==")):w===2&&(b=(y[m-2]<<8)+y[m-1],A.push(a[b>>10]+a[b>>4&63]+a[b<<2&63]+"=")),A.join("")}}),ye=it(i=>{h(),i.read=function(a,u,l,c,d){var g,o,q=d*8-c-1,E=(1<<q)-1,B=E>>1,T=-7,I=l?d-1:0,U=l?-1:1,y=a[u+I];for(I+=U,g=y&(1<<-T)-1,y>>=-T,T+=q;T>0;g=g*256+a[u+I],I+=U,T-=8);for(o=g&(1<<-T)-1,g>>=-T,T+=c;T>0;o=o*256+a[u+I],I+=U,T-=8);if(g===0)g=1-B;else{if(g===E)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,c),g=g-B}return(y?-1:1)*o*Math.pow(2,g-c)},i.write=function(a,u,l,c,d,g){var o,q,E,B=g*8-d-1,T=(1<<B)-1,I=T>>1,U=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=c?0:g-1,b=c?1:-1,m=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(q=isNaN(u)?1:0,o=T):(o=Math.floor(Math.log(u)/Math.LN2),u*(E=Math.pow(2,-o))<1&&(o--,E*=2),o+I>=1?u+=U/E:u+=U*Math.pow(2,1-I),u*E>=2&&(o++,E/=2),o+I>=T?(q=0,o=T):o+I>=1?(q=(u*E-1)*Math.pow(2,d),o=o+I):(q=u*Math.pow(2,I-1)*Math.pow(2,d),o=0));d>=8;a[l+y]=q&255,y+=b,q/=256,d-=8);for(o=o<<d|q,B+=d;B>0;a[l+y]=o&255,y+=b,o/=256,B-=8);a[l+y-b]|=m*128}}),ve=it(i=>{"use strict";h();var a=ge(),u=ye(),l=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=o,i.SlowBuffer=A,i.INSPECT_MAX_BYTES=50;var c=2147483647;i.kMaxLength=c,o.TYPED_ARRAY_SUPPORT=d(),!o.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function d(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch(r){return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function g(t){if(t>c)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,o.prototype),e}function o(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return T(t)}return q(t,e,r)}o.poolSize=8192;function q(t,e,r){if(typeof t=="string")return I(t,e);if(ArrayBuffer.isView(t))return y(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(G(t,ArrayBuffer)||t&&G(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(G(t,SharedArrayBuffer)||t&&G(t.buffer,SharedArrayBuffer)))return b(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return o.from(n,e,r);var s=m(t);if(s)return s;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return o.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}o.from=function(t,e,r){return q(t,e,r)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function E(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function B(t,e,r){return E(t),t<=0?g(t):e!==void 0?typeof r=="string"?g(t).fill(e,r):g(t).fill(e):g(t)}o.alloc=function(t,e,r){return B(t,e,r)};function T(t){return E(t),g(t<0?0:w(t)|0)}o.allocUnsafe=function(t){return T(t)},o.allocUnsafeSlow=function(t){return T(t)};function I(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!o.isEncoding(e))throw new TypeError("Unknown encoding: "+e);var r=L(t,e)|0,n=g(r),s=n.write(t,e);return s!==r&&(n=n.slice(0,s)),n}function U(t){for(var e=t.length<0?0:w(t.length)|0,r=g(e),n=0;n<e;n+=1)r[n]=t[n]&255;return r}function y(t){if(G(t,Uint8Array)){var e=new Uint8Array(t);return b(e.buffer,e.byteOffset,e.byteLength)}return U(t)}function b(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return e===void 0&&r===void 0?n=new Uint8Array(t):r===void 0?n=new Uint8Array(t,e):n=new Uint8Array(t,e,r),Object.setPrototypeOf(n,o.prototype),n}function m(t){if(o.isBuffer(t)){var e=w(t.length)|0,r=g(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||ut(t.length)?g(0):U(t);if(t.type==="Buffer"&&Array.isArray(t.data))return U(t.data)}function w(t){if(t>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return t|0}function A(t){return+t!=t&&(t=0),o.alloc(+t)}o.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==o.prototype},o.compare=function(t,e){if(G(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),G(e,Uint8Array)&&(e=o.from(e,e.offset,e.byteLength)),!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,s=0,f=Math.min(r,n);s<f;++s)if(t[s]!==e[s]){r=t[s],n=e[s];break}return r<n?-1:n<r?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return o.alloc(0);var r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=o.allocUnsafe(e),s=0;for(r=0;r<t.length;++r){var f=t[r];if(G(f,Uint8Array))s+f.length>n.length?o.from(f).copy(n,s):Uint8Array.prototype.set.call(n,f,s);else if(o.isBuffer(f))f.copy(n,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=f.length}return n};function L(t,e){if(o.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||G(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var s=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return ot(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return mt(t).length;default:if(s)return n?-1:ot(t).length;e=(""+e).toLowerCase(),s=!0}}o.byteLength=L;function D(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return Jt(this,e,r);case"utf8":case"utf-8":return dt(this,e,r);case"ascii":return Kt(this,e,r);case"latin1":case"binary":return Yt(this,e,r);case"base64":return Xt(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ht(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}o.prototype._isBuffer=!0;function x(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}o.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)x(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)x(this,e,e+3),x(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)x(this,e,e+7),x(this,e+1,e+6),x(this,e+2,e+5),x(this,e+3,e+4);return this},o.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?dt(this,0,t):D.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:o.compare(this,t)===0},o.prototype.inspect=function(){var t="",e=i.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},l&&(o.prototype[l]=o.prototype.inspect),o.prototype.compare=function(t,e,r,n,s){if(G(t,Uint8Array)&&(t=o.from(t,t.offset,t.byteLength)),!o.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),n===void 0&&(n=0),s===void 0&&(s=this.length),e<0||r>t.length||n<0||s>this.length)throw new RangeError("out of range index");if(n>=s&&e>=r)return 0;if(n>=s)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,s>>>=0,this===t)return 0;for(var f=s-n,v=r-e,S=Math.min(f,v),_=this.slice(n,s),C=t.slice(e,r),O=0;O<S;++O)if(_[O]!==C[O]){f=_[O],v=C[O];break}return f<v?-1:v<f?1:0};function R(t,e,r,n,s){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,ut(r)&&(r=s?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(s)return-1;r=t.length-1}else if(r<0)if(s)r=0;else return-1;if(typeof e=="string"&&(e=o.from(e,n)),o.isBuffer(e))return e.length===0?-1:ht(t,e,r,n,s);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?s?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):ht(t,[e],r,n,s);throw new TypeError("val must be string, number or Buffer")}function ht(t,e,r,n,s){var f=1,v=t.length,S=e.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;f=2,v/=2,S/=2,r/=2}function _(wt,bt){return f===1?wt[bt]:wt.readUInt16BE(bt*f)}var C;if(s){var O=-1;for(C=r;C<v;C++)if(_(t,C)===_(e,O===-1?0:C-O)){if(O===-1&&(O=C),C-O+1===S)return O*f}else O!==-1&&(C-=C-O),O=-1}else for(r+S>v&&(r=v-S),C=r;C>=0;C--){for(var M=!0,Y=0;Y<S;Y++)if(_(t,C+Y)!==_(e,Y)){M=!1;break}if(M)return C}return-1}o.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},o.prototype.indexOf=function(t,e,r){return R(this,t,e,r,!0)},o.prototype.lastIndexOf=function(t,e,r){return R(this,t,e,r,!1)};function $t(t,e,r,n){r=Number(r)||0;var s=t.length-r;n?(n=Number(n),n>s&&(n=s)):n=s;var f=e.length;n>f/2&&(n=f/2);for(var v=0;v<n;++v){var S=parseInt(e.substr(v*2,2),16);if(ut(S))return v;t[r+v]=S}return v}function Ft(t,e,r,n){return K(ot(e,t.length-r),t,r,n)}function zt(t,e,r,n){return K(ee(e),t,r,n)}function Vt(t,e,r,n){return K(mt(e),t,r,n)}function Wt(t,e,r,n){return K(re(e,t.length-r),t,r,n)}o.prototype.write=function(t,e,r,n){if(e===void 0)n="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")n=e,r=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(r)?(r=r>>>0,n===void 0&&(n="utf8")):(n=r,r=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s=this.length-e;if((r===void 0||r>s)&&(r=s),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var f=!1;;)switch(n){case"hex":return $t(this,t,e,r);case"utf8":case"utf-8":return Ft(this,t,e,r);case"ascii":case"latin1":case"binary":return zt(this,t,e,r);case"base64":return Vt(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Wt(this,t,e,r);default:if(f)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Xt(t,e,r){return e===0&&r===t.length?a.fromByteArray(t):a.fromByteArray(t.slice(e,r))}function dt(t,e,r){r=Math.min(t.length,r);for(var n=[],s=e;s<r;){var f=t[s],v=null,S=f>239?4:f>223?3:f>191?2:1;if(s+S<=r){var _,C,O,M;switch(S){case 1:f<128&&(v=f);break;case 2:_=t[s+1],(_&192)===128&&(M=(f&31)<<6|_&63,M>127&&(v=M));break;case 3:_=t[s+1],C=t[s+2],(_&192)===128&&(C&192)===128&&(M=(f&15)<<12|(_&63)<<6|C&63,M>2047&&(M<55296||M>57343)&&(v=M));break;case 4:_=t[s+1],C=t[s+2],O=t[s+3],(_&192)===128&&(C&192)===128&&(O&192)===128&&(M=(f&15)<<18|(_&63)<<12|(C&63)<<6|O&63,M>65535&&M<1114112&&(v=M))}}v===null?(v=65533,S=1):v>65535&&(v-=65536,n.push(v>>>10&1023|55296),v=56320|v&1023),n.push(v),s+=S}return Zt(n)}var pt=4096;function Zt(t){var e=t.length;if(e<=pt)return String.fromCharCode.apply(String,t);for(var r="",n=0;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=pt));return r}function Kt(t,e,r){var n="";r=Math.min(t.length,r);for(var s=e;s<r;++s)n+=String.fromCharCode(t[s]&127);return n}function Yt(t,e,r){var n="";r=Math.min(t.length,r);for(var s=e;s<r;++s)n+=String.fromCharCode(t[s]);return n}function Jt(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var s="",f=e;f<r;++f)s+=ne[t[f]];return s}function Ht(t,e,r){for(var n=t.slice(e,r),s="",f=0;f<n.length-1;f+=2)s+=String.fromCharCode(n[f]+n[f+1]*256);return s}o.prototype.slice=function(t,e){var r=this.length;t=~~t,e=e===void 0?r:~~e,t<0?(t+=r,t<0&&(t=0)):t>r&&(t=r),e<0?(e+=r,e<0&&(e=0)):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,o.prototype),n};function P(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(t,e,r){t=t>>>0,e=e>>>0,r||P(t,e,this.length);for(var n=this[t],s=1,f=0;++f<e&&(s*=256);)n+=this[t+f]*s;return n},o.prototype.readUintBE=o.prototype.readUIntBE=function(t,e,r){t=t>>>0,e=e>>>0,r||P(t,e,this.length);for(var n=this[t+--e],s=1;e>0&&(s*=256);)n+=this[t+--e]*s;return n},o.prototype.readUint8=o.prototype.readUInt8=function(t,e){return t=t>>>0,e||P(t,1,this.length),this[t]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||P(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||P(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||P(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,r){t=t>>>0,e=e>>>0,r||P(t,e,this.length);for(var n=this[t],s=1,f=0;++f<e&&(s*=256);)n+=this[t+f]*s;return s*=128,n>=s&&(n-=Math.pow(2,8*e)),n},o.prototype.readIntBE=function(t,e,r){t=t>>>0,e=e>>>0,r||P(t,e,this.length);for(var n=e,s=1,f=this[t+--n];n>0&&(s*=256);)f+=this[t+--n]*s;return s*=128,f>=s&&(f-=Math.pow(2,8*e)),f},o.prototype.readInt8=function(t,e){return t=t>>>0,e||P(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},o.prototype.readInt16LE=function(t,e){t=t>>>0,e||P(t,2,this.length);var r=this[t]|this[t+1]<<8;return r&32768?r|4294901760:r},o.prototype.readInt16BE=function(t,e){t=t>>>0,e||P(t,2,this.length);var r=this[t+1]|this[t]<<8;return r&32768?r|4294901760:r},o.prototype.readInt32LE=function(t,e){return t=t>>>0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return t=t>>>0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return t=t>>>0,e||P(t,4,this.length),u.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return t=t>>>0,e||P(t,4,this.length),u.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||P(t,8,this.length),u.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||P(t,8,this.length),u.read(this,t,!1,52,8)};function j(t,e,r,n,s,f){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<f)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e=e>>>0,r=r>>>0,!n){var s=Math.pow(2,8*r)-1;j(this,t,e,r,s,0)}var f=1,v=0;for(this[e]=t&255;++v<r&&(f*=256);)this[e+v]=t/f&255;return e+r},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e=e>>>0,r=r>>>0,!n){var s=Math.pow(2,8*r)-1;j(this,t,e,r,s,0)}var f=r-1,v=1;for(this[e+f]=t&255;--f>=0&&(v*=256);)this[e+f]=t/v&255;return e+r},o.prototype.writeUint8=o.prototype.writeUInt8=function(t,e,r){return t=+t,e=e>>>0,r||j(this,t,e,1,255,0),this[e]=t&255,e+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(t,e,r){return t=+t,e=e>>>0,r||j(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(t,e,r){return t=+t,e=e>>>0,r||j(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(t,e,r){return t=+t,e=e>>>0,r||j(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(t,e,r){return t=+t,e=e>>>0,r||j(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4},o.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e=e>>>0,!n){var s=Math.pow(2,8*r-1);j(this,t,e,r,s-1,-s)}var f=0,v=1,S=0;for(this[e]=t&255;++f<r&&(v*=256);)t<0&&S===0&&this[e+f-1]!==0&&(S=1),this[e+f]=(t/v>>0)-S&255;return e+r},o.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e=e>>>0,!n){var s=Math.pow(2,8*r-1);j(this,t,e,r,s-1,-s)}var f=r-1,v=1,S=0;for(this[e+f]=t&255;--f>=0&&(v*=256);)t<0&&S===0&&this[e+f+1]!==0&&(S=1),this[e+f]=(t/v>>0)-S&255;return e+r},o.prototype.writeInt8=function(t,e,r){return t=+t,e=e>>>0,r||j(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1},o.prototype.writeInt16LE=function(t,e,r){return t=+t,e=e>>>0,r||j(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2},o.prototype.writeInt16BE=function(t,e,r){return t=+t,e=e>>>0,r||j(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2},o.prototype.writeInt32LE=function(t,e,r){return t=+t,e=e>>>0,r||j(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},o.prototype.writeInt32BE=function(t,e,r){return t=+t,e=e>>>0,r||j(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function gt(t,e,r,n,s,f){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function yt(t,e,r,n,s){return e=+e,r=r>>>0,s||gt(t,e,r,4,34028234663852886e22,-34028234663852886e22),u.write(t,e,r,n,23,4),r+4}o.prototype.writeFloatLE=function(t,e,r){return yt(this,t,e,!0,r)},o.prototype.writeFloatBE=function(t,e,r){return yt(this,t,e,!1,r)};function vt(t,e,r,n,s){return e=+e,r=r>>>0,s||gt(t,e,r,8,17976931348623157e292,-17976931348623157e292),u.write(t,e,r,n,52,8),r+8}o.prototype.writeDoubleLE=function(t,e,r){return vt(this,t,e,!0,r)},o.prototype.writeDoubleBE=function(t,e,r){return vt(this,t,e,!1,r)},o.prototype.copy=function(t,e,r,n){if(!o.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),!n&&n!==0&&(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var s=n-r;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),s},o.prototype.fill=function(t,e,r,n){if(typeof t=="string"){if(typeof e=="string"?(n=e,e=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!o.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(t.length===1){var s=t.charCodeAt(0);(n==="utf8"&&s<128||n==="latin1")&&(t=s)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;e=e>>>0,r=r===void 0?this.length:r>>>0,t||(t=0);var f;if(typeof t=="number")for(f=e;f<r;++f)this[f]=t;else{var v=o.isBuffer(t)?t:o.from(t,n),S=v.length;if(S===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(f=0;f<r-e;++f)this[f+e]=v[f%S]}return this};var Qt=/[^+/0-9A-Za-z-_]/g;function te(t){if(t=t.split("=")[0],t=t.trim().replace(Qt,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function ot(t,e){e=e||1/0;for(var r,n=t.length,s=null,f=[],v=0;v<n;++v){if(r=t.charCodeAt(v),r>55295&&r<57344){if(!s){if(r>56319){(e-=3)>-1&&f.push(239,191,189);continue}else if(v+1===n){(e-=3)>-1&&f.push(239,191,189);continue}s=r;continue}if(r<56320){(e-=3)>-1&&f.push(239,191,189),s=r;continue}r=(s-55296<<10|r-56320)+65536}else s&&(e-=3)>-1&&f.push(239,191,189);if(s=null,r<128){if((e-=1)<0)break;f.push(r)}else if(r<2048){if((e-=2)<0)break;f.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;f.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;f.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return f}function ee(t){for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function re(t,e){for(var r,n,s,f=[],v=0;v<t.length&&!((e-=2)<0);++v)r=t.charCodeAt(v),n=r>>8,s=r%256,f.push(s),f.push(n);return f}function mt(t){return a.toByteArray(te(t))}function K(t,e,r,n){for(var s=0;s<n&&!(s+r>=e.length||s>=t.length);++s)e[s+r]=t[s];return s}function G(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function ut(t){return t!==t}var ne=function(){for(var t="0123456789abcdef",e=new Array(256),r=0;r<16;++r)for(var n=r*16,s=0;s<16;++s)e[n+s]=t[r]+t[s];return e}()}),me=it((i,a)=>{h();var u=a.exports={},l,c;function d(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?l=setTimeout:l=d}catch(w){l=d}try{typeof clearTimeout=="function"?c=clearTimeout:c=g}catch(w){c=g}})();function o(w){if(l===setTimeout)return setTimeout(w,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(w,0);try{return l(w,0)}catch(A){try{return l.call(null,w,0)}catch(L){return l.call(this,w,0)}}}function q(w){if(c===clearTimeout)return clearTimeout(w);if((c===g||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(w);try{return c(w)}catch(A){try{return c.call(null,w)}catch(L){return c.call(this,w)}}}var E=[],B=!1,T,I=-1;function U(){!B||!T||(B=!1,T.length?E=T.concat(E):I=-1,E.length&&y())}function y(){if(!B){var w=o(U);B=!0;for(var A=E.length;A;){for(T=E,E=[];++I<A;)T&&T[I].run();I=-1,A=E.length}T=null,B=!1,q(w)}}u.nextTick=function(w){var A=new Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)A[L-1]=arguments[L];E.push(new b(w,A)),E.length===1&&!B&&o(y)};function b(w,A){this.fun=w,this.array=A}b.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function m(){}u.on=m,u.addListener=m,u.once=m,u.off=m,u.removeListener=m,u.removeAllListeners=m,u.emit=m,u.prependListener=m,u.prependOnceListener=m,u.listeners=function(w){return[]},u.binding=function(w){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(w){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}}),X,we,be,h=he(()=>{X=N(ve()),we=N(me()),be=function(i){function a(){var l=this||self;return delete i.prototype.__magic__,l}if(typeof globalThis=="object")return globalThis;if(this)return a();i.defineProperty(i.prototype,"__magic__",{configurable:!0,get:a});var u=__magic__;return u}(Object)}),Dt={};de(Dt,{getInitialValues:()=>Pr,searchNft:()=>jt});Gt.exports=pe(Dt);h();h();var Ee=p("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");h();h();h();var Mr=N(p("axios"));h();h();h();var Te=p("@terradharitri/sdk-dapp/apiCalls/configuration/getServerConfiguration");h();var qe=p("@terradharitri/sdk-dapp/constants/index");h();h();h();h();var Ae=10,Ie="500000",Be=75e4,Le=1e6,Se=2e5,Q="0",Ue={D:"devnet",T:"testnet",1:"mainnet"};function Pt(i){return Ue[i]}function Ce(i){let a=Pt(i),u=qe.fallbackNetworkConfigurations[a].apiAddress;if(!u)throw"Could not extract api address for environment, check if you have a valid chainID";return u}function Oe(i){return k(this,null,function*(){let a=Ce(i);return yield(0,Te.getServerConfiguration)(a)})}h();var Ne={mainnet:{delegationContract:"drt1qqqqqqqqqqqqqpgqxwakt2g7u9atsnr03gqcgmhcv38pt7mkd94q8vqld4",delegationContractData:{minGasLimit:"75000000"}},devnet:{delegationContract:"drt1qqqqqqqqqqqqqpgqp699jngundfqw07d8jzkepucvpzush6k3wvqeyzkqc",delegationContractData:{minGasLimit:"75000000"}},testnet:{delegationContract:"drt1qqqqqqqqqqqqqpgqp699jngundfqw07d8jzkepucvpzush6k3wvqeyzkqc",delegationContractData:{minGasLimit:"75000000"}}};function De(i){let a=Pt(i);return a?Ne[a]:null}var tt={value:null};function _t(i){return tt.value={baseURL:i.apiAddress,timeout:Number(i.apiTimeout)},tt.value}function Z(i){return k(this,null,function*(){if(tt.value!=null)return tt.value;if(console.error("Cannot get API config before initialization, make sure to call setApiConfig first"),i!=null){let u=yield Oe(i);return _t(u)}let a="Cannot get api config, make sure to initialize the context before calling APIs";throw console.error(a),a})}h();h();var jr=N(p("axios"));h();h();var qt=p("@terradharitri/sdk-dapp/apiCalls/endpoints"),Gr=p("@terradharitri/sdk-dapp/apiCalls/tokens/getPersistedToken"),Pe=N(p("axios")),$r=N(p("lodash/uniqBy"));function _e(i,a){return k(this,null,function*(){let{address:u,token:l}=i,c=a||(yield Z());return Pe.default.get(`/${qt.ACCOUNTS_ENDPOINT}/${u}/${qt.TOKENS_ENDPOINT}/${l}`,c)})}h();var ke=p("@terradharitri/sdk-dapp/apiCalls/endpoints"),xe=N(p("axios"));h();h();h();var et=p("@terradharitri/sdk-dapp/types/tokens.types");h();h();h();function Re(i,a){return k(this,null,function*(){if(i.type!==et.NftEnumType.MetaDCDT)return null;let u=a||(yield Z());try{let{data:l}=yield xe.default.get(`/${ke.COLLECTIONS_ENDPOINT}/${i.collection}`,u);return(l==null?void 0:l.canTransfer)===!1?l==null?void 0:l.roles.map(({address:c,canTransfer:d})=>d?c:"").filter(c=>Boolean(c)):null}catch(l){return console.error(`Unable to get canTransfer information for collection ${i.collection}`,l),null}})}h();var ft=p("@terradharitri/sdk-dapp/apiCalls/endpoints"),kt=N(p("axios"));function xt(i,a){return k(this,arguments,function*({address:u,identifier:l},c){try{let d=c||(yield Z()),{data:g}=yield kt.default.get(`/${ft.ACCOUNTS_ENDPOINT}/${u}/${ft.NFTS_ENDPOINT}/${l}`,d);return g||null}catch(d){return null}})}function Me(i,a){return k(this,null,function*(){try{let u=a||(yield Z()),{data:l}=yield kt.default.get(`/${ft.NFTS_ENDPOINT}/${i}`,u);return l||null}catch(u){return null}})}h();h();var je=N(p("axios"));function Ge(i){return k(this,null,function*(){try{let a=yield Z(),{data:u}=yield je.default.post("/transaction/cost",i,a);return{data:u,success:!0}}catch(a){return console.error(a),{success:!1}}})}h();var $e=p("@terradharitri/sdk-dapp/constants/index");h();h();h();var rt=p("bech32"),Fe=i=>{let a=rt.bech32.toWords(X.Buffer.from(i,"hex"));return rt.bech32.encode("drt",a)},ze=i=>{let a=rt.bech32.decode(i,256);return X.Buffer.from(rt.bech32.fromWords(a.words)).toString("hex")},Ve={encode:Fe,decode:ze};h();h();h();h();h();h();var Fr=p("@terradharitri/sdk-dapp/constants"),zr=p("@terradharitri/sdk-dapp/utils/account/getAccount");h();h();var Vr=p("@terradharitri/sdk-dapp/utils/transactions/transactionInfoHelpers/getScamFlag");h();var Wr=p("@terradharitri/sdk-dapp/utils/buildUrlParams");h();var Xr=N(p("anchorme"));h();h();var Zr=p("@terradharitri/sdk-dapp/utils/operations/calculateFeeLimit"),ct=p("@terradharitri/sdk-dapp/utils/operations/formatAmount"),Kr=p("@terradharitri/sdk-dapp/utils/operations/getUsdValue"),nt=p("@terradharitri/sdk-dapp/utils/operations/parseAmount"),We="1",Xe=({computedNft:i,amount:a})=>{var u,l,c;if(((u=i==null?void 0:i.nft)==null?void 0:u.type)===et.NftEnumType.NonFungibleDCDT)return We;let d=((l=i==null?void 0:i.nft)==null?void 0:l.type)===et.NftEnumType.MetaDCDT,g=(i==null?void 0:i.quantity)||a;return d&&g?(0,ct.formatAmount)({input:g,decimals:(c=i==null?void 0:i.nft)==null?void 0:c.decimals,showLastNonZeroDecimal:!0,addCommas:!1,digits:$e.DIGITS}):g};h();h();h();var Yr=p("@terradharitri/sdk-dapp/constants/index");h();var Ze=p("@terradharitri/sdk-dapp/constants/index"),Ke=(i="")=>{let a=Be+i.length*Ze.GAS_PER_DATA_BYTE;return i.startsWith("DCDTNFTBurn")?Se.toString():String(Math.max(a,Le))};h();var At=p("@terradharitri/sdk-dapp/constants/index"),It=N(p("bignumber.js"));h();var Ye=p("@terradharitri/sdk-dapp/constants/index");function Rt(i=!1){return i?Ye.EXTRA_GAS_LIMIT_GUARDED_TX:0}var Mt=({data:i,isGuarded:a})=>{let u=new It.default(At.GAS_LIMIT),l=new It.default(At.GAS_PER_DATA_BYTE),c=i?l.times(X.Buffer.from(i).length):0,d=Rt(a);return u.plus(c).plus(d).toString(10)};h();var Jr=p("@terradharitri/sdk-dapp/constants/index");h();h();var $=p("@terradharitri/sdk-core"),Je=p("@terradharitri/sdk-dapp/constants/index"),He=N(p("bignumber.js"));function Qe({amount:i,data:a,nonce:u,receiver:l,receiverUsername:c,sender:d,senderUsername:g,gasPrice:o,gasLimit:q,chainId:E}){let B=new He.default((0,nt.parseAmount)(i));return new $.Transaction({nonce:u,value:$.TokenPayment.rewaFromBigInteger(B.toString(10)),sender:new $.Address(d),receiver:new $.Address(l),gasPrice:parseInt(o),gasLimit:parseInt(q),senderUsername:g,receiverUsername:c,data:new $.TransactionPayload(a),chainID:E,version:new $.TransactionVersion(Je.VERSION)})}h();function tr(i){return isNaN(Number(i))||i===""?(0,nt.parseAmount)("0"):(0,nt.parseAmount)(i)}h();var Hr=p("@terradharitri/sdk-dapp/utils/validation/stringIsInteger");h();var Qr=p("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");h();var Bt=N(p("bignumber.js")),Lt=i=>i.length%2===0?i:`0${i}`,er=({nft:i,amount:a,receiver:u,errors:l})=>{if(!(i&&a&&u&&!l))return"";try{let c="DCDTNFTTransfer",d=(i==null?void 0:i.type)===et.NftEnumType.MetaDCDT?(0,nt.parseAmount)(a,i.decimals):a;return c+=`@${X.Buffer.from(String(i.collection)).toString("hex")}`,c+=`@${Lt(new Bt.default(String(i.nonce)).toString(16))}`,c+=`@${Lt(new Bt.default(d).toString(16))}`,c+=`@${Ve.decode(u)}`,c}catch(c){return""}};h();var rr=p("@terradharitri/sdk-dapp/constants/index"),nr=p("@terradharitri/sdk-dapp/utils/smartContracts"),ir=p("@terradharitri/sdk-dapp/utils/validation/getIdentifierType"),F=N(p("bignumber.js"));h();var or=N(p("bignumber.js")),ur=i=>k(void 0,[i],function*({balance:a,address:u,isGuarded:l,nonce:c,values:d,chainId:g}){var o,q,E;let{amount:B,receiver:T,data:I,gasLimit:U,gasPrice:y}=d,b=Qe({balance:a,amount:String(B),gasLimit:String(U),gasPrice:tr(y),data:I.trim(),receiver:T,sender:u,nonce:c,chainId:g}).toPlainObject(),{data:m,success:w}=yield Ge(W(z({},b),{sender:u})),A=Number((o=m==null?void 0:m.data)==null?void 0:o.txGasUnits),L=(q=m==null?void 0:m.data)==null?void 0:q.returnMessage;if(!Boolean(w&&(m==null?void 0:m.code)==="successful"&&A&&A!==0))return{gasLimit:U,gasLimitCostError:(E=m==null?void 0:m.data)==null?void 0:E.returnMessage};if(!L)return{gasLimit:new or.default(A).times(Ae).dividedToIntegerBy(100).plus(A).toString(10)};let D=Mt({data:d.data?d.data.trim():"",isGuarded:l});return{gasLimit:String(A)===Q?D:String(A)}}),ar=ur,sr=i=>k(void 0,[i],function*({computedTokenId:a,receiver:u,isInternal:l,balance:c,address:d,isGuarded:g,nonce:o,amount:q,data:E,gasLimit:B,gasPrice:T,delegationContractData:I,chainId:U}){var y;let b=Rt(g),m=I==null?void 0:I.delegationContract,w=(y=I==null?void 0:I.delegationContractData.minGasLimit)!=null?y:Q;if(!new F.default(B).isNaN()&&new F.default(B).isGreaterThan(Q))return{initGasLimit:B};if((0,nr.isContract)(u)&&!l){let{gasLimit:D,gasLimitCostError:x}=yield ar({balance:c,address:d,nonce:o,values:{amount:q,receiver:u,data:E,gasLimit:B,gasPrice:T},chainId:U});return{initGasLimit:u===m?new F.default(D).plus(w).plus(b).toString():D,initGasLimitError:x}}if(E.length>0)return{initGasLimit:Mt({data:E.trim(),isGuarded:g})};let{isDcdt:A,isNft:L}=(0,ir.getIdentifierType)(a);return A?{initGasLimit:new F.default(Ie).plus(b).toString()}:L?{initGasLimit:new F.default(Ke()).plus(b).toString()}:{initGasLimit:new F.default(rr.GAS_LIMIT).plus(b).toString()}});h();var at=p("@terradharitri/sdk-dapp/constants/index"),fr=N(p("bignumber.js")),St,Ut,Ct,lr=(0,ct.formatAmount)({input:String((St=at.GAS_PRICE)!=null?St:1e9),decimals:(Ut=at.DECIMALS)!=null?Ut:18,showLastNonZeroDecimal:!0,digits:(Ct=at.DIGITS)!=null?Ct:4}),tn=new fr.default(lr).times(10).toString(10);h();var en=p("@terradharitri/sdk-dapp/constants/index"),rn=N(p("bignumber.js"));h();var nn=N(p("bignumber.js"));function cr(i){let{computedNft:a,data:u,amount:l,receiver:c}=i,d=a==null?void 0:a.nft,g=d?er({nft:d,amount:l,receiver:c,errors:!1}):"";return u||g}h();var hr=i=>k(void 0,null,function*(){let a=i,{configValues:u}=a,l=ce(a,["configValues"]),c=De(i.chainId),d=W(z(z({isInternal:["1","T"].includes(i.chainId)},l),u),{delegationContractData:c});return sr(d)});h();var st=p("@terradharitri/sdk-dapp/constants/index"),dr=i=>i!=null&&i!==Q?i:(0,ct.formatAmount)({input:String(st.GAS_PRICE),decimals:st.DECIMALS,showLastNonZeroDecimal:!0,digits:st.DIGITS});h();var pr=p("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");h();var gr=p("@terradharitri/sdk-dapp/types/tokens.types"),yr=p("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");h();h();var on=p("react"),un=p("@terradharitri/sdk-dapp/constants/index");h();h();var vr=N(p("react")),an=(0,vr.createContext)({}),sn=p("@terradharitri/sdk-dapp/types/enums.types");h();var J={},mr=i=>k(void 0,null,function*(){if(!i)return null;if(i.collection in J)return J[i.collection];let a=yield Re(i);return J[i.collection]=a,J[i.collection]});function wr(i,a){return k(this,null,function*(){let{address:u,identifier:l}=i,{isNft:c}=(0,yr.getIdentifierType)(l);if(!c)return null;try{let d=yield xt({address:u,identifier:l},a);if((d==null?void 0:d.type)===gr.NftEnumType.MetaDCDT){let g=yield mr(d);d=W(z({},d),{allowedReceivers:g})}return d}catch(d){console.log(d)}return null})}h();var br=p("@terradharitri/sdk-core"),Er=N(p("bignumber.js"));h();var Tr=p("@terradharitri/sdk-core"),qr=p("@terradharitri/sdk-dapp/utils/account/addressIsValid"),Ar=p("@terradharitri/sdk-dapp/utils/decoders/decodePart"),Ir=i=>i.split("@").map((a,u)=>[2,3].includes(u)?a:(0,Ar.decodePart)(a)),Br=({data:i,nft:a,address:u})=>{let l=i==null?void 0:i.startsWith("DCDTNFTBurn"),c=i==null?void 0:i.startsWith("DCDTNFTTransfer");if((l||c)&&i.includes("@"))try{let[,d,g,o,q]=a?["DCDTNFTTransfer",a.collection,a.nonce,a.quantity,a.receiver]:Ir(i),E=l&&!q?u:q,B=[d,g,o,E].every(I=>I),T=(0,qr.addressIsValid)(new Tr.Address(E).bech32());if(B&&T)return{collection:d,nonce:g,quantity:o,receiver:E}}catch(d){console.error("Could not extract NFT from data:",d);return}},Lr=(i,a)=>k(void 0,null,function*(){let{address:u,identifier:l}=i;try{return yield xt({address:u,identifier:l},a)}catch(c){return yield Me(l,a)}}),jt=(i,a)=>k(void 0,null,function*(){let{address:u,nft:l}=i,c=Br(i);try{if(c){let{collection:d,nonce:g,quantity:o,receiver:q}=c,E=`${d}-${g}`,B=yield Lr({identifier:E,address:u},a);if(B)return{receiver:new br.Address(q).bech32(),nft:B,quantity:l?o:new Er.default(o,16).toString(10)}}}catch(d){console.log(d)}return null}),Sr={receiver:"",quantity:""},Ur=i=>k(void 0,[i],function*({data:a,address:u,identifier:l}){if(a)return yield jt({data:a,address:u});let{isNft:c}=(0,pr.getIdentifierType)(l);if(l&&c){let d=yield wr({identifier:l,address:u});return d?W(z({},Sr),{nft:d}):null}return null});h();var Cr=p("@terradharitri/sdk-dapp/utils/validation/getIdentifierType");function Or(i,a){return k(this,null,function*(){let{address:u,identifier:l}=i;try{let{data:c}=yield _e({address:u,token:l},a);return c}catch(c){console.log(c)}return null})}function Nr(i){let{identifier:a,address:u}=i,{isDcdt:l}=(0,Cr.getIdentifierType)(a);return a&&l?Or({address:u,identifier:a}):null}function Dr(){let i=new URLSearchParams(window.location.search);return Object.fromEntries(i).token}function Pr(i){return k(this,null,function*(){let{address:a,rewaLabel:u,configValues:{receiver:l,receiverUsername:c,amount:d,gasPrice:g,data:o,tokenId:q},networkConfig:E}=i,B=Dr(),T=q||B,I=T||u;E&&_t(E);let[U,y,b]=yield Promise.all([Ur({data:o,address:a,identifier:T}),Nr({identifier:T,address:a}),hr(W(z({},i),{computedTokenId:I}))]),{initGasLimit:m,initGasLimitError:w}=b,A={receiver:l,receiverUsername:c,amount:Xe({computedNft:U,amount:d}),tokenId:I,gasLimit:m,gasPrice:dr(g),data:cr({computedNft:U,data:o,receiver:l,amount:d})},{isDcdt:L}=(0,Ee.getIdentifierType)(T);return{initialValues:A,nft:U==null?void 0:U.nft,gasLimitCostError:w,computedTokens:y?[y]:[],computedTokenId:I,tokenFound:L?Boolean(y):!0}})}h();});export{_r as a};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
//# sourceMappingURL=chunk-XXLXYAWJ.js.map
