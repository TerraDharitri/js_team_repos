import{a as o}from"./chunk-7SQCLJ6V.js";import{c as g}from"./chunk-DRZU3YBL.js";import{c as C}from"./chunk-W22JQH3P.js";import{a as l}from"./chunk-QHMB2Z6Q.js";import{a as p}from"./chunk-HVGTS3FD.js";import{c as f}from"./chunk-LQFLWU3Q.js";import{g as u,i as d}from"./chunk-SVQK3TVL.js";d();import{useEffect as M,useState as E}from"react";import{MAINNET_CHAIN_ID as j}from"@terradharitri/sdk-dapp/constants/index";import{isContract as z}from"@terradharitri/sdk-dapp/utils/smartContracts";import J from"bignumber.js";import{useFormikContext as K}from"formik";var s=500;function Q(L){let{networkConfig:{chainId:i}}=g(),{prefilledForm:n}=C(),h=K(),{balance:G,address:x,nonce:F}=f(),{values:t,initialValues:N,touched:D,errors:{gasLimit:T,amount:V},setFieldValue:b}=h,{data:v,amount:y,gasLimit:a}=t,m=o(v,s),c=o(y,s),A=o(a,s),[k,e]=E(!1),[w,I]=E(L),_=()=>u(this,null,function*(){let O=T||V,S=m.length>0,P=new J(c).isGreaterThanOrEqualTo(0),q=p({initialValues:N,gasLimit:a,touched:D}),B=i!==j||!1;if(!n&&z(t.receiver)&&B&&!q&&!O&&S&&P){e(!0);try{let{gasLimit:r,gasLimitCostError:H}=yield l({balance:G,address:x,nonce:F,values:t,chainId:i});e(!1),I(H),b("gasLimit",r,!0)}catch(r){e(!1),console.error(r)}}});return M(()=>{_()},[m,c,A,t.receiver,n]),{gasCostLoading:k,gasCostError:w}}var dt=Q;export{Q as a,dt as b};
//# sourceMappingURL=chunk-FAKDNIGG.js.map
