import{b as T}from"./chunk-OLQUPYTS.js";import{a as c,b as u,g as a,i as f}from"./chunk-SVQK3TVL.js";f();import{TOKENS_ENDPOINT as p,ACCOUNTS_ENDPOINT as l}from"@terradharitri/sdk-dapp/apiCalls/endpoints";import{getPersistedToken as k}from"@terradharitri/sdk-dapp/apiCalls/tokens/getPersistedToken";import m from"axios";import y from"lodash/uniqBy";var d=1e3,g=100;function $(t){return a(this,arguments,function*({address:n,size:e,from:r,search:o}){let s=new URLSearchParams(u(c(c({},r!=null&&e!=null?{from:String(r),size:String(e)}:{}),o?{search:o}:{}),{includeMetaDCDT:"true"})).toString(),i=yield T();return m.get(`/${l}/${n}/${p}?${s}`,i)})}function N(r){return a(this,arguments,function*({address:n,search:e}){let o=new URLSearchParams(u(c({},e?{search:e}:{}),{includeMetaDCDT:"true"})).toString(),t=yield T();return m.get(`/${l}/${n}/${p}/count?${o}`,t)})}function M(n,e){return a(this,null,function*(){let{address:r,token:o}=n,t=e||(yield T());return m.get(`/${l}/${r}/${p}/${o}`,t)})}function D(n,e){return a(this,null,function*(){return k(`${e==null?void 0:e.baseURL}/${p}/${n}`)})}function P(t){return a(this,arguments,function*({address:n,page:e=1,search:r,size:o}){let s={address:n,search:r};o!=null&&(s.from=(e-1)*g,s.size=g);let{data:i}=yield $(s);return i})}function O(n){return a(this,null,function*(){let e=[],r=!0,o=1;for(;r;)try{let t=yield P({address:n,size:d,page:o});if(t==null||(t==null?void 0:t.length)===0){r=!1;break}let s=t.map(i=>c({},i));if(e.push(...s),t.length!=g){r=!1;break}o++}catch(t){console.log(t),r=!1}return y(e,t=>t.identifier)})}export{$ as a,N as b,M as c,D as d,P as e,O as f};
//# sourceMappingURL=chunk-7VOG2AES.js.map
