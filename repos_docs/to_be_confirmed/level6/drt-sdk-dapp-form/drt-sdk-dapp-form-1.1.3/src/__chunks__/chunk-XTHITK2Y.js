import{a as B}from"./chunk-MA7X2544.js";import{c as y}from"./chunk-EHDIKWFQ.js";import{c as h}from"./chunk-W22JQH3P.js";import{a as P}from"./chunk-TV3MKOOM.js";import{a as M}from"./chunk-KICETOAW.js";import{b,d as T}from"./chunk-Y7MEMM4P.js";import{a as e}from"./chunk-FSF3TKUM.js";import{i as C}from"./chunk-SVQK3TVL.js";C();import K,{useCallback as r,useContext as O,useState as E,createContext as Q,useEffect as U}from"react";import{DIGITS as W}from"@terradharitri/sdk-dapp/constants/index";import{stringIsFloat as X}from"@terradharitri/sdk-dapp/utils/validation/stringIsFloat";import c from"bignumber.js";import{useFormikContext as Y}from"formik";var I=Q({});function vt({children:k}){let{values:n,errors:x,touched:F,handleBlur:S,setFieldValue:i,setFieldError:f,setFieldTouched:v}=Y(),{readonly:D,uiOptions:m}=h(),{maxAmountAvailable:p,maxAmountMinusDust:o}=B(),[N,u]=E(e(n.amount,o)),[R,g]=E(!1),{nft:Z}=y(),G=m!=null&&m.showAmountSlider?!1:M({nft:Z,amount:n.amount,readonly:D,maxAmountAvailable:p,maxAmountMinusDust:o,txType:n.txType});function L(){g(!1)}let s=r((t,l=!0)=>{if(new c(o).isZero()||!X(t.toString())){u(0);return}let a=new c(o).times(t).dividedBy(100),J=b({input:T(String(a)),digits:W,showLastNonZeroDecimal:t>=100});if(l&&i("amount",J),t<0){u(0);return}if(t>100){u(100);return}u(t)},[o,i]),A=r((t,l=!0)=>{var a;let d=typeof t=="string"?t:(a=t==null?void 0:t.target)==null?void 0:a.value;return v("amount",!0),s(e(d,o),!1),i("amount",d,l)},[i,s,o]),V=r(t=>f("amount",t),[f]),H=r(()=>{v("amount",!0)},[S]),j=r(()=>(g(!0),A(o||n.amount)),[o]);U(()=>{c(o).isGreaterThan(0)&&s(e(n.amount,o),!1)},[e,o]);let q=P({values:n,errors:x,touched:F}),z={amount:n.amount,error:x.amount,isInvalid:q,maxAmountAvailable:p,maxAmountMinusDust:o,isMaxButtonVisible:G,isMaxClicked:R,amountRange:N,onFocus:L,onBlur:H,onChange:A,onMaxClicked:j,onSetError:V,onSetAmountPercentage:s};return K.createElement(I.Provider,{value:z},k)}function pt(){return O(I)}export{I as a,vt as b,pt as c};
//# sourceMappingURL=chunk-XTHITK2Y.js.map
