import{a as p}from"./chunk-OI6KRF6I.js";import{a as l}from"./chunk-3YZDW2W4.js";import{b as y}from"./chunk-OLQUPYTS.js";import{a,b as d,g as A,i as U}from"./chunk-SVQK3TVL.js";U();import{useState as w}from"react";import{trimUsernameDomain as T}from"@terradharitri/sdk-dapp/hooks/account/helpers/trimUsernameDomain";var u={};function k(g){let[i,c]=w(!1),[f,m]=w(u);return{usernameAccounts:f,fetchUsernameAccount:r=>A(this,null,function*(){if(!(r in f||i)){c(!0);try{let e=yield l(r,g),s=e==null?void 0:e.username;m(o=>{var n;let t=d(a({},o),{[r]:{address:(n=e==null?void 0:e.address)!=null?n:"",username:s?String(T(s)):"",rawUsername:s!=null?s:""}});return u=t,t})}catch(e){m(s=>d(a({},s),{[r]:null}))}c(!1)}}),fetchUsernameByAddress:r=>A(this,null,function*(){if(!(Object.values(f).find(e=>e&&e.address===r)||i)){c(!0);try{let e=g||(yield y()),s=yield p(r,e.baseURL),o=s==null?void 0:s.address,t=s==null?void 0:s.username,n=T(t);if(!o||!n)return;m(B=>{let h=d(a({},B),{[n]:{address:o,username:String(n),rawUsername:t!=null?t:""}});return u=h,h})}catch(e){console.error(e)}c(!1)}}),fetchingUsernameAccount:i}}export{k as a};
//# sourceMappingURL=chunk-HWZ5KA5F.js.map
